/*! For license information please see cross-tester.js.LICENSE.txt */
(()=>{var e,t,n,s,r,i,o={1581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const s=n(7159),r=n(3924),i=n(1240),o=n(98),a=["/properties"],c="http://json-schema.org/draft-07/schema";class l extends s.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=n(4815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(3487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})},7023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=s;class r extends n{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof s&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const n=[e[0]];let s=0;for(;s<t.length;)c(n,t[s]),n.push(e[++s]);return new r(n)}t._Code=r,t.nil=new r(""),t._=i;const o=new r("+");function a(e,...t){const n=[u(e[0])];let s=0;for(;s<t.length;)n.push(o),c(n,t[s]),n.push(o,u(e[++s]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const n=l(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function c(e,t){var n;t instanceof r?e.push(...t._items):t instanceof s?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function l(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof s||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof s?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new r(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new r(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new r(e.toString())}},3487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const s=n(7023),r=n(8490);var i=n(7023);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var o=n(8490);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),t.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?r.varKinds.var:this.varKind,s=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,e,t)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class l extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof s.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=T(this.rhs,e,t),this}get names(){return A(this.lhs instanceof s.Name?{}:{...this.lhs.names},this.rhs)}}class u extends l{constructor(e,t,n,s){super(e,n,s),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=T(this.code,e,t),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let s=n.length;for(;s--;){const r=n[s];r.optimizeNames(e,t)||(P(e,r.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>C(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends m{}class v extends g{}v.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(I(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=T(this.condition,e,t),this}get names(){const e=super.names;return A(e,this.condition),this.else&&C(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class $ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=T(this.iteration,e,t),this}get names(){return C(super.names,this.iteration.names)}}class x extends w{constructor(e,t,n,s){super(),this.varKind=e,this.name=t,this.from=n,this.to=s}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:n,from:s,to:i}=this;return`for(${t} ${n}=${s}; ${n}<${i}; ${n}++)`+super.render(e)}get names(){const e=A(super.names,this.from);return A(e,this.to)}}class k extends w{constructor(e,t,n,s){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=T(this.iterable,e,t),this}get names(){return C(super.names,this.iterable.names)}}class _ extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}_.kind="func";class E extends m{render(e){return"return "+super.render(e)}}E.kind="return";class S extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,s;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(s=this.finally)||void 0===s||s.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&C(e,this.catch.names),this.finally&&C(e,this.finally.names),e}}class N extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}N.kind="catch";class O extends g{render(e){return"finally"+super.render(e)}}function C(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function A(e,t){return t instanceof s._CodeOrName?C(e,t.names):e}function T(e,t,n){return e instanceof s.Name?i(e):(r=e)instanceof s._Code&&r._items.some((e=>e instanceof s.Name&&1===t[e.str]&&void 0!==n[e.str]))?new s._Code(e._items.reduce(((e,t)=>(t instanceof s.Name&&(t=i(t)),t instanceof s._Code?e.push(...t._items):e.push(t),e)),[])):e;var r;function i(e){const s=n[e.str];return void 0===s||1!==t[e.str]?e:(delete t[e.str],s)}}function P(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:s._`!${M(e)}`}O.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,s){const r=this._scope.toName(t);return void 0!==n&&s&&(this._constants[r.str]=n),this._leafNode(new c(e,r,n)),r}const(e,t,n){return this._def(r.varKinds.const,e,t,n)}let(e,t,n){return this._def(r.varKinds.let,e,t,n)}var(e,t,n){return this._def(r.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new l(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==s.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,s.addCodeArg)(t,r));return t.push("}"),new s._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new $(e),t)}forRange(e,t,n,s,i=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const o=this._scope.toName(e);return this._for(new x(i,o,t,n),(()=>s(o)))}forOf(e,t,n,i=r.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof s.Name?t:this.var("_arr",t);return this.forRange("_i",0,s._`${e}.length`,(t=>{this.var(o,s._`${e}[${t}]`),n(o)}))}return this._for(new k("of",i,o,t),(()=>n(o)))}forIn(e,t,n,i=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,s._`Object.keys(${t})`,n);const o=this._scope.toName(e);return this._for(new k("in",i,o,t),(()=>n(o)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const s=new S;if(this._blockNode(s),this.code(e),t){const e=this.name("e");this._currNode=s.catch=new N(e),t(e)}return n&&(this._currNode=s.finally=new O,this.code(n)),this._endBlockNode(N,O)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=s.nil,n,r){return this._blockNode(new _(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const j=R(t.operators.AND);t.and=function(...e){return e.reduce(j)};const L=R(t.operators.OR);function R(e){return(t,n)=>t===s.nil?n:n===s.nil?t:s._`${M(t)} ${e} ${M(n)}`}function M(e){return e instanceof s.Name?e:s._`(${e})`}t.or=function(...e){return e.reduce(L)}},8490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const s=n(7023);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof s.Name?e:this.name(e)}name(e){return new s.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=o;class a extends s.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=s._`.${new s.Name(t)}[${n}]`}}t.ValueScopeName=a;const c=s._`\n`;t.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:s.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const s=this.toName(e),{prefix:r}=s,i=null!==(n=t.key)&&void 0!==n?n:t.ref;let o=this._values[r];if(o){const e=o.get(i);if(e)return e}else o=this._values[r]=new Map;o.set(i,s);const a=this._scope[r]||(this._scope[r]=[]),c=a.length;return a[c]=t.ref,s.setValue(t,{property:r,itemIndex:c}),s}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return s._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,o={},a){let c=s.nil;for(const l in e){const u=e[l];if(!u)continue;const d=o[l]=o[l]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,i.Started);let o=n(e);if(o){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;c=s._`${c}${n} ${e} = ${o};${this.opts._n}`}else{if(!(o=null==a?void 0:a(e)))throw new r(e);c=s._`${c}${o}${this.opts._n}`}d.set(e,i.Completed)}))}return c}}},4181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const s=n(3487),r=n(6776),i=n(2141);function o(e,t){const n=e.const("err",t);e.if(s._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,s._`[${n}]`)),s._`${i.default.vErrors}.push(${n})`),e.code(s._`${i.default.errors}++`)}function a(e,t){const{gen:n,validateName:r,schemaEnv:i}=e;i.$async?n.throw(s._`new ${e.ValidationError}(${t})`):(n.assign(s._`${r}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>s.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?s.str`"${e}" keyword must be ${t} ($data)`:s.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,n=t.keywordError,r,i){const{it:c}=e,{gen:u,compositeRule:d,allErrors:h}=c,p=l(e,n,r);(null!=i?i:d||h)?o(u,p):a(c,s._`[${p}]`)},t.reportExtraError=function(e,n=t.keywordError,s){const{it:r}=e,{gen:c,compositeRule:u,allErrors:d}=r;o(c,l(e,n,s)),u||d||a(r,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(s._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(s._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:n,data:r,errsCount:o,it:a}){if(void 0===o)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",o,i.default.errors,(o=>{e.const(c,s._`${i.default.vErrors}[${o}]`),e.if(s._`${c}.instancePath === undefined`,(()=>e.assign(s._`${c}.instancePath`,(0,s.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(s._`${c}.schemaPath`,s.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(s._`${c}.schema`,n),e.assign(s._`${c}.data`,r))}))};const c={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function l(e,t,n){const{createErrors:r}=e.it;return!1===r?s._`{}`:function(e,t,n={}){const{gen:r,it:o}=e,a=[u(o,n),d(e,n)];return function(e,{params:t,message:n},r){const{keyword:o,data:a,schemaValue:l,it:u}=e,{opts:d,propertyName:h,topSchemaRef:p,schemaPath:f}=u;r.push([c.keyword,o],[c.params,"function"==typeof t?t(e):t||s._`{}`]),d.messages&&r.push([c.message,"function"==typeof n?n(e):n]),d.verbose&&r.push([c.schema,l],[c.parentSchema,s._`${p}${f}`],[i.default.data,a]),h&&r.push([c.propertyName,h])}(e,t,a),r.object(...a)}(e,t,n)}function u({errorPath:e},{instancePath:t}){const n=t?s.str`${e}${(0,r.getErrorPath)(t,r.Type.Str)}`:e;return[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,n)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:i}){let o=i?t:s.str`${t}/${e}`;return n&&(o=s.str`${o}${(0,r.getErrorPath)(n,r.Type.Str)}`),[c.schemaPath,o]}},5173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const s=n(3487),r=n(7426),i=n(2141),o=n(2531),a=n(6776),c=n(4815);class l{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,o.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function u(e){const t=h.call(this,e);if(t)return t;const n=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:l}=this.opts.code,{ownProperties:u}=this.opts,d=new s.CodeGen(this.scope,{es5:a,lines:l,ownProperties:u});let p;e.$async&&(p=d.scopeValue("Error",{ref:r.default,code:s._`require("ajv/dist/runtime/validation_error").default`}));const f=d.scopeName("validate");e.validateName=f;const m={gen:d,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,s.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:s.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:s._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,c.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${i.default.self}`,`${i.default.scope}`,g)(this,this.scope.get());if(this.scope.value(f,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:f,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof s.Name?void 0:e,items:t instanceof s.Name?void 0:t,dynamicProps:e instanceof s.Name,dynamicItems:t instanceof s.Name},n.source&&(n.source.evaluated=(0,s.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,o.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function h(e){for(const s of this._compilations)if(n=e,(t=s).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return s;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||f.call(this,e,t)}function f(e,t){const n=this.opts.uriResolver.parse(t),s=(0,o._getFullPath)(this.opts.uriResolver,n);let r=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===r)return g.call(this,n,e);const i=(0,o.normalizeId)(s),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=f.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,n,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),i===(0,o.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,s=t[n];return s&&(r=(0,o.resolveUrl)(this.opts.uriResolver,r,s)),new l({schema:t,schemaId:n,root:e,baseId:r})}return g.call(this,n,a)}}t.SchemaEnv=l,t.compileSchema=u,t.resolveRef=function(e,t,n){var s;n=(0,o.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let i=p.call(this,e,n);if(void 0===i){const r=null===(s=e.localRefs)||void 0===s?void 0:s[n],{schemaId:o}=this.opts;r&&(i=new l({schema:r,schemaId:o,root:e,baseId:t}))}return void 0!==i?e.refs[n]=d.call(this,i):void 0},t.getCompilingSchema=h,t.resolveSchema=f;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:n,root:s}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const s of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,a.unescapeFragment)(s)];if(void 0===e)return;const r="object"==typeof(n=e)&&n[this.opts.schemaId];!m.has(s)&&r&&(t=(0,o.resolveUrl)(this.opts.uriResolver,t,r))}let i;if("boolean"!=typeof n&&n.$ref&&!(0,a.schemaHasRulesButRef)(n,this.RULES)){const e=(0,o.resolveUrl)(this.opts.uriResolver,t,n.$ref);i=f.call(this,s,e)}const{schemaId:c}=this.opts;return i=i||new l({schema:n,schemaId:c,root:s,baseId:t}),i.schema!==i.root.schema?i:void 0}},2141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r={data:new s.Name("data"),valCxt:new s.Name("valCxt"),instancePath:new s.Name("instancePath"),parentData:new s.Name("parentData"),parentDataProperty:new s.Name("parentDataProperty"),rootData:new s.Name("rootData"),dynamicAnchors:new s.Name("dynamicAnchors"),vErrors:new s.Name("vErrors"),errors:new s.Name("errors"),this:new s.Name("this"),self:new s.Name("self"),scope:new s.Name("scope"),json:new s.Name("json"),jsonPos:new s.Name("jsonPos"),jsonLen:new s.Name("jsonLen"),jsonPart:new s.Name("jsonPart")};t.default=r},6646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2531);class r extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,s.resolveUrl)(e,t,n),this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(e,this.missingRef))}}t.default=r},2531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const s=n(6776),r=n(4063),i=n(9461),o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&l(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function l(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!o.has(n)&&("object"==typeof e[n]&&(0,s.eachItem)(e[n],(e=>t+=l(e))),t===1/0))return 1/0}return t}function u(e,t="",n){!1!==n&&(t=p(t));const s=e.parse(t);return d(e,s)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const h=/#\/?$/;function p(e){return e?e.replace(h,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const f=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:s}=this.opts,o=p(e[n]||t),a={"":o},c=u(s,o,!1),l={},d=new Set;return i(e,{allKeys:!0},((e,t,s,r)=>{if(void 0===r)return;const i=c+t;let o=a[r];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(o?n(o,t):t),d.has(t))throw m(t);d.add(t);let s=this.refs[t];return"string"==typeof s&&(s=this.refs[s]),"object"==typeof s?h(e,s.schema,t):t!==p(i)&&("#"===t[0]?(h(e,l[t],t),l[t]=e):this.refs[t]=i),t}function g(e){if("string"==typeof e){if(!f.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(o=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=o})),l;function h(e,t,n){if(void 0!==t&&!r(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},3141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},6776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const s=n(3487),r=n(7023);function i(e,t=e.schema){const{opts:n,self:s}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const r=s.RULES.keywords;for(const n in t)r[n]||f(e,`unknown keyword: "${n}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,o,a,c)=>{const l=void 0===a?o:a instanceof s.Name?(o instanceof s.Name?e(i,o,a):t(i,o,a),a):o instanceof s.Name?(t(i,a,o),o):n(o,a);return c!==s.Name||l instanceof s.Name?l:r(i,l)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",s._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(s._`${t}${(0,s.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return s._`${n}`}return s._`${e}${t}${(0,s.getProperty)(r)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:l({mergeNames:(e,t,n)=>e.if(s._`${n} !== true && ${t} !== undefined`,(()=>{e.if(s._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,s._`${n} || {}`).code(s._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(s._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,s._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:l({mergeNames:(e,t,n)=>e.if(s._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,s._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(s._`${n} !== true`,(()=>e.assign(n,!0===t||s._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const h={};var p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new r._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p=t.Type||(t.Type={})),t.getErrorPath=function(e,t,n){if(e instanceof s.Name){const r=t===p.Num;return n?r?s._`"[" + ${e} + "]"`:s._`"['" + ${e} + "']"`:r?s._`"/" + ${e}`:s._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,s.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=f},8876:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>s(e,t)))}function s(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},s){const r=t.RULES.types[s];return r&&!0!==r&&n(e,r)},t.shouldUseGroup=n,t.shouldUseRule=s},5667:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const s=n(4181),r=n(3487),i=n(2141),o={message:"boolean schema is false"};function a(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,s.reportError)(i,o,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:s}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign(r._`${s}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:s}=e;!1===s?(n.var(t,!1),a(e)):n.var(t,!0)}},453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const s=n(3141),r=n(8876),i=n(4181),o=n(3487),a=n(6776);var c;function l(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(s.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=l(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=l,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:s,opts:i}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),l=t.length>0&&!(0===a.length&&1===t.length&&(0,r.schemaHasRulesForType)(e,t[0]));if(l){const r=h(t,s,i.strictNumbers,c.Wrong);n.if(r,(()=>{a.length?function(e,t,n){const{gen:s,data:r,opts:i}=e,a=s.let("dataType",o._`typeof ${r}`),c=s.let("coerced",o._`undefined`);"array"===i.coerceTypes&&s.if(o._`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,(()=>s.assign(r,o._`${r}[0]`).assign(a,o._`typeof ${r}`).if(h(t,r,i.strictNumbers),(()=>s.assign(c,r))))),s.if(o._`${c} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&l(e);function l(e){switch(e){case"string":return void s.elseIf(o._`${a} == "number" || ${a} == "boolean"`).assign(c,o._`"" + ${r}`).elseIf(o._`${r} === null`).assign(c,o._`""`);case"number":return void s.elseIf(o._`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(c,o._`+${r}`);case"integer":return void s.elseIf(o._`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(c,o._`+${r}`);case"boolean":return void s.elseIf(o._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(c,!1).elseIf(o._`${r} === "true" || ${r} === 1`).assign(c,!0);case"null":return s.elseIf(o._`${r} === "" || ${r} === 0 || ${r} === false`),void s.assign(c,null);case"array":s.elseIf(o._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(c,o._`[${r}]`)}}s.else(),f(e),s.endIf(),s.if(o._`${c} !== undefined`,(()=>{s.assign(r,c),function({gen:e,parentData:t,parentDataProperty:n},s){e.if(o._`${t} !== undefined`,(()=>e.assign(o._`${t}[${n}]`,s)))}(e,c)}))}(e,t,a):f(e)}))}return l};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,s=c.Correct){const r=s===c.Correct?o.operators.EQ:o.operators.NEQ;let i;switch(e){case"null":return o._`${t} ${r} null`;case"array":i=o._`Array.isArray(${t})`;break;case"object":i=o._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(o._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return o._`typeof ${t} ${r} ${e}`}return s===c.Correct?i:(0,o.not)(i);function a(e=o.nil){return(0,o.and)(o._`typeof ${t} == "number"`,e,n?o._`isFinite(${t})`:o.nil)}}function h(e,t,n,s){if(1===e.length)return d(e[0],t,n,s);let r;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=o._`typeof ${t} != "object"`;r=i.null?e:o._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else r=o.nil;i.number&&delete i.integer;for(const e in i)r=(0,o.and)(r,d(e,t,n,s));return r}t.checkDataType=d,t.checkDataTypes=h;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?o._`{type: ${e}}`:o._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:s}=e,r=(0,a.schemaRefOrVal)(e,s,"type");return{gen:t,keyword:"type",data:n,schema:s.type,schemaCode:r,schemaValue:r,parentSchema:s,params:{},it:e}}(e);(0,i.reportError)(t,p)}t.reportTypeError=f},313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const s=n(3487),r=n(6776);function i(e,t,n){const{gen:i,compositeRule:o,data:a,opts:c}=e;if(void 0===n)return;const l=s._`${a}${(0,s.getProperty)(t)}`;if(o)return void(0,r.checkStrictMode)(e,`default is ignored for: ${l}`);let u=s._`${l} === undefined`;"empty"===c.useDefaults&&(u=s._`${u} || ${l} === null || ${l} === ""`),i.if(u,s._`${l} = ${(0,s.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:s}=e.schema;if("object"===t&&n)for(const t in n)i(e,t,n[t].default);else"array"===t&&Array.isArray(s)&&s.forEach(((t,n)=>i(e,n,t.default)))}},4815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const s=n(5667),r=n(453),i=n(8876),o=n(453),a=n(313),c=n(5005),l=n(3099),u=n(3487),d=n(2141),h=n(2531),p=n(6776),f=n(4181);function m({gen:e,validateName:t,schema:n,schemaEnv:s,opts:r},i){r.code.es5?e.func(t,u._`${d.default.data}, ${d.default.valCxt}`,s.$async,(()=>{e.code(u._`"use strict"; ${g(n,r)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(e,r),e.code(i)})):e.func(t,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(r)}`,s.$async,(()=>e.code(g(n,r)).code(i)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function y({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function b(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:s,self:r}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function w(e,t){if(e.opts.jtd)return x(e,[],!1,t);const n=(0,r.getSchemaTypes)(e.schema);x(e,n,!(0,r.coerceAndCheckDataType)(e,n),t)}function $({gen:e,schemaEnv:t,schema:n,errSchemaPath:s,opts:r}){const i=n.$comment;if(!0===r.$comment)e.code(u._`${d.default.self}.logger.log(${i})`);else if("function"==typeof r.$comment){const n=u.str`${s}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(u._`${d.default.self}.opts.$comment(${i}, ${n}, ${r}.schema)`)}}function x(e,t,n,s){const{gen:r,schema:a,data:c,allErrors:l,opts:h,self:f}=e,{RULES:m}=f;function g(p){(0,i.shouldUseGroup)(a,p)&&(p.type?(r.if((0,o.checkDataType)(p.type,c,h.strictNumbers)),k(e,p),1===t.length&&t[0]===p.type&&n&&(r.else(),(0,o.reportTypeError)(e)),r.endIf()):k(e,p),l||r.if(u._`${d.default.errors} === ${s||0}`))}!a.$ref||!h.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,m)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{_(e.dataTypes,t)||E(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>_(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&E(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const s in n){const r=n[s];if("object"==typeof r&&(0,i.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>{return s=e,(n=t).includes(s)||"number"===s&&n.includes("integer");var n,s}))&&E(e,`missing type "${n.join(",")}" for keyword "${s}"`)}}}(e,e.dataTypes))}(e,t),r.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):r.block((()=>N(e,"$ref",m.all.$ref.definition)))}function k(e,t){const{gen:n,schema:s,opts:{useDefaults:r}}=e;r&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,i.shouldUseRule)(s,n)&&N(e,n.keyword,n.definition,t.type)}))}function _(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function E(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){v(e)&&(b(e),y(e))?function(e){const{schema:t,opts:n,gen:s}=e;m(e,(()=>{n.$comment&&t.$comment&&$(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),s.let(d.default.vErrors,null),s.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:n,validateName:s,ValidationError:r,opts:i}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${r}(${d.default.vErrors})`))):(t.assign(u._`${s}.errors`,d.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:n,items:s}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),s instanceof u.Name&&e.assign(u._`${t}.items`,s)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,s.topBoolOrEmptySchema)(e)))};class S{constructor(e,t,n){if((0,c.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",A(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:r,def:i}=this;n.if((0,u.or)(u._`${s} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(r.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:s,it:r}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,o.checkDataTypes)(e,t,r.opts.strictNumbers,o.DataType.Wrong)}`}return u.nil}(),function(){if(s.validateSchema){const n=e.scopeValue("validate$data",{ref:s.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,l.getSubschema)(this.it,e);(0,l.extendSubschemaData)(n,this.it,e),(0,l.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return function(e,t){v(e)&&(b(e),y(e))?function(e,t){const{schema:n,gen:s,opts:r}=e;r.$comment&&n.$comment&&$(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=s.const("_errs",d.default.errors);w(e,i),s.var(t,u._`${i} === ${d.default.errors}`)}(e,t):(0,s.boolOrEmptySchema)(e,t)}(r,t),r}mergeEvaluated(e,t){const{it:n,gen:s}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(s,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(s,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return s.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function N(e,t,n,s){const r=new S(e,n,t);"code"in n?n.code(r,s):r.$data&&n.validate?(0,c.funcKeywordCode)(r,n):"macro"in n?(0,c.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,c.funcKeywordCode)(r,n)}t.KeywordCxt=S;const O=/^\/(?:[^~]|~0|~1)*$/,C=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function A(e,{dataLevel:t,dataNames:n,dataPathArr:s}){let r,i;if(""===e)return d.default.rootData;if("/"===e[0]){if(!O.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,i=d.default.rootData}else{const o=C.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+o[1];if(r=o[2],"#"===r){if(a>=t)throw new Error(c("property/index",a));return s[t-a]}if(a>t)throw new Error(c("data",a));if(i=n[t-a],!r)return i}let o=i;const a=r.split("/");for(const e of a)e&&(i=u._`${i}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`,o=u._`${o} && ${i}`);return o;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=A},5005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const s=n(3487),r=n(2141),i=n(412),o=n(4181);function a(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,s._`${r.parentData}[${r.parentDataProperty}]`)))}function c(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,s.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:a}=e,l=t.macro.call(a.self,i,o,a),u=c(n,r,l);!1!==a.opts.validateSchema&&a.self.validateSchema(l,!0);const d=n.name("valid");e.subschema({schema:l,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:l,keyword:u,schema:d,parentSchema:h,$data:p,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(f,t);const m=!p&&t.compile?t.compile.call(f.self,d,h,f):t.validate,g=c(l,u,m),y=l.let("valid");function v(n=(t.async?s._`await `:s.nil)){const o=f.opts.passContext?r.default.this:r.default.self,a=!("compile"in t&&!p||!1===t.schema);l.assign(y,s._`${n}${(0,i.callValidateCode)(e,g,o,a)}`,t.modifying)}function b(e){var n;l.if((0,s.not)(null!==(n=t.valid)&&void 0!==n?n:y),e)}e.block$data(y,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=l.let("ruleErrs",null);return l.try((()=>v(s._`await `)),(t=>l.assign(y,!1).if(s._`${t} instanceof ${f.ValidationError}`,(()=>l.assign(e,s._`${t}.errors`)),(()=>l.throw(t))))),e}():function(){const e=s._`${g}.errors`;return l.assign(e,null),v(s.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(s._`Array.isArray(${t})`,(()=>{n.assign(r.default.vErrors,s._`${r.default.vErrors} === null ? ${t} : ${r.default.vErrors}.concat(${t})`).assign(r.default.errors,s._`${r.default.vErrors}.length`),(0,o.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:y)},t.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:s},r,i){if(Array.isArray(r.keyword)?!r.keyword.includes(i):r.keyword!==i)throw new Error("ajv implementation error");const o=r.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(r.validateSchema&&!r.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${s}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}},3099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const s=n(3487),r=n(6776);t.getSubschema=function(e,{keyword:t,schemaProp:n,schema:i,schemaPath:o,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===n?{schema:i,schemaPath:s._`${e.schemaPath}${(0,s.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[n],schemaPath:s._`${e.schemaPath}${(0,s.getProperty)(t)}${(0,s.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r.escapeFragment)(n)}`}}if(void 0!==i){if(void 0===o||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:o,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:i,data:o,dataTypes:a,propertyName:c}){if(void 0!==o&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(void 0!==n){const{errorPath:o,dataPathArr:a,opts:c}=t;u(l.let("data",s._`${t.data}${(0,s.getProperty)(n)}`,!0)),e.errorPath=s.str`${o}${(0,r.getErrorPath)(n,i,c.jsPropertySyntax)}`,e.parentDataProperty=s._`${n}`,e.dataPathArr=[...a,e.parentDataProperty]}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==o&&(u(o instanceof s.Name?o:l.let("data",o,!0)),void 0!==c&&(e.propertyName=c)),a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:s,createErrors:r,allErrors:i}){void 0!==s&&(e.compositeRule=s),void 0!==r&&(e.createErrors=r),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=n}},7159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var s=n(4815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var r=n(3487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=n(7426),o=n(6646),a=n(3141),c=n(5173),l=n(3487),u=n(2531),d=n(453),h=n(6776),p=n(4775),f=n(3589),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,s,r,i,o,a,c,l,u,d,h,p,g,y,v,b,w,$,x,k,_,E,S,N;const O=e.strict,C=null===(t=e.code)||void 0===t?void 0:t.optimize,A=!0===C||void 0===C?1:C||0,T=null!==(s=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==s?s:m,P=null!==(r=e.uriResolver)&&void 0!==r?r:f.default;return{strictSchema:null===(o=null!==(i=e.strictSchema)&&void 0!==i?i:O)||void 0===o||o,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:O)||void 0===c||c,strictTypes:null!==(u=null!==(l=e.strictTypes)&&void 0!==l?l:O)&&void 0!==u?u:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:O)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:O)&&void 0!==g&&g,code:e.code?{...e.code,optimize:A,regExp:T}:{optimize:A,regExp:T},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===($=e.inlineRefs)||void 0===$||$,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(k=e.addUsedSchema)||void 0===k||k,validateSchema:null===(_=e.validateSchema)||void 0===_||_,validateFormats:null===(E=e.validateFormats)||void 0===E||E,unicodeRegExp:null===(S=e.unicodeRegExp)||void 0===S||S,int32range:null===(N=e.int32range)||void 0===N||N,uriResolver:P}}class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:y,es5:t,lines:n}),this.logger=function(e){if(!1===e)return O;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),x.call(this,v,e,"NOT SUPPORTED"),x.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=N.call(this),e.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&S.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),_.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let s=p;"id"===n&&(s={...p},s.id=s.$id,delete s.$id),t&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const s=n(t);return"$async"in n||(this.errors=n.errors),s}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return s.call(this,e,t);async function s(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await s.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await l.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function l(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,s);return this}let r;if("object"==typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,s,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(n,e);if(!s&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return s}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,s=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,s,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(A.call(this,n,t),!t)return(0,h.eachItem)(n,(e=>T.call(this,e))),this;I.call(this,t);const s={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(n,0===s.type.length?e=>T.call(this,e,s):e=>s.type.forEach((t=>T.call(this,e,s,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const s of t){const t=s.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:s}=t.definition,i=r[e];s&&i&&(r[e]=L(i))}}return e}_removeAllSchemas(e,t){for(const n in e){const s=e[n];t&&!t.test(n)||("string"==typeof s?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,t,n,s=this.opts.validateSchema,r=this.opts.addUsedSchema){let i;const{schemaId:o}=this.opts;if("object"==typeof e)i=e[o];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(i||n);const l=u.getSchemaRefs.call(this,e,n);return a=new c.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:n,localRefs:l}),this._cache.set(a.schema,a),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),s&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,n,s="error"){for(const r in e){const i=r;i in t&&this.logger[s](`${n}: option ${r}. ${e[i]}`)}}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function _(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function E(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function S(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function N(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=$,$.ValidationError=i.default,$.MissingRefError=o.default;const O={log(){},warn(){},error(){}},C=/^[a-z_$][a-z0-9_$:-]*$/i;function A(e,t){const{RULES:n}=this;if((0,h.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!C.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function T(e,t,n){var s;const r=null==t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let o=r?i.post:i.rules.find((({type:e})=>e===n));if(o||(o={type:n,rules:[]},i.rules.push(o)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?P.call(this,o,a,t.before):o.rules.push(a),i.all[e]=a,null===(s=t.implements)||void 0===s||s.forEach((e=>this.addKeyword(e)))}function P(e,t,n){const s=e.rules.findIndex((e=>e.keyword===n));s>=0?e.rules.splice(s,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function I(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=L(t)),e.validateSchema=this.compile(t,!0))}const j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(e){return{anyOf:[e,j]}}},3510:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4063);s.code='require("ajv/dist/runtime/equal").default',t.default=s},4499:(e,t)=>{"use strict";function n(e){const t=e.length;let n,s=0,r=0;for(;r<t;)s++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320==(64512&n)&&r++);return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},3589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(540);s.code='require("ajv/dist/runtime/uri").default',t.default=s},7426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},4783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const s=n(3487),r=n(6776),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>s.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>s._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:s}=t;Array.isArray(s)?o(e,s):(0,r.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function o(e,t){const{gen:n,schema:i,data:o,keyword:a,it:c}=e;c.items=!0;const l=n.const("len",s._`${o}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(s._`${l} <= ${t.length}`);else if("object"==typeof i&&!(0,r.alwaysValidSchema)(c,i)){const i=n.var("valid",s._`${l} <= ${t.length}`);n.if((0,s.not)(i),(()=>function(i){n.forRange("i",t.length,l,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:r.Type.Num},i),c.allErrors||n.if((0,s.not)(i),(()=>n.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=o,t.default=i},9351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(412),r=n(3487),i=n(2141),o=n(6776),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:a,data:c,errsCount:l,it:u}=e;if(!l)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=u;if(u.props=!0,"all"!==h.removeAdditional&&(0,o.alwaysValidSchema)(u,n))return;const p=(0,s.allSchemaProperties)(a.properties),f=(0,s.allSchemaProperties)(a.patternProperties);function m(e){t.code(r._`delete ${c}[${e}]`)}function g(s){if("all"===h.removeAdditional||h.removeAdditional&&!1===n)m(s);else{if(!1===n)return e.setParams({additionalProperty:s}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,o.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===h.removeAdditional?(y(s,n,!1),t.if((0,r.not)(n),(()=>{e.reset(),m(s)}))):(y(s,n),d||t.if((0,r.not)(n),(()=>t.break())))}}}function y(t,n,s){const r={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};!1===s&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",c,(n=>{p.length||f.length?t.if(function(n){let i;if(p.length>8){const e=(0,o.schemaRefOrVal)(u,a.properties,"properties");i=(0,s.isOwnProperty)(t,e,n)}else i=p.length?(0,r.or)(...p.map((e=>r._`${n} === ${e}`))):r.nil;return f.length&&(i=(0,r.or)(i,...f.map((t=>r._`${(0,s.usePattern)(e,t)}.test(${n})`)))),(0,r.not)(i)}(n),(()=>g(n))):g(n)})),e.ok(r._`${l} === ${i.default.errors}`)}};t.default=a},1125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6776),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach(((t,n)=>{if((0,s.alwaysValidSchema)(r,t))return;const o=e.subschema({keyword:"allOf",schemaProp:n},i);e.ok(i),e.mergeEvaluated(o)}))}};t.default=r},19:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(412).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=s},9864:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?s.str`must contain at least ${e} valid item(s)`:s.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?s._`{minContains: ${e}}`:s._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:i,data:o,it:a}=e;let c,l;const{minContains:u,maxContains:d}=i;a.opts.next?(c=void 0===u?1:u,l=d):c=1;const h=t.const("len",s._`${o}.length`);if(e.setParams({min:c,max:l}),void 0===l&&0===c)return void(0,r.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==l&&c>l)return(0,r.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,r.alwaysValidSchema)(a,n)){let t=s._`${h} >= ${c}`;return void 0!==l&&(t=s._`${t} && ${h} <= ${l}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(s._`${e}++`),void 0===l?t.if(s._`${e} >= ${c}`,(()=>t.assign(p,!0).break())):(t.if(s._`${e} > ${l}`,(()=>t.assign(p,!1).break())),1===c?t.assign(p,!0):t.if(s._`${e} >= ${c}`,(()=>t.assign(p,!0))))}(n)))))}function m(n,s){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},n),s()}))}void 0===l&&1===c?m(p,(()=>t.if(p,(()=>t.break())))):0===c?(t.let(p,!0),void 0!==l&&t.if(s._`${o}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t.default=i},7772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const s=n(3487),r=n(6776),i=n(412);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const r=1===t?"property":"properties";return s.str`must have ${r} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:r}})=>s._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${n}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const s in e)"__proto__"!==s&&((Array.isArray(e[s])?t:n)[s]=e[s]);return[t,n]}(e);a(e,t),c(e,n)}};function a(e,t=e.schema){const{gen:n,data:r,it:o}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const c in t){const l=t[c];if(0===l.length)continue;const u=(0,i.propertyInData)(n,r,c,o.opts.ownProperties);e.setParams({property:c,depsCount:l.length,deps:l.join(", ")}),o.allErrors?n.if(u,(()=>{for(const t of l)(0,i.checkReportMissingProp)(e,t)})):(n.if(s._`${u} && (${(0,i.checkMissingProp)(e,l,a)})`),(0,i.reportMissingProp)(e,a),n.else())}}function c(e,t=e.schema){const{gen:n,data:s,keyword:o,it:a}=e,c=n.name("valid");for(const l in t)(0,r.alwaysValidSchema)(a,t[l])||(n.if((0,i.propertyInData)(n,s,l,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:l},c);e.mergeValidEvaluated(t,c)}),(()=>n.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=o},9434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>s.str`must match "${e.ifClause}" schema`,params:({params:e})=>s._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&(0,r.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=o(i,"then"),c=o(i,"else");if(!a&&!c)return;const l=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else a?t.if(u,d("then")):t.if((0,s.not)(u),d("else"));function d(n,r){return()=>{const i=e.subschema({keyword:n},u);t.assign(l,u),e.mergeValidEvaluated(i,l),r?t.assign(r,s._`${n}`):e.setParams({ifClause:n})}}e.pass(l,(()=>e.error(!0)))}};function o(e,t){const n=e.schema[t];return void 0!==n&&!(0,r.alwaysValidSchema)(e,n)}t.default=i},8200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4783),r=n(2924),i=n(4665),o=n(1119),a=n(9864),c=n(7772),l=n(3708),u=n(9351),d=n(6239),h=n(2296),p=n(5697),f=n(19),m=n(4200),g=n(1125),y=n(9434),v=n(6552);t.default=function(e=!1){const t=[p.default,f.default,m.default,g.default,y.default,v.default,l.default,u.default,c.default,d.default,h.default];return e?t.push(r.default,o.default):t.push(s.default,i.default),t.push(a.default),t}},4665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const s=n(3487),r=n(6776),i=n(412),o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,r.alwaysValidSchema)(n,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,n=e.schema){const{gen:i,parentSchema:o,data:a,keyword:c,it:l}=e;!function(e){const{opts:s,errSchemaPath:i}=l,o=n.length,a=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(s.strictTuples&&!a){const e=`"${c}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,r.checkStrictMode)(l,e,s.strictTuples)}}(o),l.opts.unevaluated&&n.length&&!0!==l.items&&(l.items=r.mergeEvaluated.items(i,n.length,l.items));const u=i.name("valid"),d=i.const("len",s._`${a}.length`);n.forEach(((t,n)=>{(0,r.alwaysValidSchema)(l,t)||(i.if(s._`${d} > ${n}`,(()=>e.subschema({keyword:c,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=o},1119:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i=n(412),o=n(4783),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>s.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>s._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:s}=e,{prefixItems:a}=n;s.items=!0,(0,r.alwaysValidSchema)(s,t)||(a?(0,o.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},5697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6776),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,s.alwaysValidSchema)(r,n))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=r},4200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>s._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:i,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(o.opts.discriminator&&i.discriminator)return;const a=n,c=t.let("valid",!1),l=t.let("passing",null),u=t.name("_valid");e.setParams({passing:l}),t.block((function(){a.forEach(((n,i)=>{let a;(0,r.alwaysValidSchema)(o,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},u),i>0&&t.if(s._`${u} && ${c}`).assign(c,!1).assign(l,s._`[${l}, ${i}]`).else(),t.if(u,(()=>{t.assign(c,!0),t.assign(l,i),a&&e.mergeEvaluated(a,s.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},2296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(412),r=n(3487),i=n(6776),o=n(6776),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:c,it:l}=e,{opts:u}=l,d=(0,s.allSchemaProperties)(n),h=d.filter((e=>(0,i.alwaysValidSchema)(l,n[e])));if(0===d.length||h.length===d.length&&(!l.opts.unevaluated||!0===l.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&c.properties,f=t.name("valid");!0===l.props||l.props instanceof r.Name||(l.props=(0,o.evaluatedPropsToName)(t,l.props));const{props:m}=l;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,i.checkStrictMode)(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function y(n){t.forIn("key",a,(i=>{t.if(r._`${(0,s.usePattern)(e,n)}.test(${i})`,(()=>{const s=h.includes(n);s||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:i,dataPropType:o.Type.Str},f),l.opts.unevaluated&&!0!==m?t.assign(r._`${m}[${i}]`,!0):s||l.allErrors||t.if((0,r.not)(f),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),l.allErrors?y(e):(t.var(f,!0),y(e),t.if(f))}()}};t.default=a},2924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4665),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,s.validateTuple)(e,"items")};t.default=r},6239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(4815),r=n(412),i=n(6776),o=n(9351),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:c,it:l}=e;"all"===l.opts.removeAdditional&&void 0===a.additionalProperties&&o.default.code(new s.KeywordCxt(l,o.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const e of u)l.definedProperties.add(e);l.opts.unevaluated&&u.length&&!0!==l.props&&(l.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),l.props));const d=u.filter((e=>!(0,i.alwaysValidSchema)(l,n[e])));if(0===d.length)return;const h=t.name("valid");for(const n of d)p(n)?f(n):(t.if((0,r.propertyInData)(t,c,n,l.opts.ownProperties)),f(n),l.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(h);function p(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},3708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>s._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:i,it:o}=e;if((0,r.alwaysValidSchema)(o,n))return;const a=t.name("valid");t.forIn("key",i,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,s.not)(a),(()=>{e.error(!0),o.allErrors||t.break()}))})),e.ok(a)}};t.default=i},6552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(6776),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,s.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t.default=r},412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const s=n(3487),r=n(6776),i=n(2141),o=n(6776);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:s._`Object.prototype.hasOwnProperty`})}function c(e,t,n){return s._`${a(e)}.call(${t}, ${n})`}function l(e,t,n,r){const i=s._`${t}${(0,s.getProperty)(n)} === undefined`;return r?(0,s.or)(i,(0,s.not)(c(e,t,n))):i}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:i}=e;n.if(l(n,r,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:s._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:n}},r,i){return(0,s.or)(...r.map((r=>(0,s.and)(l(e,t,r,n.ownProperties),s._`${i} = ${r}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,n,r){const i=s._`${t}${(0,s.getProperty)(n)} !== undefined`;return r?s._`${i} && ${c(e,t,n)}`:i},t.noPropertyInData=l,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,r.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:o,errorPath:a},it:c},l,u,d){const h=d?s._`${e}, ${t}, ${r}${o}`:t,p=[[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];c.opts.dynamicRef&&p.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const f=s._`${h}, ${n.object(...p)}`;return u!==s.nil?s._`${l}.call(${u}, ${f})`:s._`${l}(${f})`};const d=s._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(n,r);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:s._`${"new RegExp"===i.code?d:(0,o.useFunc)(e,i)}(${n}, ${r})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:o}=e,a=t.name("valid");if(o.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(o){const c=t.const("len",s._`${n}.length`);t.forRange("i",0,c,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:r.Type.Num},a),t.if((0,s.not)(a),o)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:i,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,r.alwaysValidSchema)(o,e)))&&!o.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const o=e.subschema({keyword:i,schemaProp:r,compositeRule:!0},c);t.assign(a,s._`${a} || ${c}`),e.mergeValidEvaluated(o,c)||t.if((0,s.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},8386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},5684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(8386),r=n(8280),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",s.default,r.default];t.default=i},8280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const s=n(6646),r=n(412),i=n(3487),o=n(2141),a=n(5173),c=n(6776),l={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:o,schemaEnv:c,validateName:l,opts:h,self:p}=r,{root:f}=c;if(("#"===n||"#/"===n)&&o===f.baseId)return function(){if(c===f)return d(e,l,c,c.$async);const n=t.scopeValue("root",{ref:f});return d(e,i._`${n}.validate`,f,f.$async)}();const m=a.resolveRef.call(p,f,o,n);if(void 0===m)throw new s.default(r.opts.uriResolver,o,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(s){const r=t.scopeValue("schema",!0===h.code.source?{ref:s,code:(0,i.stringify)(s)}:{ref:s}),o=t.name("valid"),a=e.subschema({schema:s,dataTypes:[],schemaPath:i.nil,topSchemaRef:r,errSchemaPath:n},o);e.mergeEvaluated(a),e.ok(o)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):i._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,s){const{gen:a,it:l}=e,{allErrors:u,schemaEnv:d,opts:h}=l,p=h.passContext?o.default.this:i.nil;function f(e){const t=i._`${e}.errors`;a.assign(o.default.vErrors,i._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`),a.assign(o.default.errors,i._`${o.default.vErrors}.length`)}function m(e){var t;if(!l.opts.unevaluated)return;const s=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==l.props)if(s&&!s.dynamicProps)void 0!==s.props&&(l.props=c.mergeEvaluated.props(a,s.props,l.props));else{const t=a.var("props",i._`${e}.evaluated.props`);l.props=c.mergeEvaluated.props(a,t,l.props,i.Name)}if(!0!==l.items)if(s&&!s.dynamicItems)void 0!==s.items&&(l.items=c.mergeEvaluated.items(a,s.items,l.items));else{const t=a.var("items",i._`${e}.evaluated.items`);l.items=c.mergeEvaluated.items(a,t,l.items,i.Name)}}s?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(i._`await ${(0,r.callValidateCode)(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(i._`!(${e} instanceof ${l.ValidationError})`,(()=>a.throw(e))),f(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,r.callValidateCode)(e,t,p),(()=>m(t)),(()=>f(t)))}t.getValidate=u,t.callRef=d,t.default=l},1240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(9306),i=n(5173),o=n(6776),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===r.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>s._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:a,parentSchema:c,it:l}=e,{oneOf:u}=c;if(!l.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=a.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),p=t.const("tag",s._`${n}${(0,s.getProperty)(d)}`);function f(n){const r=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(i,s.Name),r}t.if(s._`typeof ${p} == "string"`,(()=>function(){const n=function(){var e;const t={},n=r(c);let s=!0;for(let t=0;t<u.length;t++){let c=u[t];(null==c?void 0:c.$ref)&&!(0,o.schemaHasRulesButRef)(c,l.self.RULES)&&(c=i.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,null==c?void 0:c.$ref),c instanceof i.SchemaEnv&&(c=c.schema));const h=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[d];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);s=s&&(n||r(c)),a(h,t)}if(!s)throw new Error(`discriminator: "${d}" must be required`);return t;function r({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const n of e.enum)h(n,t)}}function h(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(s._`${p} === ${e}`),t.assign(h,f(n[e]));t.else(),e.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:d}))),e.ok(h)}};t.default=a},9306:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(n=t.DiscrError||(t.DiscrError={})).Tag="tag",n.Mapping="mapping"},3924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(5684),r=n(2649),i=n(8200),o=n(9502),a=n(6167),c=[s.default,r.default,(0,i.default)(),o.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},9651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>s.str`must match format "${e}"`,params:({schemaCode:e})=>s._`{format: ${e}}`},code(e,t){const{gen:n,data:r,$data:i,schema:o,schemaCode:a,it:c}=e,{opts:l,errSchemaPath:u,schemaEnv:d,self:h}=c;l.validateFormats&&(i?function(){const i=n.scopeValue("formats",{ref:h.formats,code:l.code.formats}),o=n.const("fDef",s._`${i}[${a}]`),c=n.let("fType"),u=n.let("format");n.if(s._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>n.assign(c,s._`${o}.type || "string"`).assign(u,s._`${o}.validate`)),(()=>n.assign(c,s._`"string"`).assign(u,o))),e.fail$data((0,s.or)(!1===l.strictSchema?s.nil:s._`${a} && !${u}`,function(){const e=d.$async?s._`(${o}.async ? await ${u}(${r}) : ${u}(${r}))`:s._`${u}(${r})`,n=s._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return s._`${u} && ${u} !== true && ${c} === ${t} && !${n}`}()))}():function(){const i=h.formats[o];if(!i)return void function(){if(!1!==l.strictSchema)throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${u}"`}h.logger.warn(e())}();if(!0===i)return;const[a,c,p]=function(e){const t=e instanceof RegExp?(0,s.regexpCode)(e):l.code.formats?s._`${l.code.formats}${(0,s.getProperty)(o)}`:void 0,r=n.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,r]:[e.type||"string",e.validate,s._`${r}.validate`]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw new Error("async format in sync schema");return s._`await ${p}(${r})`}return"function"==typeof c?s._`${p}(${r})`:s._`${p}.test(${r})`}())}())}};t.default=r},9502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=[n(9651).default];t.default=s},6167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},4693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i=n(3510),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>s._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:o,schemaCode:a,schema:c}=e;o||c&&"object"==typeof c?e.fail$data(s._`!${(0,r.useFunc)(t,i.default)}(${n}, ${a})`):e.fail(s._`${c} !== ${n}`)}};t.default=o},966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i=n(3510),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>s._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:o,schema:a,schemaCode:c,it:l}=e;if(!o&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=l.opts.loopEnum;let d;const h=()=>null!=d?d:d=(0,r.useFunc)(t,i.default);let p;if(u||o)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",c,(e=>t.if(s._`${h()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);p=(0,s.or)(...a.map(((t,r)=>function(e,t){const r=a[t];return"object"==typeof r&&null!==r?s._`${h()}(${n}, ${e}[${t}])`:s._`${n} === ${r}`}(e,r))))}e.pass(p)}};t.default=o},2649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3983),r=n(430),i=n(3229),o=n(4336),a=n(498),c=n(3301),l=n(1687),u=n(2958),d=n(4693),h=n(966),p=[s.default,r.default,i.default,o.default,a.default,c.default,l.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},1687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,i="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data(s._`${n}.length ${i} ${r}`)}};t.default=r},3229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=n(6776),i=n(4499),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:o,it:a}=e,c="maxLength"===t?s.operators.GT:s.operators.LT,l=!1===a.opts.unicode?s._`${n}.length`:s._`${(0,r.useFunc)(e.gen,i.default)}(${n})`;e.fail$data(s._`${l} ${c} ${o}`)}};t.default=o},3983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r=s.operators,i={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},o={message:({keyword:e,schemaCode:t})=>s.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>s._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:o,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(s._`${n} ${i[t].fail} ${r} || isNaN(${n})`)}};t.default=a},498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return s.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>s._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,i="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data(s._`Object.keys(${n}).length ${i} ${r}`)}};t.default=r},430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(3487),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>s.str`must be multiple of ${e}`,params:({schemaCode:e})=>s._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,a=t.let("res"),c=o?s._`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:s._`${a} !== parseInt(${a})`;e.fail$data(s._`(${r} === 0 || (${a} = ${n}/${r}, ${c}))`)}};t.default=r},4336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(412),r=n(3487),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>r.str`must match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:i,schemaCode:o,it:a}=e,c=a.opts.unicodeRegExp?"u":"",l=n?r._`(new RegExp(${o}, ${c}))`:(0,s.usePattern)(e,i);e.fail$data(r._`!${l}.test(${t})`)}};t.default=i},3301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(412),r=n(3487),i=n(6776),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>r.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:o,data:a,$data:c,it:l}=e,{opts:u}=l;if(!c&&0===n.length)return;const d=n.length>=u.loopRequired;if(l.allErrors?function(){if(d||c)e.block$data(r.nil,h);else for(const t of n)(0,s.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(d||c){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,i){e.setParams({missingProperty:n}),t.forOf(n,o,(()=>{t.assign(i,(0,s.propertyInData)(t,a,n,u.ownProperties)),t.if((0,r.not)(i),(()=>{e.error(),t.break()}))}),r.nil)}(i,n))),e.ok(n)}else t.if((0,s.checkMissingProp)(e,n,i)),(0,s.reportMissingProp)(e,i),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:s}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!s.has(e)){const t=`required property "${e}" is not defined at "${l.schemaEnv.baseId+l.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(l,t,l.opts.strictRequired)}}function h(){t.forOf("prop",o,(n=>{e.setParams({missingProperty:n}),t.if((0,s.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=o},2958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(453),r=n(3487),i=n(6776),o=n(3510),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>r.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:n,$data:a,schema:c,parentSchema:l,schemaCode:u,it:d}=e;if(!a&&!c)return;const h=t.let("valid"),p=l.items?(0,s.getSchemaTypes)(l.items):[];function f(i,o){const a=t.name("item"),c=(0,s.checkDataTypes)(p,a,d.opts.strictNumbers,s.DataType.Wrong),l=t.const("indices",r._`{}`);t.for(r._`;${i}--;`,(()=>{t.let(a,r._`${n}[${i}]`),t.if(c,r._`continue`),p.length>1&&t.if(r._`typeof ${a} == "string"`,r._`${a} += "_"`),t.if(r._`typeof ${l}[${a}] == "number"`,(()=>{t.assign(o,r._`${l}[${a}]`),e.error(),t.assign(h,!1).break()})).code(r._`${l}[${a}] = ${i}`)}))}function m(s,a){const c=(0,i.useFunc)(t,o.default),l=t.name("outer");t.label(l).for(r._`;${s}--;`,(()=>t.for(r._`${a} = ${s}; ${a}--;`,(()=>t.if(r._`${c}(${n}[${s}], ${n}[${a}])`,(()=>{e.error(),t.assign(h,!1).break(l)}))))))}e.block$data(h,(function(){const s=t.let("i",r._`${n}.length`),i=t.let("j");e.setParams({i:s,j:i}),t.assign(h,!0),t.if(r._`${s} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?f:m)(s,i)))}),r._`${u} === false`),e.ok(h)}};t.default=a},4063:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var s,r,i;if(Array.isArray(t)){if((s=t.length)!=n.length)return!1;for(r=s;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((s=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=s;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=s;0!=r--;){var o=i[r];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},6932:(e,t,n)=>{"use strict";const s=n(8501),r=n(8844),i=n(1192);e.exports={XMLParser:r,XMLValidator:s,XMLBuilder:i}},7849:(e,t)=>{"use strict";const n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const s=Object.keys(t),r=s.length;for(let i=0;i<r;i++)e[s[i]]="strict"===n?[t[s[i]]]:t[s[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const n=[];let s=t.exec(e);for(;s;){const r=[];r.startIndex=t.lastIndex-s[0].length;const i=s.length;for(let e=0;e<i;e++)r.push(s[e]);n.push(r),s=t.exec(e)}return n},t.nameRegexp=n},8501:(e,t,n)=>{"use strict";const s=n(7849),r={allowBooleanAttributes:!1,unpairedTags:[]};function i(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const s=e.substr(n,t-n);if(t>5&&"xml"===s)return h("InvalidXml","XML declaration allowed only at the start of the document.",f(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function c(e,t){let n="",s="",r=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===s?s=e[t]:s!==e[t]||(s="");else if(">"===e[t]&&""===s){r=!0;break}n+=e[t]}return""===s&&{value:n,index:t,tagClosed:r}}t.validate=function(e,t){t=Object.assign({},r,t);const n=[];let l=!1,p=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let r=0;r<e.length;r++)if("<"===e[r]&&"?"===e[r+1]){if(r+=2,r=o(e,r),r.err)return r}else{if("<"!==e[r]){if(i(e[r]))continue;return h("InvalidChar","char '"+e[r]+"' is not expected.",f(e,r))}{let g=r;if(r++,"!"===e[r]){r=a(e,r);continue}{let y=!1;"/"===e[r]&&(y=!0,r++);let v="";for(;r<e.length&&">"!==e[r]&&" "!==e[r]&&"\t"!==e[r]&&"\n"!==e[r]&&"\r"!==e[r];r++)v+=e[r];if(v=v.trim(),"/"===v[v.length-1]&&(v=v.substring(0,v.length-1),r--),m=v,!s.isName(m)){let t;return t=0===v.trim().length?"Invalid space after '<'.":"Tag '"+v+"' is an invalid name.",h("InvalidTag",t,f(e,r))}const b=c(e,r);if(!1===b)return h("InvalidAttr","Attributes for '"+v+"' have open quote.",f(e,r));let w=b.value;if(r=b.index,"/"===w[w.length-1]){const n=r-w.length;w=w.substring(0,w.length-1);const s=u(w,t);if(!0!==s)return h(s.err.code,s.err.msg,f(e,n+s.err.line));l=!0}else if(y){if(!b.tagClosed)return h("InvalidTag","Closing tag '"+v+"' doesn't have proper closing.",f(e,r));if(w.trim().length>0)return h("InvalidTag","Closing tag '"+v+"' can't have attributes or invalid starting.",f(e,g));{const t=n.pop();if(v!==t.tagName){let n=f(e,t.tagStartPos);return h("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+v+"'.",f(e,g))}0==n.length&&(p=!0)}}else{const s=u(w,t);if(!0!==s)return h(s.err.code,s.err.msg,f(e,r-w.length+s.err.line));if(!0===p)return h("InvalidXml","Multiple possible root nodes found.",f(e,r));-1!==t.unpairedTags.indexOf(v)||n.push({tagName:v,tagStartPos:g}),l=!0}for(r++;r<e.length;r++)if("<"===e[r]){if("!"===e[r+1]){r++,r=a(e,r);continue}if("?"!==e[r+1])break;if(r=o(e,++r),r.err)return r}else if("&"===e[r]){const t=d(e,r);if(-1==t)return h("InvalidChar","char '&' is not expected.",f(e,r));r=t}else if(!0===p&&!i(e[r]))return h("InvalidXml","Extra text at the end",f(e,r));"<"===e[r]&&r--}}}var m;return l?1==n.length?h("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",f(e,n[0].tagStartPos)):!(n.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){const n=s.getAllMatches(e,l),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return h("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",m(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return h("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",m(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",m(n[e]));const s=n[e][2];if(!p(s))return h("InvalidAttr","Attribute '"+s+"' is an invalid name.",m(n[e]));if(r.hasOwnProperty(s))return h("InvalidAttr","Attribute '"+s+"' is repeated.",m(n[e]));r[s]=1}return!0}function d(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function h(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function p(e){return s.isName(e)}function f(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function m(e){return e.startIndex+e[1].length}},1192:(e,t,n)=>{"use strict";const s=n(2592),r={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function i(e){this.options=Object.assign({},r,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=f),this.processTextOrObjNode=a,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=h,this.buildObjNode=l):(this.buildTextNode=u,this.buildObjNode=c),this.buildTextValNode=u,this.buildObjectNode=c,this.replaceEntitiesValue=d,this.buildAttrPairStr=o}function o(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'}function a(e,t,n){const s=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(e[this.options.textNodeName],t,s.attrStr,n):this.buildObjNode(s.val,t,s.attrStr,n)}function c(e,t,n,s){let r="</"+t+this.tagEndChar,i="";return"?"===t[0]&&(i="?",r=""),n&&-1===e.indexOf("<")?this.indentate(s)+"<"+t+n+i+">"+e+r:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===i.length?this.indentate(s)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(s)+"<"+t+n+i+this.tagEndChar+e+this.indentate(s)+r}function l(e,t,n,s){return""!==e?this.buildObjectNode(e,t,n,s):"?"===t[0]?this.indentate(s)+"<"+t+n+"?"+this.tagEndChar:this.indentate(s)+"<"+t+n+"/"+this.tagEndChar}function u(e,t,n,s){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(s)+`\x3c!--${e}--\x3e`+this.newLine;{let r=this.options.tagValueProcessor(t,e);return r=this.replaceEntitiesValue(r),""===r&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(s)+"<"+t+this.tagEndChar:this.indentate(s)+"<"+t+"/"+this.tagEndChar:this.indentate(s)+"<"+t+n+">"+r+"</"+t+this.tagEndChar}}function d(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e}function h(e,t,n,s){return""===e&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(s)+"<"+t+this.tagEndChar:this.indentate(s)+"<"+t+"/"+this.tagEndChar:""!==e?this.buildTextValNode(e,t,n,s):"?"===t[0]?this.indentate(s)+"<"+t+n+"?"+this.tagEndChar:this.indentate(s)+"<"+t+n+"/"+this.tagEndChar}function p(e){return this.options.indentBy.repeat(e)}function f(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}i.prototype.build=function(e){return this.options.preserveOrder?s(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},i.prototype.j2x=function(e,t){let n="",s="";for(let r in e)if(void 0===e[r]);else if(null===e[r])"?"===r[0]?s+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)s+=this.buildTextNode(e[r],r,"",t);else if("object"!=typeof e[r]){const i=this.isAttribute(r);if(i)n+=this.buildAttrPairStr(i,""+e[r]);else if(r===this.options.textNodeName){let t=this.options.tagValueProcessor(r,""+e[r]);s+=this.replaceEntitiesValue(t)}else s+=this.buildTextNode(e[r],r,"",t)}else if(Array.isArray(e[r])){const n=e[r].length;for(let i=0;i<n;i++){const n=e[r][i];void 0===n||(null===n?"?"===r[0]?s+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+r+"/"+this.tagEndChar:s+="object"==typeof n?this.processTextOrObjNode(n,r,t):this.buildTextNode(n,r,"",t))}}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const t=Object.keys(e[r]),s=t.length;for(let i=0;i<s;i++)n+=this.buildAttrPairStr(t[i],""+e[r][t[i]])}else s+=this.processTextOrObjNode(e[r],r,t);return{attrStr:n,val:s}},e.exports=i},2592:e=>{function t(e,o,a,c){let l="",u="";o.format&&o.indentBy.length>0&&(u="\n"+o.indentBy.repeat(c));for(let d=0;d<e.length;d++){const h=e[d],p=n(h);let f="";if(f=0===a.length?p:`${a}.${p}`,p===o.textNodeName){let e=h[p];r(f,o)||(e=o.tagValueProcessor(p,e),e=i(e,o)),l+=u+e;continue}if(p===o.cdataPropName){l+=u+`<![CDATA[${h[p][0][o.textNodeName]}]]>`;continue}if(p===o.commentPropName){l+=u+`\x3c!--${h[p][0][o.textNodeName]}--\x3e`;continue}if("?"===p[0]){const e=s(h[":@"],o),t="?xml"===p?"":u;let n=h[p][0][o.textNodeName];n=0!==n.length?" "+n:"",l+=t+`<${p}${n}${e}?>`;continue}let m=u+`<${p}${s(h[":@"],o)}`,g=t(h[p],o,f,c+1);-1!==o.unpairedTags.indexOf(p)?o.suppressUnpairedNode?l+=m+">":l+=m+"/>":g&&0!==g.length||!o.suppressEmptyNode?l+=m+`>${g}${u}</${p}>`:l+=m+"/>"}return l}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function s(e,t){let n="";if(e&&!t.ignoreAttributes)for(let s in e){let r=t.attributeValueProcessor(s,e[s]);r=i(r,t),!0===r&&t.suppressBooleanAttributes?n+=` ${s.substr(t.attributeNamePrefix.length)}`:n+=` ${s.substr(t.attributeNamePrefix.length)}="${r}"`}return n}function r(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let s in t.stopNodes)if(t.stopNodes[s]===e||t.stopNodes[s]==="*."+n)return!0;return!1}function i(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const s=t.entities[n];e=e.replace(s.regex,s.val)}return e}e.exports=function(e,n){return t(e,n,"",0)}},4780:e=>{const t=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function n(e,n){const s=t.exec(e);s&&(n[s[1]]={regx:RegExp(`&${s[1]};`,"g"),val:s[3]})}e.exports=function(e,t){const s={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,i=!1,o=!1,a=!1,c="";for(;t<e.length;t++)if("<"===e[t]){if(i&&"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7])t+=7,o=!0;else if(i&&"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8])t+=8;else if(i&&"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8])t+=8;else if(i&&"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9])t+=9;else{if("!"!==e[t+1]||"-"!==e[t+2]||"-"!==e[t+3])throw new Error("Invalid DOCTYPE");a=!0}r++,c=""}else if(">"===e[t]){if(a){if("-"!==e[t-1]||"-"!==e[t-2])throw new Error("Invalid XML comment in DOCTYPE");a=!1}else o&&(n(c,s),o=!1);if(r--,0===r)break}else"["===e[t]?i=!0:c+=e[t];if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:s,i:t}}},6745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},1078:(e,t,n)=>{"use strict";const s=n(7849),r=n(6311),i=n(4780),o=n(4153);function a(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const s=t[n];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:e[s]}}}function c(e,t,n,s,r,i,o){if(void 0!==e&&(this.options.trimValues&&!s&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const s=this.options.tagValueProcessor(t,e,n,r,i);return null==s?e:typeof s!=typeof e||s!==e?s:this.options.trimValues||e.trim()===e?b(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function l(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,s.nameRegexp);const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=s.getAllMatches(e,u),r=n.length,i={};for(let e=0;e<r;e++){const s=this.resolveNameSpace(n[e][1]);let r=n[e][4];const o=this.options.attributeNamePrefix+s;if(s.length)if(void 0!==r){this.options.trimValues&&(r=r.trim()),r=this.replaceEntitiesValue(r);const e=this.options.attributeValueProcessor(s,r,t);i[o]=null==e?r:typeof e!=typeof r||e!==r?e:b(r,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[o]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const h=function(e){e=e.replace(/\r\n?/g,"\n");const t=new r("!xml");let n=t,s="",o="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){const t=g(e,">",a,"Closing Tag is not closed.");let r=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=r.indexOf(":");-1!==e&&(r=r.substr(e+1))}this.options.transformTagName&&(r=this.options.transformTagName(r)),n&&(s=this.saveTextToParentTag(s,n,o)),o=o.substr(0,o.lastIndexOf(".")),n=this.tagsNodeStack.pop(),s="",a=t}else if("?"===e[a+1]){let t=y(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,n,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new r(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o)),n.addChild(e)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=g(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const r=e.substring(a+4,t-2);s=this.saveTextToParentTag(s,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:r}])}a=t}else if("!D"===e.substr(a+1,2)){const t=i(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=g(e,"]]>",a,"CDATA is not closed.")-2,r=e.substring(a+9,t);if(s=this.saveTextToParentTag(s,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:r}]);else{let e=this.parseTextData(r,n.tagname,o,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}a=t+2}else{let i=y(e,a,this.options.removeNSPrefix),c=i.tagName,l=i.tagExp,u=i.attrExpPresent,d=i.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&s&&"!xml"!==n.tagname&&(s=this.saveTextToParentTag(s,n,o,!1)),c!==t.tagname&&(o+=o?"."+c:c);const h=n;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,c)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)a=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=i.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);a=n.i,t=n.tagContent}const s=new r(c);c!==l&&u&&(s[":@"]=this.buildAttributesMap(l,o)),t&&(t=this.parseTextData(t,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),s.add(this.options.textNodeName,t),n.addChild(s)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new r(c);c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o)),o=o.substr(0,o.lastIndexOf(".")),n.addChild(e)}else{const e=new r(c);this.tagsNodeStack.push(n),c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o)),n.addChild(e),n=e}s="",a=d}}else s+=e[a];return t.child},p=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}}return e};function f(e,t,n,s){return e&&(void 0===s&&(s=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,s))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function m(e,t,n){const s="*."+n;for(const n in e){const r=e[n];if(s===r||t===r)return!0}return!1}function g(e,t,n,s){const r=e.indexOf(t,n);if(-1===r)throw new Error(s);return r+t.length-1}function y(e,t,n,s=">"){const r=function(e,t,n=">"){let s,r="";for(let i=t;i<e.length;i++){let t=e[i];if(s)t===s&&(s="");else if('"'===t||"'"===t)s=t;else if(t===n[0]){if(!n[1])return{data:r,index:i};if(e[i+1]===n[1])return{data:r,index:i}}else"\t"===t&&(t=" ");r+=t}}(e,t+1,s);if(!r)return;let i=r.data;const o=r.index,a=i.search(/\s/);let c=i,l=!0;if(-1!==a&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==r.data.substr(e+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:l}}function v(e,t,n){const s=n;let r=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const i=g(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t&&(r--,0===r))return{tagContent:e.substring(s,n),i};n=i}else if("?"===e[n+1])n=g(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=g(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=g(e,"]]>",n,"StopNode is not closed.")-2;else{const s=y(e,n,">");s&&((s&&s.tagName)===t&&"/"!==s.tagExp[s.tagExp.length-1]&&r++,n=s.closeIndex)}}function b(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&o(e,n)}return s.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=a,this.parseXml=h,this.parseTextData=c,this.resolveNameSpace=l,this.buildAttributesMap=d,this.isItStopNode=m,this.replaceEntitiesValue=p,this.readStopNodeData=v,this.saveTextToParentTag=f}}},8844:(e,t,n)=>{const{buildOptions:s}=n(6745),r=n(1078),{prettify:i}=n(6997),o=n(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=s(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=o.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new r(this.options);n.addExternalEntities(this.externalEntities);const s=n.parseXml(e);return this.options.preserveOrder||void 0===s?s:i(s,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function n(e,t,o){let a;const c={};for(let l=0;l<e.length;l++){const u=e[l],d=s(u);let h="";if(h=void 0===o?d:o+"."+d,d===t.textNodeName)void 0===a?a=u[d]:a+=""+u[d];else{if(void 0===d)continue;if(u[d]){let e=n(u[d],t,h);const s=i(e,t);u[":@"]?r(e,u[":@"],h,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[d]&&c.hasOwnProperty(d)?(Array.isArray(c[d])||(c[d]=[c[d]]),c[d].push(e)):t.isArray(d,h,s)?c[d]=[e]:c[d]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function s(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function r(e,t,n,s){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++){const i=r[o];s.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function i(e,t){const n=Object.keys(e).length;return!!(0===n||1===n&&e[t.textNodeName])}t.prettify=function(e,t){return n(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){this.child.push({[e]:t})}addChild(e){e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},9461:e=>{"use strict";var t=e.exports=function(e,t,s){"function"==typeof t&&(s=t,t={}),n(t,"function"==typeof(s=t.cb||s)?s:s.pre||function(){},s.post||function(){},e,"",e)};function n(e,s,r,i,o,a,c,l,u,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var h in s(i,o,a,c,l,u,d),i){var p=i[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)n(e,s,r,p[f],o+"/"+h+"/"+f,a,o,h,i,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,s,r,p[m],o+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,h,i,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&n(e,s,r,p,o+"/"+h,a,o,h,i)}r(i,o,a,c,l,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const s={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,r={}){if(r=Object.assign({},s,r),!e||"string"!=typeof e)return e;let i=e.trim();if(void 0!==r.skipLike&&r.skipLike.test(i))return e;if(r.hex&&t.test(i))return Number.parseInt(i,16);{const t=n.exec(i);if(t){const n=t[1],s=t[2];let a=(o=t[3])&&-1!==o.indexOf(".")?("."===(o=o.replace(/0+$/,""))?o="0":"."===o[0]?o="0"+o:"."===o[o.length-1]&&(o=o.substr(0,o.length-1)),o):o;const c=t[4]||t[6];if(!r.leadingZeros&&s.length>0&&n&&"."!==i[2])return e;if(!r.leadingZeros&&s.length>0&&!n&&"."!==i[1])return e;{const t=Number(i),o=""+t;return-1!==o.search(/[eE]/)||c?r.eNotation?t:e:-1!==i.indexOf(".")?"0"===o&&""===a||o===a||n&&o==="-"+a?t:e:s?a===o||n+a===o?t:e:i===o||i===n+o?t:e}}return e}var o}},2641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t[0].variables){const t={};let n=e.entityType;if(/File/.test(n))n="file";else if(/Package/.test(n))n="namespace";else if(/Alias/.test(n))n="depends-aggregation";else if(/Type/.test(n))n="depends-aggregation";else if(/Var/.test(n))n="depends-aggregation";else if(/Function$/.test(n))n="macro";else{if(!/Function/.test(n)){(0,r.ZK)(`Unmapped type depends/cpp/entity/${n}`);continue}n="function"}let i=e.qualifiedName;i="file"===n?i.substring(i.lastIndexOf("\\")+1):i.substring(i.lastIndexOf(".")+1),s.e.add({id:e.id,type:n,name:i,location:{start:{line:e.startLine,column:e.startColumn},end:{line:e.endLine,column:e.endColumn}},...t})}for(const e of t[0].relations){const t={};let n=e.src,i=e.type,o=e.dest;if(/Call/.test(i))i="call";else if(/Contain/.test(i))i="define";else if(/Extend/.test(i))i="extend";else{if(!/Use/.test(i)){(0,r.ZK)(`Unmapped type depends/cpp/relation/${i}`);continue}i="use"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:-1,column:-1}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},7114:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/depends/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/depends/${e}/${t}`);try{await(0,r.Z)(`java -jar ${n} cpp ${s}/tests/cases/_${e}/_${t} ${t} -g var`)}catch{return!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},3791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}}},9378:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(7114),i=n(3791),o=n(2641),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.$e)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.$e)(n);(0,a.vU)(`Failed to read depends output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute depends on ${e}/${t}`)}};s()}catch(e){s(e)}}))},3735:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Cb:()=>i.Z,N:()=>r.Z,Vs:()=>o.Z});var r=n(9378),i=n(5285),o=n(5773),a=e([r,i,o]);[r,i,o]=a.then?(await a)():a,s()}catch(e){s(e)}}))},6156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t[0].variables){const t={};let n=e.entityType;if(/Package/.test(n))n="package";else if(/File/.test(n))n="file";else if(/Type/.test(n))n="depends-aggregation";else if(/Function/.test(n))n="annotationmember";else{if(!/Var/.test(n)){(0,r.ZK)(`Unmapped type depends/java/entity/${n}`);continue}n="variable"}let i=e.qualifiedName;i="file"===n?i.substring(i.lastIndexOf("\\")+1):i.substring(i.lastIndexOf(".")+1),s.e.add({id:e.id,type:n,name:i,location:{start:{line:e.startLine,column:e.startColumn},end:{line:e.endLine,column:e.endColumn}},...t})}for(const e of t[0].relations){const t={};let n=e.src,i=e.type,o=e.dest;if(/Import/.test(i))i="import";else if(/Extend/.test(i))i="inherit";else if(/Implement/.test(i))i="implement";else if(/Contain/.test(i))i="contain";else if(/Call/.test(i))i="call";else if(/Use/.test(i))i="usevar";else if(/Set/.test(i))i="set";else if(/Modify/.test(i))i="modify";else if(/Annotation/.test(i))i="annotate";else if(/Cast/.test(i))i="cast";else if(/Create/.test(i))i="create";else if(!/Return/.test(i)){(0,r.ZK)(`Unmapped type depends/java/relation/${i}`);continue}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:-1,column:-1}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},3015:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/depends/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/depends/${e}/${t}`);try{await(0,r.Z)(`java -jar ${n} java ${s}/tests/cases/_${e}/_${t} ${t} -g var`)}catch{return!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},8137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}}},5285:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(3015),i=n(8137),o=n(6156),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.bV)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.bV)(n);(0,a.vU)(`Failed to read depends output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute depends on ${e}/${t}`)}};s()}catch(e){s(e)}}))},4886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t[0].variables){const t={};let n=e.entityType;if(/Package/.test(n))n="package";else if(/File/.test(n))n="module";else if(/Var/.test(n))n="variable";else if(/Function/.test(n))n="function";else if(/Type/.test(n))n="class";else if(/Attribute/.test(n))n="attribute";else{if(!/Alias/.test(n)){(0,r.ZK)(`Unmapped type depends/python/entity/${n}`);continue}n="alias"}let i=e.qualifiedName;i="package"===n?i.substring(i.lastIndexOf("\\")+1):"module"===n?i.substring(i.lastIndexOf("\\")+1,i.lastIndexOf(".")):i.substring(i.lastIndexOf(".")+1),s.e.add({id:e.id,type:n,name:i,location:{start:{line:e.startLine,column:e.startColumn},end:{line:e.endLine,column:e.endColumn}},...t})}for(const e of t[0].relations){const t={};let n=e.src,i=e.type,o=e.dest;if(/Define/.test(i))i="define";else if(/Use/.test(i))i="use";else if(/Set/.test(i))i="set";else if(/Import/.test(i))i="import";else if(/Call/.test(i))i="call";else if(/Extend/.test(i))i="inherit";else if(/Contain/.test(i))i="contain";else if(/Annotate/.test(i))i="annotate";else{if(!/Alias/.test(i)){if(/(Parameter|Annotation)/.test(i))continue;(0,r.ZK)(`Unmapped type depends/python/relation/${i}`);continue}i="alias"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:-1,column:-1}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},1094:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/depends/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/depends/${e}/${t}`);try{await(0,r.Z)(`java -jar ${n} python ${s}/tests/cases/_${e}/_${t} ${t} -g var`)}catch{return!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},5962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}}},5773:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(1094),i=n(5962),o=n(4886),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/depends/${e}/${t}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.fJ)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.fJ)(n);(0,a.vU)(`Failed to read depends output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute depends on ${e}/${t}`)}};s()}catch(e){s(e)}}))},6011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t[0].variables){const t={};let n=e.entityType;if(/File/.test(n))n="file";else if(/Namespace/.test(n))n="namespace";else if(/Alias/.test(n))n="alias";else if(/Class/.test(n)&&!/Template/.test(n))n="class";else if(/Struct/.test(n)&&!/Template/.test(n))n="struct";else if(/Union/.test(n))n="union";else if(/Macro/.test(n))n="macro";else if(/Enum$/.test(n))n="enum";else if(/Enumerator/.test(n))n="enumerator";else if(/Object/.test(n))n="variable";else if(/Function/.test(n)&&!/Template/.test(n))n="function";else if(/Template/.test(n))/Class/.test(n)?t.kind="Class Template":/Struct/.test(n)?t.kind="Struct Template":/Function/.test(n)&&(t.kind="Function Template"),n="template";else{if(!/Typedef/.test(n)){(0,r.ZK)(`Unmapped type enre/cpp/entity/${n}`);continue}n="typedef"}let i=e.qualifiedName;"file"===n?i=i.substring(i.lastIndexOf("/")+1):-1!==i.lastIndexOf("::")&&(i=i.substring(i.lastIndexOf("::")+2)),s.e.add({id:e.id,type:n,name:i,location:{start:{line:e.startLine,column:e.startColumn},end:{line:e.endLine,column:e.endColumn}},...t})}for(const e of t[0].relations){const t={};let n=e.src,i=e.type,o=e.dest;if(/Alias/.test(i))i="alias";else if(/Call/.test(i))i="call";else if(/Define/.test(i))i="define";else if(/Exception/.test(i))i="exception";else if(/Extend/.test(i))i="extend";else if(/Friend/.test(i))i="friend";else if(/Include/.test(i))i="include";else if(/Modify/.test(i))i="modify";else if(/Override/.test(i))i="override";else if(/Parameter/.test(i))i="Parameter";else if(/Set/.test(i))i="set";else if(/Use/.test(i))i="use";else{if(!/Using/.test(i)){(0,r.ZK)(`Unmapped type enre/cpp/relation/${i}`);continue}i="using"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:-1,column:-1}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},9605:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/enre/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/enre/${e}/${t}`);try{await(0,r.Z)(`java -jar ${n} cpp ${s}/tests/cases/_${e}/_${t} ${t} ${t}`)}catch{return!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},1460:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/${t}_out.json`,"utf-8")}catch(e){return console.error(e),!1}}},9532:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(9605),i=n(1460),o=n(6011),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/${t}_out.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.$e)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.$e)(n);(0,a.vU)(`Failed to read enre output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute enre on ${e}/${t}`)}};s()}catch(e){s(e)}}))},4146:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Cb:()=>i.Z,N:()=>r.Z,Vs:()=>o.Z});var r=n(9532),i=n(8440),o=n(7050),a=e([r,i,o]);[r,i,o]=a.then?(await a)():a,s()}catch(e){s(e)}}))},7610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t.variables){const t={};let n=e.category;if(/Package/.test(n))n="package";else if(/File/.test(n))n="file";else if(/Class/.test(n))n="class";else if(/Enum/.test(n))n="enum";else if(/Annotation/.test(n))n="annotation";else if(/AnnotationMember/.test(n))n="annotationmember";else if(/Interface/.test(n))n="interface";else if(/Method/.test(n))n="method";else if(/Module/.test(n))n="module";else if(/Record/.test(n))n="record";else if(/TypeParameter/.test(n))n="typeparameter";else{if(!/Variable/.test(n)){(0,r.ZK)(`Unmapped type enre/java/entity/${n}`);continue}n="variable"}let i=e.qualifiedName,o=e.name;s.e.add({id:e.id,type:n,name:o,fullname:i,location:{start:{line:e.location?e.location.startLine:-1,column:e.location?e.location.startColumn:-1},end:{line:e.location?e.location.endLine:-1,column:e.location?e.location.endColumn:-1}},...t})}for(const e of Array.isArray(t.cells)?t.cells:t.cells?[t.cells]:[]){const t={};let n=e.src,i=e.values,o=e.dest;if(1===i.Import)i="import";else if(1===i.Inherit)i="inherit";else if(1===i.Implement)i="implement";else if(1===i.Contain)i="contain";else if(1===i.Call)i="call";else if(1===i.Parameter)i="parameter";else if(1===i.Typed)i="typed";else if(1===i.UseVar)i="usevar";else if(1===i.Set)i="set";else if(1===i.Modify)i="modify";else if(1===i.Annotate)i="annotate";else if(1===i.Cast)i="cast";else if(1===i.Override)i="override";else if(1===i.Reflect)i="reflect";else{if(1!==i.Define){(0,r.ZK)(`Unmapped type enre/java/relation/${i}`);continue}i="define"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:e.values.loc.startLine,column:e.values.loc.startCol}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},2776:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/enre/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/enre/${e}/${t}`);try{await(0,r.Z)(`java -jar ${n} java ${s}/tests/cases/_${e}/_${t} ${t}`)}catch(e){return console.log(e),!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},6976:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/${t}-enre-out/${t}-out.json`,"utf-8")}catch(e){return console.error(e),!1}}},8440:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(2776),i=n(6976),o=n(7610),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/${t}-enre-out/${t}-out.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.bV)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.bV)(n);(0,a.vU)(`Failed to read enre output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute enre on ${e}/${t}`)}};s()}catch(e){s(e)}}))},3394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1066),r=n(1081),i=n(6013);const o=e=>{const t=JSON.parse(e);for(const e of t.variables){const t={};let n=e.category;if(/Package/.test(n))n="package";else if(/Module/.test(n))n="module";else if(/Variable/.test(n))n="variable";else if(/Function/.test(n)&&!/Anonymous/.test(n))n="function";else if(/Parameter/.test(n))n="parameter";else if(/Class/.test(n))n="class";else if(/Attribute/.test(n))n="attribute";else if(/Alias/.test(n))n="alias";else{if(!/AnonymousFunction/.test(n)){(0,r.ZK)(`Unmapped type enre/python/entity/${n}`);continue}n="anonymousfunction"}const o=e.qualifiedName.split(".");let a="";if(1===o.length)a=o[0];else for(let e=1;e<o.length;e++)1!==e&&(a+="."),a+=o[e];let c=o.at(-1);c=/\(\d+\)/.exec(c)?(0,i.Yb)({as:"Function"}):(0,i.Yb)(c),s.e.add({id:e.id,type:n,name:c,fullname:a,sourceFile:s.e.getById(e.belongs_to),location:{start:{line:e.location.startLine,column:e.location.startColumn},end:{line:e.location.endLine,column:e.location.endColumn}},...t})}for(const e of t.cells){const t={};let n=e.src,i=e.values.kind,o=e.dest;if(/Define/.test(i))i="define";else if(/Use/.test(i))i="use";else if(/Set/.test(i))i="set";else if(/Import/.test(i))i="import";else if(/Call/.test(i))i="call";else if(/Inherit/.test(i))i="inherit";else if(/Contain/.test(i))i="contain";else if(/Annotate/.test(i))i="annotate";else{if(!/Alias/.test(i)){(0,r.ZK)(`Unmapped type enre/python/relation/${i}`);continue}i="alias"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:e.location.startLine,column:e.location.startCol}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},180:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();await(0,i.mkdir)(s+`/tests/enre/${e}/${t}`,{recursive:!0}),process.chdir(s+`/tests/enre/${e}/${t}`);try{await(0,r.Z)(`${n} ${s}/tests/cases/_${e}/_${t}`)}catch{return!1}finally{process.chdir(s)}return!0};s()}catch(e){s(e)}}))},2637:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(3977);const r=async(e,t,n)=>{try{return await(0,s.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/_${t}-report-enre.json`,"utf-8")}catch(e){return console.error(e),!1}}},7050:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(180),i=n(2637),o=n(3394),a=n(1081),c=n(235),l=n(3977),u=e([r]);r=(u.then?(await u)():u)[0];const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`${process.cwd()}/tests/enre/${e}/${t}/_${t}-report-enre.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.fJ)(n)}catch{if(await(0,r.Z)(e,t,u)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.fJ)(n);(0,a.vU)(`Failed to read enre output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute enre on ${e}/${t}`)}};s()}catch(e){s(e)}}))},7335:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>h});var r=n(1081),i=n(3735),o=n(4146),a=n(8292),c=n(6672),l=n(6013),u=n(8737),d=e([i,o,a,c]);function h(e,t){switch(t){case"depends":switch(e){case"cpp":return i.N;case"java":return i.Cb;case"python":return i.Vs;default:(0,r.je)(`Cannot test ${t} on ${e}`)}break;case"enre":switch(e){case"cpp":return o.N;case"java":return o.Cb;case"python":return o.Vs;default:(0,r.je)(`Cannot test ${t} on ${e}`)}break;case"sourcetrail":switch(e){case"cpp":return a.N;case"java":return a.Cb;case"python":return a.Vs;default:(0,r.je)(`Cannot test ${t} on ${e}`)}break;case"understand":switch((0,l.DB)(u.cT.understand),e){case"cpp":return c.N;case"java":return c.Cb;case"python":return c.Vs;case"ts":return c.ts;default:(0,r.je)(`Cannot test ${t} on ${e}`)}}}[i,o,a,c]=d.then?(await d)():d,s()}catch(p){s(p)}}))},6678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t.entities){const t={};let n=e.type;if(/FILE/.test(n))n="file";else if(/NAMESPACE/.test(n))n="namespace";else if(/CLASS/.test(n))n="class";else if(/STRUCT/.test(n))n="struct";else if(/UNION/.test(n))n="union";else if(/MACRO/.test(n))n="macro";else if(/ENUM$/.test(n))n="enum";else if(/ENUM_CONSTANT/.test(n))n="enumerator";else if(/VARIABLE|FIELD/.test(n))n="variable";else if(/FUNCTION|METHOD/.test(n))n="function";else{if(!/TYPEDEF/.test(n)){if(/BUILTIN/.test(n))continue;(0,r.ZK)(`Unmapped type sourcetrail/cpp/entity/${n}`);continue}n="typedef"}let i,o=e.name;"file"===n?o=o.substring(o.lastIndexOf("/")+1):(/<.*>/.test(o)&&(o=o.replaceAll(/<.*>/g,""),n="template"),i=o,o=o.substring(o.lastIndexOf(".")+1)),s.e.add({id:e.id,type:n,name:o,fullname:i,location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/CALL|TEMPLATE_SPECIALIZATION/.test(i))i="call";else if(/MEMBER/.test(i))i="define";else if(/INHERITANCE/.test(i))i="extend";else if(/INCLUDE/.test(i))i="include";else if(/OVERRIDE/.test(i))i="override";else{if(!/USAGE/.test(i)){if(/UNKNOWN/.test(i))continue;(0,r.ZK)(`Unmapped type sourcetrail/cpp/relation/${i}`);continue}i="usa"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},7541:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n,s)=>{const o=process.cwd();await(0,i.mkdir)(o+`/tests/sourcetrail/${e}/${t}`,{recursive:!0});try{await(0,r.Z)(`"${n}" index --project-file ${o}/tests/sourcetrail/${e}/${t}/${t}.srctrlprj`)}catch(e){return console.log(e),!1}return!0};s()}catch(e){s(e)}}))},988:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(3977),i=n(6263),o=e([i]);i=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();try{return await(0,i.Z)(`python ${n}/packages/enre-cross-tester/src/common/stextractor.py java ${t} ${s}/tests/sourcetrail/${e}/${t}/${t}.srctrldb ${s}/tests/cases/${e}/${t} ${s}/tests/sourcetrail/${e}/ -p`),await(0,r.readFile)(`${s}/tests/sourcetrail/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}};s()}catch(e){s(e)}}))},1822:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(7541),i=n(988),o=n(6678),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/sourcetrail/${e}/${t}.json`,"utf-8");console.log(s.replaceAll(/\s+/g," "));try{(0,o.Z)(s)}catch(e){console.log(e)}return(0,c.$e)(n)}catch{if(console.log("Running SourceTrail in background, please wait"),await(0,r.Z)(e,t,u,s)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.$e)(n);(0,a.vU)(`Failed to read sourcetrail output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute sourcetrail on ${e}/${t}`)}};s()}catch(e){s(e)}}))},8292:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Cb:()=>r.Z,N:()=>i.Z,Vs:()=>o.Z});var r=n(87),i=n(1822),o=n(5869),a=e([r,i,o]);[r,i,o]=a.then?(await a)():a,s()}catch(e){s(e)}}))},5498:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t.entities){const t={};let n=e.type;if(/PACKAGE/.test(n))n="package";else if(/FILE/.test(n))n="file";else if(/CLASS/.test(n))n="class";else if(/ENUM/.test(n))n="enum";else if(/ANNOTATION/.test(n))n="annotation";else if(/FIELD/.test(n))n="annotationmember";else if(/INTERFACE/.test(n))n="interface";else if(/METHOD/.test(n))n="method";else if(/TYPE_PARAMETER/.test(n))n="typeparameter";else{if(!/Variable/.test(n)){if(/BUILTIN_TYPE|UNKNOWN/.test(n))continue;(0,r.ZK)(`Unmapped type sourcetrail/java/entity/${n}`);continue}n="variable"}let i,o=e.name;"file"===n?o=o.substring(o.lastIndexOf("/")+1):(o=o.replaceAll(/<.*>/g,""),i=o,o=o.substring(o.lastIndexOf(".")+1)),s.e.add({id:e.id,type:n,name:o,fullname:i,location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/IMPORT/.test(i))i="import";else if(/INHERITANCE/.test(i))i="inherit";else if(/Implement/.test(i))i="implement";else if(/MEMBER/.test(i))i="contain";else if(/CALL/.test(i))i="call";else if(/Parameter/.test(i))i="parameter";else if(/USAGE/.test(i))i="usevar";else if(/Set/.test(i))i="set";else if(/Modify/.test(i))i="modify";else if(/Annotate/.test(i))i="annotate";else if(/TYPE_USAGE/.test(i))i="cast";else if(/OVERRIDE/.test(i))i="override";else if(/Reflect/.test(i))i="reflect";else{if(!/Define/.test(i)){if(/UNKNOWN/.test(i))continue;(0,r.ZK)(`Unmapped type sourcetrail/java/relation/${i}`);continue}i="define"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},1800:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n,s)=>{const o=process.cwd();await(0,i.mkdir)(o+`/tests/sourcetrail/${e}/${t}`,{recursive:!0});try{await(0,r.Z)(`"${n}" index --project-file ${o}/tests/sourcetrail/${e}/${t}/${t}.srctrlprj`)}catch(e){return console.log(e),!1}return!0};s()}catch(e){s(e)}}))},3279:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(3977),i=n(6263),o=e([i]);i=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();try{return await(0,i.Z)(`python ${n}/packages/enre-cross-tester/src/common/stextractor.py java ${t} ${s}/tests/sourcetrail/${e}/${t}/${t}.srctrldb ${s}/tests/cases/${e}/${t} ${s}/tests/sourcetrail/${e}/ -p`),await(0,r.readFile)(`${s}/tests/sourcetrail/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}};s()}catch(e){s(e)}}))},87:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(1800),i=n(3279),o=n(5498),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/sourcetrail/${e}/${t}.json`,"utf-8");console.log(s.replaceAll(/\s+/g," "));try{(0,o.Z)(s)}catch(e){console.log(e)}return(0,c.bV)(n)}catch{if(console.log("Running SourceTrail in background, please wait"),await(0,r.Z)(e,t,u,s)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.bV)(n);(0,a.vU)(`Failed to read sourcetrail output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute sourcetrail on ${e}/${t}`)}};s()}catch(e){s(e)}}))},5621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t=JSON.parse(e);for(const e of t.entities){const t={};let n=e.type;if(/MODULE/.test(n))n="package";else if(/FILE/.test(n))n="module";else if(/VARIABLE/.test(n))n="variable";else if(/FUNCTION|METHOD/.test(n))n="function";else if(/CLASS/.test(n))n="class";else{if(!/FIELD/.test(n)){if(/UNKNOWN/.test(n))continue;(0,r.ZK)(`Unmapped type sourcetrail/python/entity/${n}`);continue}n="attribute"}let i,o=e.name;"module"===n?o=o.substring(o.lastIndexOf("/")+1,o.lastIndexOf(".")):(o=o.replaceAll(/<.*>/g,""),i=o,o=o.substring(o.lastIndexOf(".")+1)),s.e.add({id:e.id,type:n,name:o,fullname:i,location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/MEMBER/.test(i))i="define";else if(/USAGE/.test(i))i="use";else if(/Set/.test(i))i="set";else if(/IMPORT/.test(i))i="import";else if(/CALL/.test(i))i="call";else if(/INHERITANCE/.test(i))i="inherit";else if(/Contain/.test(i))i="contain";else if(/Annotate/.test(i))i="annotate";else if(/Alias/.test(i))i="alias";else if(!/(OVERRIDE)/.test(i)){(0,r.ZK)(`Unmapped type sourcetrail/python/relation/${i}`);continue}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:void 0,start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}},7315:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3292),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n,s)=>{const o=process.cwd();await(0,i.mkdir)(o+`/tests/sourcetrail/${e}/${t}`,{recursive:!0});try{await(0,r.Z)(`"${n}" index --project-file ${o}/tests/sourcetrail/${e}/${t}/${t}.srctrlprj`)}catch(e){return console.log(e),!1}return!0};s()}catch(e){s(e)}}))},4159:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(3977),i=n(6263),o=e([i]);i=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{const s=process.cwd();try{return await(0,i.Z)(`python ${n}/packages/enre-cross-tester/src/common/stextractor.py java ${t} ${s}/tests/sourcetrail/${e}/${t}/${t}.srctrldb ${s}/tests/cases/${e}/${t} ${s}/tests/sourcetrail/${e}/ -p`),await(0,r.readFile)(`${s}/tests/sourcetrail/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e),!1}};s()}catch(e){s(e)}}))},5869:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(7315),i=n(4159),o=n(5621),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/sourcetrail/${e}/${t}.json`,"utf-8");console.log(s.replaceAll(/\s+/g," "));try{(0,o.Z)(s)}catch(e){console.log(e)}return(0,c.fJ)(n)}catch{if(console.log("Running SourceTrail in background, please wait"),await(0,r.Z)(e,t,u,s)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.fJ)(n);(0,a.vU)(`Failed to read sourcetrail output on ${e}/${t}`)}else(0,a.vU)(`Failed to execute sourcetrail on ${e}/${t}`)}};s()}catch(e){s(e)}}))},7989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1066),r=n(1081),i=n(6013);const o=e=>{const t=JSON.parse(e);if(100===t.script_ver){for(const e of t.entities)if("File"===e.type){let t=e.name;t=t.substring(t.lastIndexOf("\\")+1),s.e.add({id:e.id,type:"file",name:t,fullname:t})}else{const t={};let n=e.type;if(/Namespace/.test(n)&&!/Alias/.test(n))n="namespace";else if(/Alias/.test(n))n="alias";else if(/Class/.test(n)&&!/Template/.test(n))n="class";else if(/Struct/.test(n)&&!/Template/.test(n))n="struct";else if(/Union/.test(n))n="union";else if(/Macro/.test(n))n="macro";else if(/Enum Type/.test(n))n="enum";else if(/Enumerator/.test(n))n="enumerator";else if(/(Member )?Object (Global|Local)/.test(n)||/Parameter/.test(n))n="variable";else if(/Function/.test(n)&&!/Template/.test(n))n="function";else if(/Template/.test(n))/Class/.test(n)?t.kind="Class Template":/Struct/.test(n)?t.kind="Struct Template":/Function/.test(n)&&(t.kind="Function Template"),n="template";else{if(!/Typedef Type/.test(n)){(0,r.ZK)(`Unmapped type understand/cpp/entity/${n}`);continue}n="typedef"}let o=e.name;const a=/\(unnamed_(class|function)_\d+\)/.exec(e.name);o=a?"class"===a[1]?(0,i.Yb)({as:"Class"}):(0,i.Yb)({as:"Function"}):(0,i.Yb)(o),s.e.add({id:e.id,type:n,name:o,fullname:e.qualified_name,sourceFile:s.e.getById(e.belongs_to),location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/Alias/.test(i))i="alias";else if(/Call/.test(i))i="call";else if(/(Define|Declare)/.test(i))i="define";else if(/Catch Exception/.test(i))i="exception";else if(/Base/.test(i))i="extend";else if(/Friend/.test(i))i="friend";else if(/Include/.test(i))i="include";else if(/Modify/.test(i))i="modify";else if(/Overrides/.test(i))i="override";else if(/Set/.test(i))i="set";else if(/Use/.test(i))i="use";else if(/Using/.test(i))i="using";else if(!/(Typed|Name)/.test(i)){(0,r.ZK)(`Unmapped type understand/cpp/relation/${i}`);continue}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:s.e.getById(e.inFile),start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}else console.log(`Unhandled script version ${t.script_ver}`)}},4301:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>o});var r=n(6263),i=e([r]);r=(i.then?(await i)():i)[0];const o=async(e,t)=>{try{await(0,r.Z)(`und create -db tests/und/${e}/${t}.und -languages C++ add ${process.cwd()}/tests/cases/_${e}/_${t} analyze -all`)}catch{return!1}return!0};s()}catch(e){s(e)}}))},9976:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3977),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{try{return await(0,r.Z)(`upython ${n}/packages/enre-cross-tester/src/adapters/understand/cpp/extractor.py tests/und/${e}/${t}.und tests/und/${e}/${t}.json`),await(0,i.readFile)(`tests/und/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e.stdout),!1}};s()}catch(e){s(e)}}))},6766:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(4301),i=n(9976),o=n(7989),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/und/${e}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.$e)(n)}catch{if(await(0,r.Z)(e,t)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.$e)(n);(0,a.vU)(`Failed to extract understand database on ${e}/${t}`)}else(0,a.vU)(`Failed to create understand database on ${e}/${t}`)}};s()}catch(e){s(e)}}))},6672:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Cb:()=>o.Z,N:()=>i.Z,Vs:()=>a.Z,ts:()=>r.Z});var r=n(1101),i=n(6766),o=n(9513),a=n(1853),c=e([r,i,o,a]);[r,i,o,a]=c.then?(await c)():c,s()}catch(e){s(e)}}))},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1066),r=n(1081),i=n(6013);const o=e=>{const t=JSON.parse(e);if(100===t.script_ver){for(const e of t.entities)if("File"===e.type){let t=e.name;t=t.substring(t.lastIndexOf("\\")+1),s.e.add({id:e.id,type:"file",name:t,fullname:t})}else if("Package"===e.type)s.e.add({id:e.id,type:"package",name:e.name,fullname:e.name});else{const t={};let n=e.type;if(!/Class/.test(n)||/Enum/.test(n)||/Record/.test(n)||/TypeVariable/.test(n))if(/Enum/.test(n))n="enum";else if(/Annotation/.test(n))n="annotation";else if(/Interface/.test(n)&&!/Annotation/.test(n))n="interface";else if(/Method/.test(n)&&!/Abstract/.test(n))n="method";else if(/Module/.test(n))n="module";else if(/Record/.test(n))n="record";else if(/TypeVariable/.test(n))n="typeparameter";else{if(!/Variable/.test(n)&&!/Parameter/.test(n)){(0,r.ZK)(`Unmapped type understand/java/entity/${n}`);continue}n="variable"}else n="class";let o=e.name;const a=/\(Unnamed_(Package)_\d+\)/.exec(e.name);a?"Package"===a[1]&&(o=(0,i.Yb)({as:"Package"})):o=(0,i.Yb)(o),s.e.add({id:e.id,type:n,name:o,fullname:e.qualified_name,sourceFile:s.e.getById(e.belongs_to),location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/Import/.test(i))i="import";else if(/Extend/.test(i))i="inherit";else if(/Implement/.test(i))i="implement";else if(/Contain/.test(i))i="contain";else if(/Call/.test(i))i="call";else if(/Typed/.test(i))i="typed";else if(/Use/.test(i))i="usevar";else if(/Set/.test(i))i="set";else if(/Modify/.test(i))i="modify";else if(/Annotate/.test(i))i="annotate";else if(/Cast/.test(i))i="cast";else if(/Overrides/.test(i))i="override";else{if(!/(Define|Declare)/.test(i)){if(/(Begin|Couple)/.test(i))continue;(0,r.ZK)(`Unmapped type understand/java/relation/${i}`);continue}i="define"}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:s.e.getById(e.inFile),start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}else console.log(`Unhandled script version ${t.script_ver}`)}},451:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>o});var r=n(6263),i=e([r]);r=(i.then?(await i)():i)[0];const o=async(e,t)=>{try{await(0,r.Z)(`und create -db tests/und/${e}/${t}.und -languages Java add ${process.cwd()}/tests/cases/_${e}/_${t} analyze -all`)}catch{return!1}return!0};s()}catch(e){s(e)}}))},3109:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3977),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{try{return await(0,r.Z)(`upython ${n}/packages/enre-cross-tester/src/adapters/understand/java/extractor.py tests/und/${e}/${t}.und tests/und/${e}/${t}.json`),await(0,i.readFile)(`tests/und/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e.stdout),!1}};s()}catch(e){s(e)}}))},9513:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(451),i=n(3109),o=n(7841),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/und/${e}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.bV)(n)}catch{if(await(0,r.Z)(e,t)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.bV)(n);(0,a.vU)(`Failed to extract understand database on ${e}/${t}`)}else(0,a.vU)(`Failed to create understand database on ${e}/${t}`)}};s()}catch(e){s(e)}}))},5332:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1066),r=n(1081),i=n(6013);const o=e=>{const t=JSON.parse(e);if(100===t.script_ver){for(const e of t.entities)if("File"===e.type){let t=e.name;t=t.substring(t.lastIndexOf("\\")+1,t.lastIndexOf(".")),s.e.add({id:e.id,type:"module",name:t,fullname:t})}else{const t={};let n=e.type;if(/Package/.test(n))n="package";else if(/Variable/.test(n))n="variable";else if(/Function/.test(n)&&!/Anonymous/.test(n))n="function";else if(/Parameter/.test(n))n="parameter";else if(/Class/.test(n))n="class";else if(/Attribute/.test(n))n="attribute";else if(/Alias/.test(n))n="alias";else{if(!/AnonymousFunction/.test(n)){(0,r.ZK)(`Unmapped type understand/python/entity/${n}`);continue}n="anonymousfunction"}let o=e.name;const a=/\(unnamed_(class|function)_\d+\)/.exec(e.name);o=a?"class"===a[1]?(0,i.Yb)({as:"Class"}):(0,i.Yb)({as:"Function"}):(0,i.Yb)(o),s.e.add({id:e.id,type:n,name:o,fullname:e.qualified_name,sourceFile:s.e.getById(e.belongs_to),location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...t})}for(const e of t.relations){const t={};let n=e.from,i=e.type,o=e.to;if(/Define/.test(i))i="define";else if(/Use/.test(i))i="use";else if(/Set/.test(i))i="set";else if(/Import/.test(i))i="import";else if(/Call/.test(i))i="call";else if(/Inherit/.test(i))i="inherit";else if(/Contain/.test(i))i="contain";else if(/Typed/.test(i))i="annotate";else if(/Alias/.test(i))i="alias";else if(!/(Typed|Couple|Raise|Overrides)/.test(i)){(0,r.ZK)(`Unmapped type understand/python/relation/${i}`);continue}const a=s.e.getById(n),c=s.e.getById(o);a&&c?s.r.add({from:a,to:c,type:i,location:{file:s.e.getById(e.inFile),start:{line:e.line,column:e.column}},...t}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}else console.log(`Unhandled script version ${t.script_ver}`)}},1093:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>o});var r=n(6263),i=e([r]);r=(i.then?(await i)():i)[0];const o=async(e,t)=>{try{await(0,r.Z)(`und create -db tests/und/${e}/${t}.und -languages Python add ${process.cwd()}/tests/cases/_${e}/_${t} analyze -all`)}catch{return!1}return!0};s()}catch(e){s(e)}}))},3058:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3977),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{try{return await(0,r.Z)(`upython ${n}/packages/enre-cross-tester/src/adapters/understand/python/extractor.py tests/und/${e}/${t}.und tests/und/${e}/${t}.json`),await(0,i.readFile)(`tests/und/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e.stdout),!1}};s()}catch(e){s(e)}}))},1853:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(1093),i=n(3058),o=n(5332),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/und/${e}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.fJ)(n)}catch{if(await(0,r.Z)(e,t)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.fJ)(n);(0,a.vU)(`Failed to extract understand database on ${e}/${t}`)}else(0,a.vU)(`Failed to create understand database on ${e}/${t}`)}};s()}catch(e){s(e)}}))},398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1066),r=n(1081),i=n(6013);const o=e=>{const t=JSON.parse(e);if(100===t.script_ver){for(const e of t.entities)if("File"===e.type){let t=e.name;t=t.substring(t.lastIndexOf("\\")+1),s.e.add({id:e.id,type:"file",name:t,fullname:t})}else{const n={};let o=e.type;if(/Variable/.test(o))o="variable";else if(/Function/.test(o)&&!/Method/.test(o))o="function";else if(/Parameter/.test(o)&&!/Type/.test(o))o="parameter";else if(/Class/.test(o))o="class";else if(/Property/.test(o)&&/Public|Protected|Private/.test(o)){/Static/.test(o)&&(n.static=!0),/Public/.test(o)?n.TSModifier="public":/Protected/.test(o)?n.TSModifier="protected":/Private/.test(o)&&(n.TSModifier="private"),o="field";for(const s of t.relations){if(/Getter/.test(s.type)&&s.from===e.id){o="method",n.kind="get";break}if(/Setter/.test(s.type)&&s.from===e.id){o="method",n.kind="set";break}}}else if(/Method/.test(o))/Static/.test(o)&&(n.static=!0),/Public/.test(o)?n.TSModifier="public":/Protected/.test(o)?n.TSModifier="protected":/Private/.test(o)&&(n.TSModifier="private"),o="method";else if(/Property/.test(o)&&!/Public|Protected|Private/.test(o)){o="property";for(const s of t.relations){if(/Getter/.test(s.type)&&s.from===e.id){o="method",n.kind="get";break}if(/Setter/.test(s.type)&&s.from===e.id){o="method",n.kind="set";break}}}else if(/Namespace/.test(o))o="namespace";else if(/Type Alias/.test(o))o="type alias";else if(/Enum/.test(o))o="enum";else if(/Interface/.test(o))o="interface";else if(/Type Parameter/.test(o))o="type parameter";else if(!/Import Alias/.test(o)){(0,r.ZK)(`Unmapped type understand/ts/entity/${o}`);continue}let a=e.name;const c=/\(unnamed_(class|function)_\d+\)/.exec(e.name);a=c?"class"===c[1]?(0,i.Yb)({as:"Class"}):(0,i.Yb)({as:"Function"}):(0,i.Yb)(a),s.e.add({id:e.id,type:o,name:a,fullname:e.qualified_name,sourceFile:s.e.getById(e.belongs_to),location:{start:{line:e.line,column:e.start_column},end:{line:e.line,column:e.end_column}},...n})}for(const e of t.relations){const n={};let i=e.from,o=e.type,a=e.to;if(/Import/.test(o)||/Require/.test(o)){if(/From/.test(o))continue;o="import";for(const r of t.relations){const t=s.e.getById(r.to);if(/Alias/.test(r.type)&&t&&r.from===e.to&&r.inFile===e.inFile&&r.line===e.line){n.alias=t.name.printableName;break}}}else if(/Declare Export/.test(o)||/Reexport/.test(o)||/Define (Default )?Export/.test(o)){if(/Default/.test(o)&&(n.default=!0),/Define/.test(o))for(const r of t.relations){const t=s.e.getById(r.from);if(/Alias/.test(r.type)&&t&&r.from===e.to){a=t.id,n.alias=t.name.printableName;break}}o="export"}else if(/Call/.test(o))/New/.test(o)&&(n.new=!0),o="call";else if(/Set/.test(o))/Init/.test(o)&&(n.init=!0),o="set";else if(/Use/.test(o))/Ptr/.test(o),o="use";else if(/Modify/.test(o))o="modify";else if(/Extend/.test(o))o="extend";else if(/Overrides/.test(o))o="override";else if(/Typed/.test(o))o="type",i=e.to,a=e.from;else{if(!/Implement/.test(o)){if(/Setter|Getter|Alias|Define/.test(o))continue;(0,r.ZK)(`Unmapped type understand/ts/relation/${o}`);continue}o="implement"}const c=s.e.getById(i),l=s.e.getById(a);c&&l?s.r.add({from:c,to:l,type:o,location:{file:s.e.getById(e.inFile),start:{line:e.line,column:e.column}},...n}):(0,r.ZK)(`Cannot find from/to entity that relation ${e.from}--${e.type}->${e.to} depends.`)}}else console.log(`Unhandled script version ${t.script_ver}`)}},9311:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>o});var r=n(6263),i=e([r]);r=(i.then?(await i)():i)[0];const o=async(e,t)=>{try{await(0,r.Z)(`und create -db tests/und/${e}/${t}.und -languages Web add ${process.cwd()}/tests/cases/_${e}/_${t} analyze -all`)}catch{return!1}return!0};s()}catch(e){s(e)}}))},8269:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>a});var r=n(6263),i=n(3977),o=e([r]);r=(o.then?(await o)():o)[0];const a=async(e,t,n)=>{try{return await(0,r.Z)(`upython ${n}/packages/enre-cross-tester/src/adapters/understand/ts/extractor.py tests/und/${e}/${t}.und tests/und/${e}/${t}.json`),await(0,i.readFile)(`tests/und/${e}/${t}.json`,"utf-8")}catch(e){return console.error(e.stdout),!1}};s()}catch(e){s(e)}}))},1101:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>d});var r=n(9311),i=n(8269),o=n(398),a=n(1081),c=n(235),l=n(3977),u=e([r,i]);[r,i]=u.then?(await u)():u;const d=async(e,t,n,s,u)=>{try{const s=await(0,l.readFile)(`tests/und/${e}/${t}.json`,"utf-8");return console.log(s.replaceAll(/\s+/g," ")),(0,o.Z)(s),(0,c.Fy)(n)}catch{if(await(0,r.Z)(e,t)){const r=await(0,i.Z)(e,t,s);if(r)return console.log(r.replaceAll(/\s+/g," ")),(0,o.Z)(r),(0,c.Fy)(n);(0,a.vU)(`Failed to extract understand database on ${e}/${t}`)}else(0,a.vU)(`Failed to create understand database on ${e}/${t}`)}};s()}catch(e){s(e)}}))},6391:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var s=n(3267),r=n(1081),i=n(6699),o=n(4576),a=n(7335),c=n(1066),l=n(6695),u=n(9511),d=e([a]);a=(d.then?(await d)():d)[0];const h={cpp:{tag:/[cC][pP][pP]/,str:"cpp",lang:"C++"},java:{tag:/[jJ][aA][vV][aA]/,str:"java",lang:"Java"},python:{tag:/[pP][yY]([tT][hH][oO][nN])?/,str:"py / python",lang:"Python"},ts:{tag:void 0,str:void 0,lang:"TypeScript"}},p=new s.mY;p.description("run doc testing on external tools").argument("<lang>","Target language: cpp / java / python / ts").argument("<docpath>","Absolute path to fixtures' root directory").argument("<tool>","Target tool: depends / enre / sourcetrail / understand").argument("<exepath>","Absolute path to tool executable").action((async(e,t,n,s)=>{["cpp","java","python","ts"].includes(e)||(0,r.je)(`Unsupported language ${e}`),["depends","enre","sourcetrail","understand"].includes(n)||(0,r.je)(`Unsupported tool ${n}`);const d=process.cwd();process.chdir(t);const p=(0,a.Z)(e,n),f=await(0,i.Z)({});let m;await(0,o.Z)(f,(async(e,t)=>{"END_OF_PROCESS"===t.name&&console.log(m)}),void 0,(async(e,t,n)=>{console.log(`${n.name}/${t.assertion.name}`),await(0,u.Z)(n.name,t.assertion.name,t);const r=await p(n.name,t.assertion.name,t,d,s);m&&r?(0,l.Z)(m,r):m=r,console.log(r),(0,c.m)()}),h[e].tag,h[e].str)})),p.parse(process.argv),t()}catch(e){t(e)}}))},9511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(3292);const r=require("node:path");var i=n(1081);const o=async(e,t,{code:n})=>{try{await(0,s.readdir)(`tests/cases/_${e}/_${t}`)}catch{try{await(0,s.mkdir)(`tests/cases/_${e}/_${t}`,{recursive:!0});for(const i of n)await(0,s.mkdir)(`tests/cases/_${e}/_${t}/${(0,r.dirname)(i.path)}`,{recursive:!0}),await(0,s.writeFile)(`tests/cases/_${e}/_${t}/${i.path}`,i.content)}catch{return(0,i.ZK)(`Failed to create dir or write file on tests/cases/_${e}/_${t}`),!1}}return!0}},6263:(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{Z:()=>r});const{promisify:e}=await Promise.resolve().then(n.t.bind(n,3837,23)),r=e((await Promise.resolve().then(n.t.bind(n,2081,23))).exec);s()}catch(e){s(e)}}),1)},6695:(e,t,n)=>{"use strict";function s(e,t){e.entity.insufficientProp+=t.entity.insufficientProp,e.entity.fullyCorrect+=t.entity.fullyCorrect,e.entity.wrongType+=t.entity.wrongType,e.entity.wrongProp+=t.entity.wrongProp,e.entity.missing+=t.entity.missing,e.entity.unexpected+=t.entity.unexpected,e.relation.fullyCorrect+=t.relation.fullyCorrect,e.relation.wrongNode+=t.relation.wrongNode,e.relation.wrongProp+=t.relation.wrongProp,e.relation.missing+=t.relation.missing,e.relation.unexpected+=t.relation.unexpected}n.d(t,{Z:()=>s})},235:(e,t,n)=>{"use strict";n.d(t,{$e:()=>o,bV:()=>a,fJ:()=>c,Fy:()=>i});var s=n(1066),r=n(1081);const i=e=>{const t={entity:{fullyCorrect:0,insufficientProp:0,wrongType:0,wrongProp:0,missing:0,unexpected:0},relation:{fullyCorrect:0,wrongProp:0,wrongNode:0,missing:0,unexpected:0}};let n=!1===e.assertion.entity?.extra?e.assertion.entity.type:void 0;for(const n of e.assertion.entity?.items||[]){let e;switch(n.type){case"file":case"variable":case"class":case"type alias":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"function":{let i=n.name.printableName;"ArrowFunction"===n.name.payload?.as&&(i='<Anonymous as="Function">'),e=s.e.where({type:n.type,name:i}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break}case"parameter":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?(e=s.e.where({type:"variable",name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?t.entity.wrongType+=1:0===e.length&&(!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1):t.entity.missing+=1):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"field":if(e=s.e.where({type:n.type,name:n.name.printableName}),e)if(1===e.length){if(void 0!==n.static&&n.static===e[0].static){if(!0===n.negative){t.entity.unexpected+=1;break}}else if(void 0!==n.static){t.entity.wrongProp+=1;break}if(void 0!==n.private&&n.private===e[0].private){if(!0===n.negative){t.entity.unexpected+=1;break}}else if(void 0!==n.private){void 0===e[0].private?t.entity.insufficientProp+=1:t.entity.wrongProp+=1;break}if(void 0!==n.TSModifier&&n.TSModifier===e[0].TSModifier)!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1;else{if(void 0!==n.TSModifier){void 0===e[0].TSModifier?t.entity.insufficientProp+=1:t.entity.wrongProp+=1;break}!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1}}else 0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity");else t.entity.missing+=1;break;case"method":if(e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e)if(1===e.length){if(void 0!==n.static&&n.static===e[0].static){if(!0===n.negative){t.entity.unexpected+=1;break}}else if(void 0!==n.static){t.entity.wrongProp+=1;break}if(void 0!==n.private&&n.private===e[0].private){if(!0===n.negative){t.entity.unexpected+=1;break}}else if(void 0!==n.private){void 0===e[0].private?t.entity.insufficientProp+=1:t.entity.wrongProp+=1;break}if(void 0!==n.TSModifier&&n.TSModifier===e[0].TSModifier)!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1;else{if(void 0!==n.TSModifier){void 0===e[0].TSModifier?t.entity.insufficientProp+=1:t.entity.wrongProp+=1;break}!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1}}else 0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity");else t.entity.missing+=1;break;case"property":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?(e=s.e.where({type:"method",name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?t.entity.wrongType+=1:0===e.length&&(!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1):t.entity.missing+=1):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"namespace":case"enum":case"interface":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:t.entity.unexpected+=e.length-1:t.entity.missing+=1;break;case"enum member":e=s.e.where({type:"property",name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"type parameter":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1}}n=!1===e.assertion.relation?.extra?e.assertion.relation.type:void 0;for(const n of e.assertion.relation?.items||[]){let i,o=n.to.predicates?.loc?.file;if(void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}const a=s.e.where({type:n.from.type,name:n.from.isFullName?void 0:n.from.name,fullname:n.from.isFullName?n.from.name:void 0,inFile:"file"===n.from.type?void 0:i});if(1!==a?.length){["enum","interface"].includes(n.from.type)?t.relation.wrongNode+=1:(0,r.ZK)("Insufficient or wrong predicates to determine only one [from] entity");continue}if(o=n.to.predicates?.loc?.file,i=void 0,void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}const c=s.e.where({type:n.to.type,name:n.to.isFullName?void 0:n.to.name,fullname:n.to.isFullName?n.to.name:void 0,inFile:"file"===n.to.type?void 0:i});if(1!==c?.length){["enum","interface"].includes(n.to.type)?t.relation.wrongNode+=1:(0,r.ZK)("Insufficient or wrong predicates to determine only one [to] entity");continue}let l;switch(n.type){case"import":case"export":l=s.r.where({from:a[0],type:n.type,to:c[0],line:n.loc.start.line}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:n.alias?n.alias===l[0].alias?t.relation.fullyCorrect+=1:t.relation.wrongProp+=1:t.relation.fullyCorrect+=1:0===l.length&&(n.negative?t.relation.fullyCorrect+=1:t.relation.missing+=1));break;case"call":case"use":case"modify":case"extend":case"override":case"type":case"implement":l=s.r.where({from:a[0],type:n.type,to:c[0],line:n.loc.start.line}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:t.relation.fullyCorrect+=1:0===l.length&&(n.negative?t.relation.fullyCorrect+=1:t.relation.missing+=1));break;case"set":l=s.r.where({from:a[0],type:n.type,to:c[0],line:n.loc.start.line}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:n.init?n.init===l[0].init?t.relation.fullyCorrect+=1:t.relation.wrongProp+=1:t.relation.fullyCorrect+=1:0===l.length&&(n.negative?t.relation.fullyCorrect+=1:t.relation.missing+=1))}}return t},o=e=>{const t={entity:{fullyCorrect:0,insufficientProp:0,wrongType:0,wrongProp:0,missing:0,unexpected:0},relation:{fullyCorrect:0,wrongProp:0,wrongNode:0,missing:0,unexpected:0}};let n=!1===e.assertion.entity?.extra?e.assertion.entity.type:void 0;for(const n of e.assertion.entity?.items||[]){let e;switch(n.type){case"file":case"alias":case"class":case"struct":case"union":case"macro":case"enum":case"enumerator":case"variable":case"function":case"typedef":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc?.start?.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?(e=s.e.where({name:n.name.printableName,startLine:n.loc.start.line}),e&&(1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.wrongType+=1:!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1)):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"template":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:n.kind===e[0].kind?t.entity.fullyCorrect+=1:t.entity.wrongProp+=1:0===e.length?(e=s.e.where({type:"depends-aggregation",name:n.name.printableName,startLine:n.loc.start.line}),e&&(1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.wrongType+=1:!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1)):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"namespace":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1}}n=!1===e.assertion.relation?.extra?e.assertion.relation.type:void 0;for(const n of e.assertion.relation?.items||[]){let i,o=n.to.predicates?.loc?.file;if(void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}let a=n.from.name;a.includes(".cpp")||a.includes(".h")||-1===a.lastIndexOf(".")||(a=a.substring(a.lastIndexOf(".")+1));let c=s.e.where({type:n.from.type,name:a,startLine:n.from.predicates?.loc?.start?.line});if(1!==c?.length&&1!==(c=s.e.where({type:"depends-aggregation",name:a}))?.length){(0,r.ZK)("Insufficient or wrong predicates to determine only one [from] entity"),t.relation.wrongNode+=1;continue}if(o=n.to.predicates?.loc?.file,i=void 0,void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}a=n.to.name,a.includes(".cpp")||a.includes(".h")||-1===a.lastIndexOf(".")||(a=a.substring(a.lastIndexOf(".")+1));let l,u=s.e.where({type:n.to.type,name:a,startLine:n.to.predicates?.loc?.start?.line});if(1===u?.length||1===(u=s.e.where({type:"depends-aggregation",name:a}))?.length)switch(n.type){case"alias":case"define":case"call":case"exception":case"extend":case"friend":case"include":case"modify":case"override":case"parameter":case"set":case"use":case"using":l=s.r.where({from:c[0],type:n.type,to:u[0]}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:t.relation.fullyCorrect+=1:0===l.length?n.negative?t.relation.fullyCorrect+=1:(l=s.r.where({from:c[0],to:u[0]}),l&&(1===l.length?t.relation.wrongProp+=1:t.relation.missing+=1)):t.relation.unexpected+=l.length-1)}else(0,r.ZK)("Insufficient or wrong predicates to determine only one [to] entity"),t.relation.wrongNode+=1}return t},a=e=>{const t={entity:{fullyCorrect:0,insufficientProp:0,wrongType:0,wrongProp:0,missing:0,unexpected:0},relation:{fullyCorrect:0,wrongProp:0,wrongNode:0,missing:0,unexpected:0}};let n=!1===e.assertion.entity?.extra?e.assertion.entity.type:void 0;for(const n of e.assertion.entity?.items||[]){let e;switch(n.type){case"package":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?(e=s.e.where({type:"depends-aggregation",name:n.name.printableName,startLine:n.loc.start.line}),e&&(1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.wrongType+=1:!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1)):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1;break;case"file":case"class":case"enum":case"annotation":case"annotationmember":case"interface":case"method":case"module":case"record":case"typeparameter":case"variable":e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc?.start?.line}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?(e=s.e.where({name:n.name.printableName,startLine:n.loc?.start?.line}),e&&(1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.wrongType+=1:!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1)):(0,r.ZK)("Insufficient predicates to determine only one entity"):t.entity.missing+=1}}n=!1===e.assertion.relation?.extra?e.assertion.relation.type:void 0;for(const n of e.assertion.relation?.items||[]){let i,o=n.to.predicates?.loc?.file;if(void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}let a=n.from.name;a.includes(".java")||-1===a.lastIndexOf(".")||(a=a.substring(a.lastIndexOf(".")+1));let c=s.e.where({type:n.from.type,name:a,startLine:n.from.predicates?.loc?.start?.line,inFile:"file"===n.from.type?void 0:i});if(1!==c?.length&&1!==(c=s.e.where({type:"depends-aggregation",name:a}))?.length){(0,r.ZK)("Insufficient or wrong predicates to determine only one [from] entity"),t.relation.wrongNode+=1;continue}if(o=n.to.predicates?.loc?.file,i=void 0,void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}a=n.to.name,a.includes(".java")||-1===a.lastIndexOf(".")||(a=a.substring(a.lastIndexOf(".")+1));let l,u=s.e.where({type:n.to.type,name:a,startLine:n.from.predicates?.loc?.start?.line,inFile:"file"===n.to.type?void 0:i});if(1===u?.length||1===(u=s.e.where({type:"depends-aggregation",name:a}))?.length)switch(n.type){case"import":case"inherit":case"implement":case"contain":case"call":case"parameter":case"typed":case"usevar":case"set":case"modify":case"annotate":case"cast":case"override":case"reflect":case"define":l=s.r.where({from:c[0],type:n.type,to:u[0]}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:t.relation.fullyCorrect+=1:0===l.length&&(n.negative?t.relation.fullyCorrect+=1:t.relation.missing+=1))}else(0,r.ZK)("Insufficient or wrong predicates to determine only one [to] entity"),t.relation.wrongNode+=1}return t},c=e=>{const t={entity:{fullyCorrect:0,insufficientProp:0,wrongType:0,wrongProp:0,missing:0,unexpected:0},relation:{fullyCorrect:0,wrongProp:0,wrongNode:0,missing:0,unexpected:0}};let n=!1===e.assertion.entity?.extra?e.assertion.entity.type:void 0;for(const n of e.assertion.entity?.items||[]){let e;switch(n.type){case"package":case"module":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(t.entity.fullyCorrect+=1,t.entity.unexpected+=e.length-1):t.entity.missing+=1;break;case"variable":case"function":case"parameter":case"class":case"attribute":case"alias":case"anonymousfunction":e=s.e.where({type:n.type,name:n.name.printableName}),e?1===e.length?!0===n.negative?t.entity.unexpected+=1:e[0].location?.start.line===n.loc.start.line?t.entity.fullyCorrect+=1:t.entity.wrongProp+=1:0===e.length?!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1:(e=s.e.where({type:n.type,name:n.name.printableName,startLine:n.loc.start.line}),e&&(1===e.length?!0===n.negative?t.entity.unexpected+=1:t.entity.fullyCorrect+=1:!0===n.negative?t.entity.fullyCorrect+=1:t.entity.missing+=1)):t.entity.missing+=1}}n=!1===e.assertion.relation?.extra?e.assertion.relation.type:void 0;for(const n of e.assertion.relation?.items||[]){let i,o=n.to.predicates?.loc?.file;if(void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}const a=s.e.where({type:n.from.type,name:-1===n.from.name.indexOf(".")?n.from.name:n.from.name.substring(n.from.name.lastIndexOf(".")+1)});if(1!==a?.length){(0,r.ZK)("Insufficient or wrong predicates to determine only one [from] entity"),t.relation.wrongNode+=1;continue}if(o=n.to.predicates?.loc?.file,i=void 0,void 0!==o){const t=e.code[o].path,n=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));i=s.e.where({type:"file",name:n})[0]}const c=s.e.where({type:n.to.type,name:-1===n.to.name.indexOf(".")?n.to.name:n.to.name.substring(n.to.name.lastIndexOf(".")+1)});if(1!==c?.length){(0,r.ZK)("Insufficient or wrong predicates to determine only one [to] entity"),t.relation.wrongNode+=1;continue}let l;switch(n.type){case"define":case"use":case"set":case"import":case"call":case"inherit":case"contain":case"annotate":case"alias":l=s.r.where({from:a[0],type:n.type,to:c[0]}),l&&(1===l.length?n.negative?t.relation.unexpected+=1:t.relation.fullyCorrect+=1:0===l.length&&(n.negative?t.relation.fullyCorrect+=1:t.relation.missing+=1))}}return t}},1066:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,r:()=>r,m:()=>i});const s=(()=>{let e=[];return{add:t=>{e.push(t)},get all(){return e},getById:t=>e.find((e=>e.id===t)),where:t=>{if(void 0===t)return;const{type:n,name:s,fullname:r,inFile:i,startLine:o,startColumn:a,endLine:c,endColumn:l,...u}=t;let d=e;n&&(d=n.startsWith("!")?d.filter((e=>e.type!==n.slice(1))):d.filter((e=>e.type===n))),s&&("string"==typeof s?d=d.filter((e=>("string"==typeof e.name?e.name:e.name.printableName)===s)):s instanceof RegExp&&(d=d.filter((e=>s.test("string"==typeof e.name?e.name:e.name.printableName))))),r&&(d=d.filter((e=>e.fullname===r))),i&&(d=d.filter((e=>e.sourceFile===i))),o&&(d=d.filter((e=>e.location?.start.line===o))),a&&(d=d.filter((e=>e.location?.start.column===a))),c&&(d=d.filter((e=>e.location?.end.line===c))),l&&(d=d.filter((e=>e.location?.end.column===l)));for(const[e,t]of Object.entries(u))d=d.filter((n=>e in n&&n[e]===t));return d},reset:()=>{e=[]}}})(),r=(()=>{let e=[];return{add:t=>{e.push(t)},get all(){return e},where:t=>{if(void 0===t)return;const{from:n,to:s,type:r,inFile:i,line:o,column:a}=t;let c=e;return r&&(c=c.filter((e=>e.type===r))),n&&(c=c.filter((e=>e.from===n))),s&&(c=c.filter((e=>e.to===s))),i&&(c=c.filter((e=>e.location.file===i))),o&&(c=c.filter((e=>e.location.start.line===o))),a&&(c=c.filter((e=>e.location.start.column===a))),c},reset:()=>{e=[]}}})(),i=()=>{s.reset(),r.reset()}},540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var s=t.length-1,r=1;r<s;++r)t[r]=t[r].slice(1,-1);return t[s]=t[s].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function s(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function i(e){var s="[A-Za-z]",r="[0-9]",i=t(r,"[A-Fa-f]"),o=n(n("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+n("%[89A-Fa-f]"+i+"%"+i+i)+"|"+n("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),l=e?"[\\uE000-\\uF8FF]":"[]",u=t(s,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(s+t(s,r,"[\\+\\-\\.]")+"*"),h=n(n(o+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?"+r)),f=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(i+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+f),y=n(n(m+"\\:")+"{6}"+g),v=n("\\:\\:"+n(m+"\\:")+"{5}"+g),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),w=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),$=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),x=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),k=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),_=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),E=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),S=n([y,v,b,w,$,x,k,_,E].join("|")),N=n(n(u+"|"+o)+"+"),O=(n(S+"\\%25"+N),n(S+n("\\%25|\\%(?!"+i+"{2})")+N)),C=n("[vV]"+i+"+\\."+t(u,a,"[\\:]")+"+"),A=n("\\["+n(O+"|"+S+"|"+C)+"\\]"),T=n(n(o+"|"+t(u,a))+"*"),P=n(A+"|"+f+"(?!"+T+")|"+T),I=n("[0-9]*"),j=n(n(h+"@")+"?"+P+n("\\:"+I)+"?"),L=n(o+"|"+t(u,a,"[\\:\\@]")),R=n(L+"*"),M=n(L+"+"),D=n(n(o+"|"+t(u,a,"[\\@]"))+"+"),F=n(n("\\/"+R)+"*"),U=n("\\/"+n(M+F)+"?"),V=n(D+F),B=n(M+F),q="(?!"+L+")",K=(n(F+"|"+U+"|"+V+"|"+B+"|"+q),n(n(L+"|"+t("[\\/\\?]",l))+"*")),Z=n(n(L+"|[\\/\\?]")+"*"),z=n(n("\\/\\/"+j+F)+"|"+U+"|"+B+"|"+q),H=n(d+"\\:"+z+n("\\?"+K)+"?"+n("\\#"+Z)+"?"),Y=n(n("\\/\\/"+j+F)+"|"+U+"|"+V+"|"+q),G=n(Y+n("\\?"+K)+"?"+n("\\#"+Z)+"?");return n(H+"|"+G),n(d+"\\:"+z+n("\\?"+K)+"?"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+I+")")+"?)")+"?("+F+"|"+U+"|"+B+"|"+q+")"),n("\\?("+K+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+I+")")+"?)")+"?("+F+"|"+U+"|"+V+"|"+q+")"),n("\\?("+K+")"),n("\\#("+Z+")"),n(n("\\/\\/("+n("("+h+")@")+"?("+P+")"+n("\\:("+I+")")+"?)")+"?("+F+"|"+U+"|"+B+"|"+q+")"),n("\\?("+K+")"),n("\\#("+Z+")"),n("("+h+")@"),n("\\:("+I+")"),{NOT_SCHEME:new RegExp(t("[^]",s,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,c),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+i+"{2})")+"("+N+")")+"?\\]?$")}}var o=i(!1),a=i(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],s=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(e){r=!0,i=e}finally{try{!s&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,u=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function y(e){throw new RangeError(f[e])}function v(e,t){var n=e.split("@"),s="";return n.length>1&&(s=n[0]+"@",e=n[1]),s+function(e,t){for(var n=[],s=e.length;s--;)n[s]=t(e[s]);return n}((e=e.replace(p,".")).split("."),t).join(".")}function b(e){for(var t=[],n=0,s=e.length;n<s;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<s){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},$=function(e,t,n){var s=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;s+=u)e=m(e/35);return m(s+36*e/(e+38))},x=function(e){var t,n=[],s=e.length,r=0,i=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&y("not-basic"),n.push(e.charCodeAt(c));for(var d=a>0?a+1:0;d<s;){for(var h=r,p=1,f=u;;f+=u){d>=s&&y("invalid-input");var g=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u;(g>=u||g>m((l-r)/p))&&y("overflow"),r+=g*p;var v=f<=o?1:f>=o+26?26:f-o;if(g<v)break;var b=u-v;p>m(l/b)&&y("overflow"),p*=b}var w=n.length+1;o=$(r-h,w,0==h),m(r/w)>l-i&&y("overflow"),i+=m(r/w),r%=w,n.splice(r++,0,i)}return String.fromCodePoint.apply(String,n)},k=function(e){var t=[],n=(e=b(e)).length,s=128,r=0,i=72,o=!0,a=!1,c=void 0;try{for(var d,h=e[Symbol.iterator]();!(o=(d=h.next()).done);o=!0){var p=d.value;p<128&&t.push(g(p))}}catch(e){a=!0,c=e}finally{try{!o&&h.return&&h.return()}finally{if(a)throw c}}var f=t.length,v=f;for(f&&t.push("-");v<n;){var x=l,k=!0,_=!1,E=void 0;try{for(var S,N=e[Symbol.iterator]();!(k=(S=N.next()).done);k=!0){var O=S.value;O>=s&&O<x&&(x=O)}}catch(e){_=!0,E=e}finally{try{!k&&N.return&&N.return()}finally{if(_)throw E}}var C=v+1;x-s>m((l-r)/C)&&y("overflow"),r+=(x-s)*C,s=x;var A=!0,T=!1,P=void 0;try{for(var I,j=e[Symbol.iterator]();!(A=(I=j.next()).done);A=!0){var L=I.value;if(L<s&&++r>l&&y("overflow"),L==s){for(var R=r,M=u;;M+=u){var D=M<=i?1:M>=i+26?26:M-i;if(R<D)break;var F=R-D,U=u-D;t.push(g(w(D+F%U,0))),R=m(F/U)}t.push(g(w(R,0))),i=$(r,C,v==f),r=0,++v}}}catch(e){T=!0,P=e}finally{try{!A&&j.return&&j.return()}finally{if(T)throw P}}++r,++s}return t.join("")},_=function(e){return v(e,(function(e){return h.test(e)?"xn--"+k(e):e}))},E=function(e){return v(e,(function(e){return d.test(e)?x(e.slice(4).toLowerCase()):e}))},S={};function N(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function O(e){for(var t="",n=0,s=e.length;n<s;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(s-n>=6){var i=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&i)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(s-n>=9){var o=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function C(e,t){function n(e){var n=O(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,N).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,N).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,N).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,N).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,N).replace(t.PCT_ENCODED,r)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var n=e.match(t.IPV4ADDRESS)||[],s=c(n,2)[1];return s?s.split(".").map(A).join("."):e}function P(e,t){var n=e.match(t.IPV6ADDRESS)||[],s=c(n,3),r=s[1],i=s[2];if(r){for(var o=r.toLowerCase().split("::").reverse(),a=c(o,2),l=a[0],u=a[1],d=u?u.split(":").map(A):[],h=l.split(":").map(A),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),y=0;y<f;++y)g[y]=d[y]||h[m+y]||"";p&&(g[f-1]=T(g[f-1],t));var v=g.reduce((function(e,t,n){if(!t||"0"===t){var s=e[e.length-1];s&&s.index+s.length===n?s.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var w=g.slice(0,v.index),$=g.slice(v.index+v.length);b=w.join(":")+"::"+$.join(":")}else b=g.join(":");return i&&(b+="%"+i),b}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,j=void 0==="".match(/(){0}/)[1];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},s=!1!==t.iri?a:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(I);if(r){j?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=P(T(n.host,s),s)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var i=S[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)C(n,s);else{if(n.host&&(t.domainHost||i&&i.domainHost))try{n.host=_(n.host.replace(s.PCT_ENCODED,O).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}C(n,o)}i&&i.parse&&i.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function R(e,t){var n=!1!==t.iri?a:o,s=[];return void 0!==e.userinfo&&(s.push(e.userinfo),s.push("@")),void 0!==e.host&&s.push(P(T(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(s.push(":"),s.push(String(e.port))),s.length?s.join(""):void 0}var M=/^\.\.?\//,D=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function V(e){for(var t=[];e.length;)if(e.match(M))e=e.replace(M,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(U);if(!n)throw new Error("Unexpected dot segment condition");var s=n[0];e=e.slice(s.length),t.push(s)}return t.join("")}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:o,s=[],r=S[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?E(e.host):_(e.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}C(e,n),"suffix"!==t.reference&&e.scheme&&(s.push(e.scheme),s.push(":"));var i=R(e,t);if(void 0!==i&&("suffix"!==t.reference&&s.push("//"),s.push(i),e.path&&"/"!==e.path.charAt(0)&&s.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||r&&r.absolutePath||(c=V(c)),void 0===i&&(c=c.replace(/^\/\//,"/%2F")),s.push(c)}return void 0!==e.query&&(s.push("?"),s.push(e.query)),void 0!==e.fragment&&(s.push("#"),s.push(e.fragment)),s.join("")}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={};return arguments[3]||(e=L(B(e,n),n),t=L(B(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=V(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=V(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=V(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=V(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function K(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:o.PCT_ENCODED,O)}var Z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize};function H(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Y={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=H(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(H(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),s=c(n,2),r=s[0],i=s[1];e.path=r&&"/"!==r?r:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:Y.domainHost,parse:Y.parse,serialize:Y.serialize},W={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",X=n(n("%[EFef][0-9A-Fa-f]%"+Q+Q+"%"+Q+Q)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+Q+Q)+"|"+n("%"+Q+Q)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(J,"g"),ne=new RegExp(X,"g"),se=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),re=new RegExp(t("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=re;function oe(e){var t=O(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse:function(e,t){var n=e,s=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,i={},o=n.query.split("&"),a=0,c=o.length;a<c;++a){var l=o[a].split("=");switch(l[0]){case"to":for(var u=l[1].split(","),d=0,h=u.length;d<h;++d)s.push(u[d]);break;case"subject":n.subject=K(l[1],t);break;case"body":n.body=K(l[1],t);break;default:r=!0,i[K(l[0],t)]=K(l[1],t)}}r&&(n.headers=i)}n.query=void 0;for(var p=0,f=s.length;p<f;++p){var m=s[p].split("@");if(m[0]=K(m[0]),t.unicodeSupport)m[1]=K(m[1],t).toLowerCase();else try{m[1]=_(K(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}s[p]=m.join("@")}return n},serialize:function(e,t){var n,s=e,i=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(i){for(var o=0,a=i.length;o<a;++o){var c=String(i[o]),l=c.lastIndexOf("@"),u=c.slice(0,l).replace(ne,oe).replace(ne,r).replace(se,N),d=c.slice(l+1);try{d=t.iri?E(d):_(K(d,t).toLowerCase())}catch(e){s.error=s.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[o]=u+"@"+d}s.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==W[f]&&p.push(f.replace(ne,oe).replace(ne,r).replace(re,N)+"="+h[f].replace(ne,oe).replace(ne,r).replace(ie,N));return p.length&&(s.query=p.join("&")),s}},ce=/^([^\:]+)\:(.*)/,le={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ce),s=e;if(n){var r=t.scheme||s.scheme||"urn",i=n[1].toLowerCase(),o=n[2],a=r+":"+(t.nid||i),c=S[a];s.nid=i,s.nss=o,s.path=void 0,c&&(s=c.parse(s,t))}else s.error=s.error||"URN can not be parsed.";return s},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",s=e.nid,r=n+":"+(t.nid||s),i=S[r];i&&(e=i.serialize(e,t));var o=e,a=e.nss;return o.path=(s||t.nid)+":"+a,o}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,de={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ue)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};S[Z.scheme]=Z,S[z.scheme]=z,S[Y.scheme]=Y,S[G.scheme]=G,S[ae.scheme]=ae,S[le.scheme]=le,S[de.scheme]=de,e.SCHEMES=S,e.pctEncChar=N,e.pctDecChars=O,e.parse=L,e.removeDotSegments=V,e.serialize=B,e.resolveComponents=q,e.resolve=function(e,t,n){var s=function(e,t){var n=e;if(t)for(var s in t)n[s]=t[s];return n}({scheme:"null"},n);return B(q(L(e,s),L(t,s),s,!0),s)},e.normalize=function(e,t){return"string"==typeof e?e=B(L(e,t),t):"object"===s(e)&&(e=L(B(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=B(L(e,n),n):"object"===s(e)&&(e=B(e,n)),"string"==typeof t?t=B(L(t,n),n):"object"===s(t)&&(t=B(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:o.ESCAPE,N)},e.unescapeComponent=K,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2081:e=>{"use strict";e.exports=require("child_process")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},3977:e=>{"use strict";e.exports=require("node:fs/promises")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},3837:e=>{"use strict";e.exports=require("util")},7461:(e,t,n)=>{const{Argument:s}=n(8998),{Command:r}=n(5282),{CommanderError:i,InvalidArgumentError:o}=n(8056),{Help:a}=n(8917),{Option:c}=n(5790);(t=e.exports=new r).program=t,t.Argument=s,t.Command=r,t.CommanderError=i,t.Help=a,t.InvalidArgumentError=o,t.InvalidOptionArgumentError=o,t.Option=c},8998:(e,t,n)=>{const{InvalidArgumentError:s}=n(8056);t.Argument=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t!==this.defaultValue&&Array.isArray(t)?t.concat(e):[e]}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,t)=>{if(!this.argChoices.includes(e))throw new s(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,t):e},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},t.humanReadableArgName=function(e){const t=e.name()+(!0===e.variadic?"...":"");return e.required?"<"+t+">":"["+t+"]"}},5282:(e,t,n)=>{const s=n(2361).EventEmitter,r=n(2081),i=n(1017),o=n(7147),a=n(7282),{Argument:c,humanReadableArgName:l}=n(8998),{CommanderError:u}=n(8056),{Help:d}=n(8917),{Option:h,splitOptionFlags:p,DualOptions:f}=n(5790),{suggestSimilar:m}=n(1812);class g extends s{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:e=>a.stdout.write(e),writeErr:e=>a.stderr.write(e),getOutHelpWidth:()=>a.stdout.isTTY?a.stdout.columns:void 0,getErrHelpWidth:()=>a.stderr.isTTY?a.stderr.columns:void 0,outputError:(e,t)=>t(e)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,t,n){let s=t,r=n;"object"==typeof s&&null!==s&&(r=s,s=null),r=r||{};const[,i,o]=e.match(/([^ ]+) *(.*)/),a=this.createCommand(i);return s&&(a.description(s),a._executableHandler=!0),r.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!r.noHelp&&!r.hidden),a._executableFile=r.executableFile||null,o&&a.arguments(o),this.commands.push(a),a.parent=this,a.copyInheritedSettings(this),s?this:a}createCommand(e){return new g(e)}createHelp(){return Object.assign(new d,this.configureHelp())}configureHelp(e){return void 0===e?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return void 0===e?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return"string"!=typeof e&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(t=t||{}).isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new c(e,t)}argument(e,t,n,s){const r=this.createArgument(e,t);return"function"==typeof n?r.default(s).argParser(n):r.default(n),this.addArgument(r),this}arguments(e){return e.split(/ +/).forEach((e=>{this.argument(e)})),this}addArgument(e){const t=this._args.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&void 0!==e.defaultValue&&void 0===e.parseArg)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,t){return!1===e?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,"string"==typeof e&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return void 0===this._addImplicitHelpCommand?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){const n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.\nExpecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return this._exitCallback=e||(e=>{if("commander.executeSubCommandAsync"!==e.code)throw e}),this}_exit(e,t,n){this._exitCallback&&this._exitCallback(new u(e,t,n)),a.exit(e)}action(e){return this._actionHandler=t=>{const n=this._args.length,s=t.slice(0,n);return this._storeOptionsAsProperties?s[n]=this:s[n]=this.opts(),s.push(this),e.apply(this,s)},this}createOption(e,t){return new h(e,t)}addOption(e){const t=e.name(),n=e.attributeName();if(e.negate){const t=e.long.replace(/^--no-/,"--");this._findOption(t)||this.setOptionValueWithSource(n,void 0===e.defaultValue||e.defaultValue,"default")}else void 0!==e.defaultValue&&this.setOptionValueWithSource(n,e.defaultValue,"default");this.options.push(e);const s=(t,s,r)=>{null==t&&void 0!==e.presetArg&&(t=e.presetArg);const i=this.getOptionValue(n);if(null!==t&&e.parseArg)try{t=e.parseArg(t,i)}catch(e){if("commander.invalidArgument"===e.code){const t=`${s} ${e.message}`;this.error(t,{exitCode:e.exitCode,code:e.code})}throw e}else null!==t&&e.variadic&&(t=e._concatValue(t,i));null==t&&(t=!e.negate&&(!(!e.isBoolean()&&!e.optional)||"")),this.setOptionValueWithSource(n,t,r)};return this.on("option:"+t,(t=>{const n=`error: option '${e.flags}' argument '${t}' is invalid.`;s(t,n,"cli")})),e.envVar&&this.on("optionEnv:"+t,(t=>{const n=`error: option '${e.flags}' value '${t}' from env '${e.envVar}' is invalid.`;s(t,n,"env")})),this}_optionEx(e,t,n,s,r){if("object"==typeof t&&t instanceof h)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const i=this.createOption(t,n);if(i.makeOptionMandatory(!!e.mandatory),"function"==typeof s)i.default(r).argParser(s);else if(s instanceof RegExp){const e=s;s=(t,n)=>{const s=e.exec(t);return s?s[0]:n},i.default(r).argParser(s)}else i.default(s);return this.addOption(i)}option(e,t,n,s){return this._optionEx({},e,t,n,s)}requiredOption(e,t,n,s){return this._optionEx({mandatory:!0},e,t,n,s)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this}setOptionValueWithSource(e,t,n){return this.setOptionValue(e,t),this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}_prepareUserArgs(e,t){if(void 0!==e&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");let n;switch(t=t||{},void 0===e&&(e=a.argv,a.versions&&a.versions.electron&&(t.from="electron")),this.rawArgs=e.slice(),t.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":a.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,t){const n=this._prepareUserArgs(e,t);return this._parseCommand([],n),this}async parseAsync(e,t){const n=this._prepareUserArgs(e,t);return await this._parseCommand([],n),this}_executeSubCommand(e,t){t=t.slice();let n=!1;const s=[".js",".ts",".tsx",".mjs",".cjs"];function c(e,t){const n=i.resolve(e,t);if(o.existsSync(n))return n;if(s.includes(i.extname(t)))return;const r=s.find((e=>o.existsSync(`${n}${e}`)));return r?`${n}${r}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let l,d=e._executableFile||`${this._name}-${e._name}`,h=this._executableDir||"";if(this._scriptPath){let e;try{e=o.realpathSync(this._scriptPath)}catch(t){e=this._scriptPath}h=i.resolve(i.dirname(e),h)}if(h){let t=c(h,d);if(!t&&!e._executableFile&&this._scriptPath){const n=i.basename(this._scriptPath,i.extname(this._scriptPath));n!==this._name&&(t=c(h,`${n}-${e._name}`))}d=t||d}n=s.includes(i.extname(d)),"win32"!==a.platform?n?(t.unshift(d),t=v(a.execArgv).concat(t),l=r.spawn(a.argv[0],t,{stdio:"inherit"})):l=r.spawn(d,t,{stdio:"inherit"}):(t.unshift(d),t=v(a.execArgv).concat(t),l=r.spawn(a.execPath,t,{stdio:"inherit"})),l.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((e=>{a.on(e,(()=>{!1===l.killed&&null===l.exitCode&&l.kill(e)}))}));const p=this._exitCallback;p?l.on("close",(()=>{p(new u(a.exitCode||0,"commander.executeSubCommandAsync","(close)"))})):l.on("close",a.exit.bind(a)),l.on("error",(t=>{if("ENOENT"===t.code){const t=h?`searched for local subcommand relative to directory '${h}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",n=`'${d}' does not exist\n - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${t}`;throw new Error(n)}if("EACCES"===t.code)throw new Error(`'${d}' not executable`);if(p){const e=new u(1,"commander.executeSubCommandAsync","(error)");e.nestedError=t,p(e)}else a.exit(1)})),this.runningCommand=l}_dispatchSubcommand(e,t,n){const s=this._findCommand(e);let r;return s||this.help({error:!0}),r=this._chainOrCallSubCommandHook(r,s,"preSubcommand"),r=this._chainOrCall(r,(()=>{if(!s._executableHandler)return s._parseCommand(t,n);this._executeSubCommand(s,t.concat(n))})),r}_checkNumberOfArguments(){this._args.forEach(((e,t)=>{e.required&&null==this.args[t]&&this.missingArgument(e.name())})),this._args.length>0&&this._args[this._args.length-1].variadic||this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){const e=(e,t,n)=>{let s=t;if(null!==t&&e.parseArg)try{s=e.parseArg(t,n)}catch(n){if("commander.invalidArgument"===n.code){const s=`error: command-argument value '${t}' is invalid for argument '${e.name()}'. ${n.message}`;this.error(s,{exitCode:n.exitCode,code:n.code})}throw n}return s};this._checkNumberOfArguments();const t=[];this._args.forEach(((n,s)=>{let r=n.defaultValue;n.variadic?s<this.args.length?(r=this.args.slice(s),n.parseArg&&(r=r.reduce(((t,s)=>e(n,s,t)),n.defaultValue))):void 0===r&&(r=[]):s<this.args.length&&(r=this.args[s],n.parseArg&&(r=e(n,r,n.defaultValue))),t[s]=r})),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&"function"==typeof e.then?e.then((()=>t())):t()}_chainOrCallHooks(e,t){let n=e;const s=[];return b(this).reverse().filter((e=>void 0!==e._lifeCycleHooks[t])).forEach((e=>{e._lifeCycleHooks[t].forEach((t=>{s.push({hookedCommand:e,callback:t})}))})),"postAction"===t&&s.reverse(),s.forEach((e=>{n=this._chainOrCall(n,(()=>e.callback(e.hookedCommand,this)))})),n}_chainOrCallSubCommandHook(e,t,n){let s=e;return void 0!==this._lifeCycleHooks[n]&&this._lifeCycleHooks[n].forEach((e=>{s=this._chainOrCall(s,(()=>e(this,t)))})),s}_parseCommand(e,t){const n=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),t=n.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return 1===e.length&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return y(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),y(this,n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const s=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},r=`command:${this.name()}`;if(this._actionHandler){let n;return s(),this._processArguments(),n=this._chainOrCallHooks(n,"preAction"),n=this._chainOrCall(n,(()=>this._actionHandler(this.processedArgs))),this.parent&&(n=this._chainOrCall(n,(()=>{this.parent.emit(r,e,t)}))),n=this._chainOrCallHooks(n,"postAction"),n}if(this.parent&&this.parent.listenerCount(r))s(),this._processArguments(),this.parent.emit(r,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(s(),this._processArguments())}else this.commands.length?(s(),this.help({error:!0})):(s(),this._processArguments())}_findCommand(e){if(e)return this.commands.find((t=>t._name===e||t._aliases.includes(e)))}_findOption(e){return this.options.find((t=>t.is(e)))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach((t=>{t.mandatory&&void 0===e.getOptionValue(t.attributeName())&&e.missingMandatoryOptionValue(t)}))}_checkForConflictingLocalOptions(){const e=this.options.filter((e=>{const t=e.attributeName();return void 0!==this.getOptionValue(t)&&"default"!==this.getOptionValueSource(t)}));e.filter((e=>e.conflictsWith.length>0)).forEach((t=>{const n=e.find((e=>t.conflictsWith.includes(e.attributeName())));n&&this._conflictingOption(t,n)}))}_checkForConflictingOptions(){for(let e=this;e;e=e.parent)e._checkForConflictingLocalOptions()}parseOptions(e){const t=[],n=[];let s=t;const r=e.slice();function i(e){return e.length>1&&"-"===e[0]}let o=null;for(;r.length;){const e=r.shift();if("--"===e){s===n&&s.push(e),s.push(...r);break}if(!o||i(e)){if(o=null,i(e)){const t=this._findOption(e);if(t){if(t.required){const e=r.shift();void 0===e&&this.optionMissingArgument(t),this.emit(`option:${t.name()}`,e)}else if(t.optional){let e=null;r.length>0&&!i(r[0])&&(e=r.shift()),this.emit(`option:${t.name()}`,e)}else this.emit(`option:${t.name()}`);o=t.variadic?t:null;continue}}if(e.length>2&&"-"===e[0]&&"-"!==e[1]){const t=this._findOption(`-${e[1]}`);if(t){t.required||t.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${t.name()}`,e.slice(2)):(this.emit(`option:${t.name()}`),r.unshift(`-${e.slice(2)}`));continue}}if(/^--[^=]+=/.test(e)){const t=e.indexOf("="),n=this._findOption(e.slice(0,t));if(n&&(n.required||n.optional)){this.emit(`option:${n.name()}`,e.slice(t+1));continue}}if(i(e)&&(s=n),(this._enablePositionalOptions||this._passThroughOptions)&&0===t.length&&0===n.length){if(this._findCommand(e)){t.push(e),r.length>0&&n.push(...r);break}if(e===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(e),r.length>0&&t.push(...r);break}if(this._defaultCommandName){n.push(e),r.length>0&&n.push(...r);break}}if(this._passThroughOptions){s.push(e),r.length>0&&s.push(...r);break}s.push(e)}else this.emit(`option:${o.name()}`,e)}return{operands:t,unknown:n}}opts(){if(this._storeOptionsAsProperties){const e={},t=this.options.length;for(let n=0;n<t;n++){const t=this.options[n].attributeName();e[t]=t===this._versionOptionName?this._version:this[t]}return e}return this._optionValues}optsWithGlobals(){return b(this).reduce(((e,t)=>Object.assign(e,t.opts())),{})}error(e,t){this._outputConfiguration.outputError(`${e}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const n=t||{},s=n.exitCode||1,r=n.code||"commander.error";this._exit(s,r,e)}_parseOptionsEnv(){this.options.forEach((e=>{if(e.envVar&&e.envVar in a.env){const t=e.attributeName();(void 0===this.getOptionValue(t)||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,a.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}}))}_parseOptionsImplied(){const e=new f(this.options),t=e=>void 0!==this.getOptionValue(e)&&!["default","implied"].includes(this.getOptionValueSource(e));this.options.filter((n=>void 0!==n.implied&&t(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n))).forEach((e=>{Object.keys(e.implied).filter((e=>!t(e))).forEach((t=>{this.setOptionValueWithSource(t,e.implied[t],"implied")}))}))}missingArgument(e){const t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){const t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){const t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){const n=e=>{const t=e.attributeName(),n=this.getOptionValue(t),s=this.options.find((e=>e.negate&&t===e.attributeName())),r=this.options.find((e=>!e.negate&&t===e.attributeName()));return s&&(void 0===s.presetArg&&!1===n||void 0!==s.presetArg&&n===s.presetArg)?s:r||e},s=e=>{const t=n(e),s=t.attributeName();return"env"===this.getOptionValueSource(s)?`environment variable '${t.envVar}'`:`option '${t.flags}'`},r=`error: ${s(e)} cannot be used with ${s(t)}`;this.error(r,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[],s=this;do{const e=s.createHelp().visibleOptions(s).filter((e=>e.long)).map((e=>e.long));n=n.concat(e),s=s.parent}while(s&&!s._enablePositionalOptions);t=m(e,n)}const n=`error: unknown option '${e}'${t}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;const t=this._args.length,n=1===t?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){const e=this.args[0];let t="";if(this._showSuggestionAfterError){const n=[];this.createHelp().visibleCommands(this).forEach((e=>{n.push(e.name()),e.alias()&&n.push(e.alias())})),t=m(e,n)}const n=`error: unknown command '${e}'${t}`;this.error(n,{code:"commander.unknownCommand"})}version(e,t,n){if(void 0===e)return this._version;this._version=e,t=t||"-V, --version",n=n||"output the version number";const s=this.createOption(t,n);return this._versionOptionName=s.attributeName(),this.options.push(s),this.on("option:"+s.name(),(()=>{this._outputConfiguration.writeOut(`${e}\n`),this._exit(0,"commander.version",e)})),this}description(e,t){return void 0===e&&void 0===t?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return void 0===e?this._summary:(this._summary=e,this)}alias(e){if(void 0===e)return this._aliases[0];let t=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return void 0===e?this._aliases:(e.forEach((e=>this.alias(e))),this)}usage(e){if(void 0===e){if(this._usage)return this._usage;const e=this._args.map((e=>l(e)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?e:[]).join(" ")}return this._usage=e,this}name(e){return void 0===e?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=i.basename(e,i.extname(e)),this}executableDir(e){return void 0===e?this._executableDir:(this._executableDir=e,this)}helpInformation(e){const t=this.createHelp();return void 0===t.helpWidth&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){const t={error:!!(e=e||{}).error};let n;return n=t.error?e=>this._outputConfiguration.writeErr(e):e=>this._outputConfiguration.writeOut(e),t.write=e.write||n,t.command=this,t}outputHelp(e){let t;"function"==typeof e&&(t=e,e=void 0);const n=this._getHelpContext(e);b(this).reverse().forEach((e=>e.emit("beforeAllHelp",n))),this.emit("beforeHelp",n);let s=this.helpInformation(n);if(t&&(s=t(s),"string"!=typeof s&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this.emit(this._helpLongFlag),this.emit("afterHelp",n),b(this).forEach((e=>e.emit("afterAllHelp",n)))}helpOption(e,t){if("boolean"==typeof e)return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;const n=p(this._helpFlags);return this._helpShortFlag=n.shortFlag,this._helpLongFlag=n.longFlag,this}help(e){this.outputHelp(e);let t=a.exitCode||0;0===t&&e&&"function"!=typeof e&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){const n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${n.join("', '")}'`);const s=`${e}Help`;return this.on(s,(e=>{let n;n="function"==typeof t?t({error:e.error,command:e.command}):t,n&&e.write(`${n}\n`)})),this}}function y(e,t){e._hasHelpOption&&t.find((t=>t===e._helpLongFlag||t===e._helpShortFlag))&&(e.outputHelp(),e._exit(0,"commander.helpDisplayed","(outputHelp)"))}function v(e){return e.map((e=>{if(!e.startsWith("--inspect"))return e;let t,n,s="127.0.0.1",r="9229";return null!==(n=e.match(/^(--inspect(-brk)?)$/))?t=n[1]:null!==(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(t=n[1],/^\d+$/.test(n[3])?r=n[3]:s=n[3]):null!==(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(t=n[1],s=n[3],r=n[4]),t&&"0"!==r?`${t}=${s}:${parseInt(r)+1}`:e}))}function b(e){const t=[];for(let n=e;n;n=n.parent)t.push(n);return t}t.Command=g},8056:(e,t)=>{class n extends Error{constructor(e,t,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}}t.CommanderError=n,t.InvalidArgumentError=class extends n{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}},8917:(e,t,n)=>{const{humanReadableArgName:s}=n(8998);t.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(e){const t=e.commands.filter((e=>!e._hidden));if(e._hasImplicitHelpCommand()){const[,n,s]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),r=e.createCommand(n).helpOption(!1);r.description(e._helpCommandDescription),s&&r.arguments(s),t.push(r)}return this.sortSubcommands&&t.sort(((e,t)=>e.name().localeCompare(t.name()))),t}visibleOptions(e){const t=e.options.filter((e=>!e.hidden)),n=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),s=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(n||s){let r;r=n?s?e.createOption(e._helpFlags,e._helpDescription):e.createOption(e._helpShortFlag,e._helpDescription):e.createOption(e._helpLongFlag,e._helpDescription),t.push(r)}if(this.sortOptions){const e=e=>e.short?e.short.replace(/^-/,""):e.long.replace(/^--/,"");t.sort(((t,n)=>e(t).localeCompare(e(n))))}return t}visibleArguments(e){return e._argsDescription&&e._args.forEach((t=>{t.description=t.description||e._argsDescription[t.name()]||""})),e._args.find((e=>e.description))?e._args:[]}subcommandTerm(e){const t=e._args.map((e=>s(e))).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce(((e,n)=>Math.max(e,t.subcommandTerm(n).length)),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce(((e,n)=>Math.max(e,t.optionTerm(n).length)),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce(((e,n)=>Math.max(e,t.argumentTerm(n).length)),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let n="";for(let t=e.parent;t;t=t.parent)n=t.name()+" "+n;return n+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){const t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map((e=>JSON.stringify(e))).join(", ")}`),void 0!==e.defaultValue&&(e.required||e.optional||e.isBoolean()&&"boolean"==typeof e.defaultValue)&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),void 0!==e.presetArg&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),void 0!==e.envVar&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){const t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map((e=>JSON.stringify(e))).join(", ")}`),void 0!==e.defaultValue&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){const n=`(${t.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatHelp(e,t){const n=t.padWidth(e,t),s=t.helpWidth||80;function r(e,r){if(r){const i=`${e.padEnd(n+2)}${r}`;return t.wrap(i,s-2,n+2)}return e}function i(e){return e.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${t.commandUsage(e)}`,""];const a=t.commandDescription(e);a.length>0&&(o=o.concat([a,""]));const c=t.visibleArguments(e).map((e=>r(t.argumentTerm(e),t.argumentDescription(e))));c.length>0&&(o=o.concat(["Arguments:",i(c),""]));const l=t.visibleOptions(e).map((e=>r(t.optionTerm(e),t.optionDescription(e))));l.length>0&&(o=o.concat(["Options:",i(l),""]));const u=t.visibleCommands(e).map((e=>r(t.subcommandTerm(e),t.subcommandDescription(e))));return u.length>0&&(o=o.concat(["Commands:",i(u),""])),o.join("\n")}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,n,s=40){if(e.match(/[\n]\s+/))return e;const r=t-n;if(r<s)return e;const i=e.slice(0,n),o=e.slice(n),a=" ".repeat(n),c=new RegExp(".{1,"+(r-1)+"}([\\s]|$)|[^\\s]+?([\\s]|$)","g");return i+(o.match(c)||[]).map(((e,t)=>("\n"===e.slice(-1)&&(e=e.slice(0,e.length-1)),(t>0?a:"")+e.trimRight()))).join("\n")}}},5790:(e,t,n)=>{const{InvalidArgumentError:s}=n(8056);function r(e){let t,n;const s=e.split(/[ |,]+/);return s.length>1&&!/^[[<]/.test(s[1])&&(t=s.shift()),n=s.shift(),!t&&/^-[^-]$/.test(n)&&(t=n,n=void 0),{shortFlag:t,longFlag:n}}t.Option=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;const n=r(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){return this.implied=Object.assign(this.implied||{},e),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t!==this.defaultValue&&Array.isArray(t)?t.concat(e):[e]}choices(e){return this.argChoices=e.slice(),this.parseArg=(e,t)=>{if(!this.argChoices.includes(e))throw new s(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(e,t):e},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((e,t)=>e+t[0].toUpperCase()+t.slice(1)))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},t.splitOptionFlags=r,t.DualOptions=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach((e=>{e.negate?this.negativeOptions.set(e.attributeName(),e):this.positiveOptions.set(e.attributeName(),e)})),this.negativeOptions.forEach(((e,t)=>{this.positiveOptions.has(t)&&this.dualOptions.add(t)}))}valueFromOption(e,t){const n=t.attributeName();if(!this.dualOptions.has(n))return!0;const s=this.negativeOptions.get(n).presetArg,r=void 0!==s&&s;return t.negate===(r===e)}}},1812:(e,t)=>{t.suggestSimilar=function(e,t){if(!t||0===t.length)return"";t=Array.from(new Set(t));const n=e.startsWith("--");n&&(e=e.slice(2),t=t.map((e=>e.slice(2))));let s=[],r=3;return t.forEach((t=>{if(t.length<=1)return;const n=function(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);const n=[];for(let t=0;t<=e.length;t++)n[t]=[t];for(let e=0;e<=t.length;e++)n[0][e]=e;for(let s=1;s<=t.length;s++)for(let r=1;r<=e.length;r++){let i=1;i=e[r-1]===t[s-1]?0:1,n[r][s]=Math.min(n[r-1][s]+1,n[r][s-1]+1,n[r-1][s-1]+i),r>1&&s>1&&e[r-1]===t[s-2]&&e[r-2]===t[s-1]&&(n[r][s]=Math.min(n[r][s],n[r-2][s-2]+1))}return n[e.length][t.length]}(e,t),i=Math.max(e.length,t.length);(i-n)/i>.4&&(n<r?(r=n,s=[t]):n===r&&s.push(t))})),s.sort(((e,t)=>e.localeCompare(t))),n&&(s=s.map((e=>`--${e}`))),s.length>1?`\n(Did you mean one of ${s.join(", ")}?)`:1===s.length?`\n(Did you mean ${s[0]}?)`:""}},5775:(e,t,n)=>{"use strict";var s=n(466),r=n(9150),i=n(6933),o=n(3179),a=n(4658);t.composeCollection=function(e,t,n,c,l){let u;switch(n.type){case"block-map":u=i.resolveBlockMap(e,t,n,l);break;case"block-seq":u=o.resolveBlockSeq(e,t,n,l);break;case"flow-collection":u=a.resolveFlowCollection(e,t,n,l)}if(!c)return u;const d=t.directives.tagName(c.source,(e=>l(c,"TAG_RESOLVE_FAILED",e)));if(!d)return u;const h=u.constructor;if("!"===d||d===h.tagName)return u.tag=h.tagName,u;const p=s.isMap(u)?"map":"seq";let f=t.schema.tags.find((e=>e.collection===p&&e.tag===d));if(!f){const e=t.schema.knownTags[d];if(!e||e.collection!==p)return l(c,"TAG_RESOLVE_FAILED",`Unresolved tag: ${d}`,!0),u.tag=d,u;t.schema.tags.push(Object.assign({},e,{default:!1})),f=e}const m=f.resolve(u,(e=>l(c,"TAG_RESOLVE_FAILED",e)),t.options),g=s.isNode(m)?m:new r.Scalar(m);return g.range=u.range,g.tag=d,f?.format&&(g.format=f.format),g}},3138:(e,t,n)=>{"use strict";var s=n(6068),r=n(81),i=n(7655),o=n(5920);t.composeDoc=function(e,t,{offset:n,start:a,value:c,end:l},u){const d=Object.assign({_directives:t},e),h=new s.Document(void 0,d),p={atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},f=o.resolveProps(a,{indicator:"doc-start",next:c??l?.[0],offset:n,onError:u,startOnNewline:!0});f.found&&(h.directives.docStart=!0,!c||"block-map"!==c.type&&"block-seq"!==c.type||f.hasNewline||u(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=c?r.composeNode(p,c,f,u):r.composeEmptyNode(p,f.end,a,null,f,u);const m=h.contents.range[2],g=i.resolveEnd(l,m,!1,u);return g.comment&&(h.comment=g.comment),h.range=[n,m,g.offset],h}},81:(e,t,n)=>{"use strict";var s=n(2055),r=n(5775),i=n(6548),o=n(7655),a=n(7154);const c={composeNode:l,composeEmptyNode:u};function l(e,t,n,a){const{spaceBefore:l,comment:d,anchor:h,tag:p}=n;let f,m=!0;switch(t.type){case"alias":f=function({options:e},{offset:t,source:n,end:r},i){const a=new s.Alias(n.substring(1));""===a.source&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=t+n.length,l=o.resolveEnd(r,c,e.strict,i);return a.range=[t,c,l.offset],l.comment&&(a.comment=l.comment),a}(e,t,a),(h||p)&&a(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=i.composeScalar(e,t,p,a),h&&(f.anchor=h.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=r.composeCollection(c,e,t,p,a),h&&(f.anchor=h.source.substring(1));break;default:a(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),f=u(e,t.offset,void 0,null,n,a),m=!1}return h&&""===f.anchor&&a(h,"BAD_ALIAS","Anchor cannot be an empty string"),l&&(f.spaceBefore=!0),d&&("scalar"===t.type&&""===t.source?f.comment=d:f.commentBefore=d),e.options.keepSourceTokens&&m&&(f.srcToken=t),f}function u(e,t,n,s,{spaceBefore:r,comment:o,anchor:c,tag:l},u){const d={type:"scalar",offset:a.emptyScalarPosition(t,n,s),indent:-1,source:""},h=i.composeScalar(e,d,l,u);return c&&(h.anchor=c.source.substring(1),""===h.anchor&&u(c,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(h.spaceBefore=!0),o&&(h.comment=o),h}t.composeEmptyNode=u,t.composeNode=l},6548:(e,t,n)=>{"use strict";var s=n(466),r=n(9150),i=n(1328),o=n(7876);t.composeScalar=function(e,t,n,a){const{value:c,type:l,comment:u,range:d}="block-scalar"===t.type?i.resolveBlockScalar(t,e.options.strict,a):o.resolveFlowScalar(t,e.options.strict,a),h=n?e.directives.tagName(n.source,(e=>a(n,"TAG_RESOLVE_FAILED",e))):null,p=n&&h?function(e,t,n,r,i){if("!"===n)return e[s.SCALAR];const o=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;o.push(t)}for(const e of o)if(e.test?.test(t))return e;const a=e.knownTags[n];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[s.SCALAR])}(e.schema,c,h,n,a):"scalar"===t.type?function({directives:e,schema:t},n,r,i){const o=t.tags.find((e=>e.default&&e.test?.test(n)))||t[s.SCALAR];if(t.compat){const a=t.compat.find((e=>e.default&&e.test?.test(n)))??t[s.SCALAR];o.tag!==a.tag&&i(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(o.tag)} or ${e.tagString(a.tag)}`,!0)}return o}(e,c,t,a):e.schema[s.SCALAR];let f;try{const i=p.resolve(c,(e=>a(n??t,"TAG_RESOLVE_FAILED",e)),e.options);f=s.isScalar(i)?i:new r.Scalar(i)}catch(e){const s=e instanceof Error?e.message:String(e);a(n??t,"TAG_RESOLVE_FAILED",s),f=new r.Scalar(c)}return f.range=d,f.source=c,l&&(f.type=l),h&&(f.tag=h),p.format&&(f.format=p.format),u&&(f.comment=u),f}},5281:(e,t,n)=>{"use strict";var s=n(9226),r=n(6068),i=n(2394),o=n(466),a=n(3138),c=n(7655);function l(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function u(e){let t="",n=!1,s=!1;for(let r=0;r<e.length;++r){const i=e[r];switch(i[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(i.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}t.Composer=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const r=l(e);s?this.warnings.push(new i.YAMLWarning(r,t,n)):this.errors.push(new i.YAMLParseError(r,t,n))},this.directives=new s.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=u(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!r)e.commentBefore=n;else if(o.isCollection(r)&&!r.flow&&r.items.length>0){let e=r.items[0];o.isPair(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:u(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const r=l(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=a.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new i.YAMLParseError(l(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new i.YAMLParseError(l(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=c.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new i.YAMLParseError(l(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new r.Document(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}},6933:(e,t,n)=>{"use strict";var s=n(394),r=n(6575),i=n(5920),o=n(3094),a=n(2566),c=n(6493);const l="All mapping items must start at the same column";t.resolveBlockMap=function({composeNode:e,composeEmptyNode:t},n,u,d){const h=new r.YAMLMap(n.schema);n.atRoot&&(n.atRoot=!1);let p=u.offset;for(const r of u.items){const{start:f,key:m,sep:g,value:y}=r,v=i.resolveProps(f,{indicator:"explicit-key-ind",next:m??g?.[0],offset:p,onError:d,startOnNewline:!0}),b=!v.found;if(b){if(m&&("block-seq"===m.type?d(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==u.indent&&d(p,"BAD_INDENT",l)),!v.anchor&&!v.tag&&!g){v.comment&&(h.comment?h.comment+="\n"+v.comment:h.comment=v.comment);continue}(v.hasNewlineAfterProp||o.containsNewline(m))&&d(m??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else v.found?.indent!==u.indent&&d(p,"BAD_INDENT",l);const w=v.end,$=m?e(n,m,v,d):t(n,w,f,null,v,d);n.schema.compat&&a.flowIndentCheck(u.indent,m,d),c.mapIncludes(n,h.items,$)&&d(w,"DUPLICATE_KEY","Map keys must be unique");const x=i.resolveProps(g??[],{indicator:"map-value-ind",next:y,offset:$.range[2],onError:d,startOnNewline:!m||"block-scalar"===m.type});if(p=x.end,x.found){b&&("block-map"!==y?.type||x.hasNewline||d(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&v.start<x.found.offset-1024&&d($.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const i=y?e(n,y,x,d):t(n,p,g,null,x,d);n.schema.compat&&a.flowIndentCheck(u.indent,y,d),p=i.range[2];const o=new s.Pair($,i);n.options.keepSourceTokens&&(o.srcToken=r),h.items.push(o)}else{b&&d($.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&($.comment?$.comment+="\n"+x.comment:$.comment=x.comment);const e=new s.Pair($);n.options.keepSourceTokens&&(e.srcToken=r),h.items.push(e)}}return h.range=[u.offset,p,p],h}},1328:(e,t,n)=>{"use strict";var s=n(9150);t.resolveBlockScalar=function(e,t,n){const r=e.offset,i=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],i=r[0];let o=0,a="",c=-1;for(let t=1;t<r.length;++t){const n=r[t];if(a||"-"!==n&&"+"!==n){const s=Number(n);!o&&s?o=s:-1===c&&(c=e+t)}else a=n}-1!==c&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,u="",d=r.length;for(let e=1;e<t.length;++e){const r=t[e];switch(r.type){case"space":l=!0;case"newline":d+=r.source.length;break;case"comment":n&&!l&&s(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=r.source.length,u=r.source.substring(1);break;case"error":s(r,"UNEXPECTED_TOKEN",r.message),d+=r.source.length;break;default:{s(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const e=r.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:o,chomp:a,comment:u,length:d}}(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=">"===i.mode?s.Scalar.BLOCK_FOLDED:s.Scalar.BLOCK_LITERAL,a=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),r=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(e.source):[];let c=a.length;for(let e=a.length-1;e>=0;--e){const t=a[e][1];if(""!==t&&"\r"!==t)break;c=e}if(0===c){const t="+"===i.chomp&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"";let n=r+i.length;return e.source&&(n+=e.source.length),{value:t,type:o,comment:i.comment,range:[r,n,n]}}let l=e.indent+i.indent,u=e.offset+i.length,d=0;for(let e=0;e<c;++e){const[t,s]=a[e];if(""!==s&&"\r"!==s){if(t.length<l){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(u+t.length,"MISSING_CHAR",e)}0===i.indent&&(l=t.length),d=e;break}0===i.indent&&t.length>l&&(l=t.length),u+=t.length+s.length+1}for(let e=a.length-1;e>=c;--e)a[e][0].length>l&&(c=e+1);let h="",p="",f=!1;for(let e=0;e<d;++e)h+=a[e][0].slice(l)+"\n";for(let e=d;e<c;++e){let[t,r]=a[e];u+=t.length+r.length+1;const c="\r"===r[r.length-1];if(c&&(r=r.slice(0,-1)),r&&t.length<l){const e="Block scalar lines must not be less indented than their "+(i.indent?"explicit indentation indicator":"first line");n(u-r.length-(c?2:1),"BAD_INDENT",e),t=""}o===s.Scalar.BLOCK_LITERAL?(h+=p+t.slice(l)+r,p="\n"):t.length>l||"\t"===r[0]?(" "===p?p="\n":f||"\n"!==p||(p="\n\n"),h+=p+t.slice(l)+r,p="\n",f=!0):""===r?"\n"===p?h+="\n":p="\n":(h+=p+r,p=" ",f=!1)}switch(i.chomp){case"-":break;case"+":for(let e=c;e<a.length;++e)h+="\n"+a[e][0].slice(l);"\n"!==h[h.length-1]&&(h+="\n");break;default:h+="\n"}const m=r+i.length+e.source.length;return{value:h,type:o,comment:i.comment,range:[r,m,m]}}},3179:(e,t,n)=>{"use strict";var s=n(3798),r=n(5920),i=n(2566);t.resolveBlockSeq=function({composeNode:e,composeEmptyNode:t},n,o,a){const c=new s.YAMLSeq(n.schema);n.atRoot&&(n.atRoot=!1);let l=o.offset;for(const{start:s,value:u}of o.items){const d=r.resolveProps(s,{indicator:"seq-item-ind",next:u,offset:l,onError:a,startOnNewline:!0});if(l=d.end,!d.found){if(!(d.anchor||d.tag||u)){d.comment&&(c.comment=d.comment);continue}u&&"block-seq"===u.type?a(l,"BAD_INDENT","All sequence items must start at the same column"):a(l,"MISSING_CHAR","Sequence item without - indicator")}const h=u?e(n,u,d,a):t(n,l,s,null,d,a);n.schema.compat&&i.flowIndentCheck(o.indent,u,a),l=h.range[2],c.items.push(h)}return c.range=[o.offset,l,l],c}},7655:(e,t)=>{"use strict";t.resolveEnd=function(e,t,n,s){let r="";if(e){let i=!1,o="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";r?r+=o+t:r=t,o="";break}case"newline":r&&(o+=e),i=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:r,offset:t}}},4658:(e,t,n)=>{"use strict";var s=n(466),r=n(394),i=n(6575),o=n(3798),a=n(7655),c=n(5920),l=n(3094),u=n(6493);const d="Block collections are not allowed within flow collections",h=e=>e&&("block-map"===e.type||"block-seq"===e.type);t.resolveFlowCollection=function({composeNode:e,composeEmptyNode:t},n,p,f){const m="{"===p.start.source,g=m?"flow map":"flow sequence",y=m?new i.YAMLMap(n.schema):new o.YAMLSeq(n.schema);y.flow=!0;const v=n.atRoot;v&&(n.atRoot=!1);let b=p.offset+p.start.source.length;for(let o=0;o<p.items.length;++o){const a=p.items[o],{start:v,key:w,sep:$,value:x}=a,k=c.resolveProps(v,{flow:g,indicator:"explicit-key-ind",next:w??$?.[0],offset:b,onError:f,startOnNewline:!1});if(!k.found){if(!(k.anchor||k.tag||$||x)){0===o&&k.comma?f(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${g}`):o<p.items.length-1&&f(k.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${g}`),k.comment&&(y.comment?y.comment+="\n"+k.comment:y.comment=k.comment),b=k.end;continue}!m&&n.options.strict&&l.containsNewline(w)&&f(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===o)k.comma&&f(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${g}`);else if(k.comma||f(k.start,"MISSING_CHAR",`Missing , between ${g} items`),k.comment){let e="";e:for(const t of v)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=y.items[y.items.length-1];s.isPair(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,k.comment=k.comment.substring(e.length+1)}}if(m||$||k.found){const s=k.end,o=w?e(n,w,k,f):t(n,s,v,null,k,f);h(w)&&f(o.range,"BLOCK_IN_FLOW",d);const l=c.resolveProps($??[],{flow:g,indicator:"map-value-ind",next:x,offset:o.range[2],onError:f,startOnNewline:!1});if(l.found){if(!m&&!k.found&&n.options.strict){if($)for(const e of $){if(e===l.found)break;if("newline"===e.type){f(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}k.start<l.found.offset-1024&&f(l.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else x&&("source"in x&&x.source&&":"===x.source[0]?f(x,"MISSING_CHAR",`Missing space after : in ${g}`):f(l.start,"MISSING_CHAR",`Missing , or : between ${g} items`));const p=x?e(n,x,l,f):l.found?t(n,l.end,$,null,l,f):null;p?h(x)&&f(p.range,"BLOCK_IN_FLOW",d):l.comment&&(o.comment?o.comment+="\n"+l.comment:o.comment=l.comment);const _=new r.Pair(o,p);if(n.options.keepSourceTokens&&(_.srcToken=a),m){const e=y;u.mapIncludes(n,e.items,o)&&f(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(_)}else{const e=new i.YAMLMap(n.schema);e.flow=!0,e.items.push(_),y.items.push(e)}b=p?p.range[2]:l.end}else{const s=x?e(n,x,k,f):t(n,k.end,$,null,k,f);y.items.push(s),b=s.range[2],h(x)&&f(s.range,"BLOCK_IN_FLOW",d)}}const w=m?"}":"]",[$,...x]=p.end;let k=b;if($&&$.source===w)k=$.offset+$.source.length;else{const e=g[0].toUpperCase()+g.substring(1);f(b,v?"MISSING_CHAR":"BAD_INDENT",v?`${e} must end with a ${w}`:`${e} in block collection must be sufficiently indented and end with a ${w}`),$&&1!==$.source.length&&x.unshift($)}if(x.length>0){const e=a.resolveEnd(x,k,n.options.strict,f);e.comment&&(y.comment?y.comment+="\n"+e.comment:y.comment=e.comment),y.range=[p.offset,k,e.offset]}else y.range=[p.offset,k,k];return y}},7876:(e,t,n)=>{"use strict";var s=n(9150),r=n(7655);function i(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let r=s[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;s=n.exec(e);)""===s[1]?"\n"===i?r+=i:i="\n":(r+=i+s[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(e),r+i+(s?.[1]??"")}function o(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const a={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function c(e,t,n,s){const r=e.substr(t,n),i=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(i)){const r=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(i)}t.resolveFlowScalar=function(e,t,n){const{offset:l,type:u,source:d,end:h}=e;let p,f;const m=(e,t,s)=>n(l+e,t,s);switch(u){case"scalar":p=s.Scalar.PLAIN,f=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),i(e)}(d,m);break;case"single-quoted-scalar":p=s.Scalar.QUOTE_SINGLE,f=function(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),i(e.slice(1,-1)).replace(/''/g,"'")}(d,m);break;case"double-quoted-scalar":p=s.Scalar.QUOTE_DOUBLE,f=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const r=e[s];if("\r"!==r||"\n"!==e[s+1])if("\n"===r){const{fold:t,offset:r}=o(e,s);n+=t,s=r}else if("\\"===r){let r=e[++s];const i=a[r];if(i)n+=i;else if("\n"===r)for(r=e[s+1];" "===r||"\t"===r;)r=e[1+ ++s];else if("\r"===r&&"\n"===e[s+1])for(r=e[1+ ++s];" "===r||"\t"===r;)r=e[1+ ++s];else if("x"===r||"u"===r||"U"===r){const i={x:2,u:4,U:8}[r];n+=c(e,s+1,i,t),s+=i}else{const r=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):r)}else n+=r}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(d,m);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${u}`),{value:"",type:null,comment:"",range:[l,l+d.length,l+d.length]}}const g=l+d.length,y=r.resolveEnd(h,g,t,n);return{value:f,type:p,comment:y.comment,range:[l,g,y.offset]}}},5920:(e,t)=>{"use strict";t.resolveProps=function(e,{flow:t,indicator:n,next:s,offset:r,onError:i,startOnNewline:o}){let a=!1,c=o,l=o,u="",d="",h=!1,p=!1,f=!1,m=null,g=null,y=null,v=null,b=null;for(const s of e)switch(f&&("space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),s.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===s.source[0]&&i(s,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||i(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=s.source.substring(1)||" ";u?u+=d+e:u=e,d="",c=!1;break}case"newline":c?u?u+=s.source:a=!0:d+=s.source,c=!0,h=!0,(m||g)&&(p=!0),l=!0;break;case"anchor":m&&i(s,"MULTIPLE_ANCHORS","A node can have at most one anchor"),s.source.endsWith(":")&&i(s.offset+s.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=s,null===b&&(b=s.offset),c=!1,l=!1,f=!0;break;case"tag":g&&i(s,"MULTIPLE_TAGS","A node can have at most one tag"),g=s,null===b&&(b=s.offset),c=!1,l=!1,f=!0;break;case n:(m||g)&&i(s,"BAD_PROP_ORDER",`Anchors and tags must be after the ${s.source} indicator`),v&&i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.source} in ${t??"collection"}`),v=s,c=!1,l=!1;break;case"comma":if(t){y&&i(s,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=s,c=!1,l=!1;break}default:i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.type} token`),c=!1,l=!1}const w=e[e.length-1],$=w?w.offset+w.source.length:r;return f&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:v,spaceBefore:a,comment:u,hasNewline:h,hasNewlineAfterProp:p,anchor:m,tag:g,end:$,start:b??$}}},3094:(e,t)=>{"use strict";t.containsNewline=function e(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(const e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(const n of t.items){for(const e of n.start)if("newline"===e.type)return!0;if(n.sep)for(const e of n.sep)if("newline"===e.type)return!0;if(e(n.key)||e(n.value))return!0}return!1;default:return!0}}},7154:(e,t)=>{"use strict";t.emptyScalarPosition=function(e,t,n){if(t){null===n&&(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}},2566:(e,t,n)=>{"use strict";var s=n(3094);t.flowIndentCheck=function(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!s.containsNewline(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},6493:(e,t,n)=>{"use strict";var s=n(466);t.mapIncludes=function(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const i="function"==typeof r?r:(t,n)=>t===n||s.isScalar(t)&&s.isScalar(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>i(e.key,n)))}},6068:(e,t,n)=>{"use strict";var s=n(2055),r=n(3365),i=n(466),o=n(394),a=n(3257),c=n(3673),l=n(611),u=n(9957),d=n(1903),h=n(3085),p=n(7581),f=n(9226);class m{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,i.NODE_TYPE,{value:i.DOC});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new f.Directives({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(m.prototype,{[i.NODE_TYPE]:{value:i.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=i.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){g(this.contents)&&this.contents.add(e)}addIn(e,t){g(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=d.anchorNames(this);e.anchor=!t||n.has(t)?d.findNewAnchor(t||"a",n):t}return new s.Alias(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n??{},{onAnchor:h,setAnchors:f,sourceObjects:m}=d.createNodeAnchors(this,o||"a"),g={aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:h,onTagObj:l,replacer:s,schema:this.schema,sourceObjects:m},y=p.createNode(e,u,g);return a&&i.isCollection(y)&&(y.flow=!0),f(),y}createPair(e,t,n={}){const s=this.createNode(e,null,n),r=this.createNode(t,null,n);return new o.Pair(s,r)}delete(e){return!!g(this.contents)&&this.contents.delete(e)}deleteIn(e){return r.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):!!g(this.contents)&&this.contents.deleteIn(e)}get(e,t){return i.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return r.isEmptyPath(e)?!t&&i.isScalar(this.contents)?this.contents.value:this.contents:i.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!i.isCollection(this.contents)&&this.contents.has(e)}hasIn(e){return r.isEmptyPath(e)?void 0!==this.contents:!!i.isCollection(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=r.collectionFromPath(this.schema,[e],t):g(this.contents)&&this.contents.set(e,t)}setIn(e,t){r.isEmptyPath(e)?this.contents=t:null==this.contents?this.contents=r.collectionFromPath(this.schema,Array.from(e),t):g(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new f.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new f.Directives({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new c.Schema(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:i}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100,stringify:l.stringify},c=a.toJS(this.contents,t??"",o);if("function"==typeof r)for(const{count:e,res:t}of o.anchors.values())r(t,e);return"function"==typeof i?h.applyReviver(i,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return u.stringifyDocument(this,e)}}function g(e){if(i.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}t.Document=m},1903:(e,t,n)=>{"use strict";var s=n(466),r=n(1381);function i(e){const t=new Set;return r.visit(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function o(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}t.anchorIsValid=function(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0},t.anchorNames=i,t.createNodeAnchors=function(e,t){const n=[],r=new Map;let a=null;return{onAnchor:s=>{n.push(s),a||(a=i(e));const r=o(t,a);return a.add(r),r},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!s.isScalar(t.node)&&!s.isCollection(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}},t.findNewAnchor=o},3085:(e,t)=>{"use strict";t.applyReviver=function e(t,n,s,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let n=0,s=r.length;n<s;++n){const s=r[n],i=e(t,r,String(n),s);void 0===i?delete r[n]:i!==s&&(r[n]=i)}else if(r instanceof Map)for(const n of Array.from(r.keys())){const s=r.get(n),i=e(t,r,n,s);void 0===i?r.delete(n):i!==s&&r.set(n,i)}else if(r instanceof Set)for(const n of Array.from(r)){const s=e(t,r,n,n);void 0===s?r.delete(n):s!==n&&(r.delete(n),r.add(s))}else for(const[n,s]of Object.entries(r)){const i=e(t,r,n,s);void 0===i?delete r[n]:i!==s&&(r[n]=i)}return t.call(n,s,r)}},7581:(e,t,n)=>{"use strict";var s=n(2055),r=n(466),i=n(9150);t.createNode=function(e,t,n){if(r.isDocument(e)&&(e=e.contents),r.isNode(e))return e;if(r.isPair(e)){const t=n.schema[r.MAP].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:o,onAnchor:a,onTagObj:c,schema:l,sourceObjects:u}=n;let d;if(o&&e&&"object"==typeof e){if(d=u.get(e),d)return d.anchor||(d.anchor=a(e)),new s.Alias(d.anchor);d={anchor:null,node:null},u.set(e,d)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let h=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),s=e.find((e=>!e.format))??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,l.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new i.Scalar(e);return d&&(d.node=t),t}h=e instanceof Map?l[r.MAP]:Symbol.iterator in Object(e)?l[r.SEQ]:l[r.MAP]}c&&(c(h),delete n.onTagObj);const p=h?.createNode?h.createNode(n.schema,e,n):new i.Scalar(e);return t&&(p.tag=t),d&&(d.node=p),p}},9226:(e,t,n)=>{"use strict";var s=n(466),r=n(1381);const i={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class o{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},o.defaultYaml,e),this.tags=Object.assign({},o.defaultTags,t)}clone(){const e=new o(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new o(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:o.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},o.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:o.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},o.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/);s||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(s):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>i[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let i;if(e&&n.length>0&&s.isNode(e.contents)){const t={};r.visit(e.contents,((e,n)=>{s.isNode(n)&&n.tag&&(t[n.tag]=!0)})),i=Object.keys(t)}else i=[];for(const[s,r]of n)"!!"===s&&"tag:yaml.org,2002:"===r||e&&!i.some((e=>e.startsWith(r)))||t.push(`%TAG ${s} ${r}`);return t.join("\n")}}o.defaultYaml={explicit:!1,version:"1.2"},o.defaultTags={"!!":"tag:yaml.org,2002:"},t.Directives=o},2394:(e,t)=>{"use strict";class n extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}t.YAMLError=n,t.YAMLParseError=class extends n{constructor(e,t,n){super("YAMLParseError",e,t,n)}},t.YAMLWarning=class extends n{constructor(e,t,n){super("YAMLWarning",e,t,n)}},t.prettifyError=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let i=r-1,o=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const e=Math.min(i-39,o.length-79);o=""+o.substring(e),i-=e-1}if(o.length>80&&(o=o.substring(0,79)+""),s>1&&/^ *$/.test(o.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),o=n+o}if(/[^ ]/.test(o)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>r&&(e=Math.min(t.col-r,80-i));const a=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${o}\n${a}\n`}}},3419:(e,t,n)=>{"use strict";var s=n(5281),r=n(6068),i=n(3673),o=n(2394),a=n(2055),c=n(466),l=n(394),u=n(9150),d=n(6575),h=n(3798),p=n(5208),f=n(7135),m=n(4708),g=n(9369),y=n(8011),v=n(1381);t.Composer=s.Composer,t.Document=r.Document,t.Schema=i.Schema,t.YAMLError=o.YAMLError,t.YAMLParseError=o.YAMLParseError,t.YAMLWarning=o.YAMLWarning,t.Alias=a.Alias,t.isAlias=c.isAlias,t.isCollection=c.isCollection,t.isDocument=c.isDocument,t.isMap=c.isMap,t.isNode=c.isNode,t.isPair=c.isPair,t.isScalar=c.isScalar,t.isSeq=c.isSeq,t.Pair=l.Pair,t.Scalar=u.Scalar,t.YAMLMap=d.YAMLMap,t.YAMLSeq=h.YAMLSeq,t.CST=p,t.Lexer=f.Lexer,t.LineCounter=m.LineCounter,t.Parser=g.Parser,t.parse=y.parse,t.parseAllDocuments=y.parseAllDocuments,t.parseDocument=y.parseDocument,t.stringify=y.stringify,t.visit=v.visit,t.visitAsync=v.visitAsync},5441:(e,t)=>{"use strict";t.debug=function(e,...t){"debug"===e&&console.log(...t)},t.warn=function(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}},2055:(e,t,n)=>{"use strict";var s=n(1903),r=n(1381),i=n(466);class o extends i.NodeBase{constructor(e){super(i.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return r.visit(e,{Node:(e,n)=>{if(n===this)return r.visit.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=t,i=this.resolve(s);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const o=n.get(i);if(!o||void 0===o.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(r>=0&&(o.count+=1,0===o.aliasCount&&(o.aliasCount=a(s,i,n)),o.count*o.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return o.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(s.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function a(e,t,n){if(i.isAlias(t)){const s=t.resolve(e),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}if(i.isCollection(t)){let s=0;for(const r of t.items){const t=a(e,r,n);t>s&&(s=t)}return s}if(i.isPair(t)){const s=a(e,t.key,n),r=a(e,t.value,n);return Math.max(s,r)}return 1}t.Alias=o},3365:(e,t,n)=>{"use strict";var s=n(7581),r=n(466);function i(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return s.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const o=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class a extends r.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>r.isNode(t)||r.isPair(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(o(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(r.isCollection(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,i(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(r.isCollection(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,i=this.get(n,!0);return 0===s.length?!t&&r.isScalar(i)?i.value:i:r.isCollection(i)?i.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!r.isPair(t))return!1;const n=t.value;return null==n||e&&r.isScalar(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!r.isCollection(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(r.isCollection(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,i(this.schema,s,t))}}}}a.maxFlowStringSingleLineLength=60,t.Collection=a,t.collectionFromPath=i,t.isEmptyPath=o},466:(e,t)=>{"use strict";const n=Symbol.for("yaml.alias"),s=Symbol.for("yaml.document"),r=Symbol.for("yaml.map"),i=Symbol.for("yaml.pair"),o=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),c=Symbol.for("yaml.node.type"),l=e=>!!e&&"object"==typeof e&&e[c]===o;function u(e){if(e&&"object"==typeof e)switch(e[c]){case r:case a:return!0}return!1}t.ALIAS=n,t.DOC=s,t.MAP=r,t.NODE_TYPE=c,t.NodeBase=class{constructor(e){Object.defineProperty(this,c,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}},t.PAIR=i,t.SCALAR=o,t.SEQ=a,t.hasAnchor=e=>(l(e)||u(e))&&!!e.anchor,t.isAlias=e=>!!e&&"object"==typeof e&&e[c]===n,t.isCollection=u,t.isDocument=e=>!!e&&"object"==typeof e&&e[c]===s,t.isMap=e=>!!e&&"object"==typeof e&&e[c]===r,t.isNode=function(e){if(e&&"object"==typeof e)switch(e[c]){case n:case r:case o:case a:return!0}return!1},t.isPair=e=>!!e&&"object"==typeof e&&e[c]===i,t.isScalar=l,t.isSeq=e=>!!e&&"object"==typeof e&&e[c]===a},394:(e,t,n)=>{"use strict";var s=n(7581),r=n(8843),i=n(3567),o=n(466);class a{constructor(e,t=null){Object.defineProperty(this,o.NODE_TYPE,{value:o.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return o.isNode(t)&&(t=t.clone(e)),o.isNode(n)&&(n=n.clone(e)),new a(t,n)}toJSON(e,t){const n=t?.mapAsMap?new Map:{};return i.addPairToJSMap(t,n,this)}toString(e,t,n){return e?.doc?r.stringifyPair(this,e,t,n):JSON.stringify(this)}}t.Pair=a,t.createPair=function(e,t,n){const r=s.createNode(e,void 0,n),i=s.createNode(t,void 0,n);return new a(r,i)}},9150:(e,t,n)=>{"use strict";var s=n(466),r=n(3257);class i extends s.NodeBase{constructor(e){super(s.SCALAR),this.value=e}toJSON(e,t){return t?.keep?this.value:r.toJS(this.value,e,t)}toString(){return String(this.value)}}i.BLOCK_FOLDED="BLOCK_FOLDED",i.BLOCK_LITERAL="BLOCK_LITERAL",i.PLAIN="PLAIN",i.QUOTE_DOUBLE="QUOTE_DOUBLE",i.QUOTE_SINGLE="QUOTE_SINGLE",t.Scalar=i,t.isScalarValue=e=>!e||"function"!=typeof e&&"object"!=typeof e},6575:(e,t,n)=>{"use strict";var s=n(240),r=n(3567),i=n(3365),o=n(466),a=n(394),c=n(9150);function l(e,t){const n=o.isScalar(t)?t.value:t;for(const s of e)if(o.isPair(s)){if(s.key===t||s.key===n)return s;if(o.isScalar(s.key)&&s.key.value===n)return s}}class u extends i.Collection{constructor(e){super(o.MAP,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=o.isPair(e)?e:e&&"object"==typeof e&&"key"in e?new a.Pair(e.key,e.value):new a.Pair(e,e?.value);const s=l(this.items,n.key),r=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);o.isScalar(s.value)&&c.isScalarValue(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const e=this.items.findIndex((e=>r(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=l(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=l(this.items,e)?.value;return(!t&&o.isScalar(n)?n.value:n)??void 0}has(e){return!!l(this.items,e)}set(e,t){this.add(new a.Pair(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const e of this.items)r.addPairToJSMap(t,s,e);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!o.isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),s.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}t.YAMLMap=u,t.findPair=l},3798:(e,t,n)=>{"use strict";var s=n(240),r=n(3365),i=n(466),o=n(9150),a=n(3257);class c extends r.Collection{constructor(e){super(i.SEQ,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=l(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=l(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&i.isScalar(s)?s.value:s}has(e){const t=l(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=l(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];i.isScalar(s)&&o.isScalarValue(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const e of this.items)n.push(a.toJS(e,String(s++),t));return n}toString(e,t,n){return e?s.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function l(e){let t=i.isScalar(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}t.YAMLSeq=c},3567:(e,t,n)=>{"use strict";var s=n(5441),r=n(611),i=n(466),o=n(9150),a=n(3257);function c(e,t,n){const s=e&&i.isAlias(n)?n.resolve(e.doc):n;if(!i.isMap(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}t.addPairToJSMap=function(e,t,{key:n,value:l}){if(e?.doc.schema.merge&&(e=>"<<"===e||i.isScalar(e)&&"<<"===e.value&&(!e.type||e.type===o.Scalar.PLAIN))(n))if(l=i.isAlias(l)?l.resolve(e.doc):l,i.isSeq(l))for(const n of l.items)c(e,t,n);else if(Array.isArray(l))for(const n of l)c(e,t,n);else c(e,t,l);else{const o=a.toJS(n,"",e);if(t instanceof Map)t.set(o,a.toJS(l,o,e));else if(t instanceof Set)t.add(o);else{const c=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(i.isNode(e)&&n&&n.doc){const t=r.createStringifyContext(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const i=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(i);e.length>40&&(e=e.substring(0,36)+'..."'),s.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}(n,o,e),u=a.toJS(l,c,e);c in t?Object.defineProperty(t,c,{value:u,writable:!0,enumerable:!0,configurable:!0}):t[c]=u}}return t}},3257:(e,t,n)=>{"use strict";var s=n(466);t.toJS=function e(t,n,r){if(Array.isArray(t))return t.map(((t,n)=>e(t,String(n),r)));if(t&&"function"==typeof t.toJSON){if(!r||!s.hasAnchor(t))return t.toJSON(n,r);const e={aliasCount:0,count:1,res:void 0};r.anchors.set(t,e),r.onCreate=t=>{e.res=t,delete r.onCreate};const i=t.toJSON(n,r);return r.onCreate&&r.onCreate(i),i}return"bigint"!=typeof t||r?.keep?t:Number(t)}},7084:(e,t,n)=>{"use strict";var s=n(1328),r=n(7876),i=n(2394),o=n(8431);function a(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function c(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const s=e.props.slice(1);let r=t.length;"block-scalar-header"===e.props[0].type&&(r-=e.props[0].source.length);for(const e of s)e.offset+=r;delete e.props,Object.assign(e,{type:n,source:t,end:s});break}case"block-map":case"block-seq":{const s={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[s]});break}default:{const s="indent"in e?e.indent:-1,r="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:s,source:t,end:r})}}}t.createScalarToken=function(e,t){const{implicitKey:n=!1,indent:s,inFlow:r=!1,offset:i=-1,type:c="PLAIN"}=t,l=o.stringifyString({type:c,value:e},{implicitKey:n,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),u=t.end??[{type:"newline",offset:-1,indent:s,source:"\n"}];switch(l[0]){case"|":case">":{const e=l.indexOf("\n"),t=l.substring(0,e),n=l.substring(e+1)+"\n",r=[{type:"block-scalar-header",offset:i,indent:s,source:t}];return a(r,u)||r.push({type:"newline",offset:-1,indent:s,source:"\n"}),{type:"block-scalar",offset:i,indent:s,props:r,source:n}}case'"':return{type:"double-quoted-scalar",offset:i,indent:s,source:l,end:u};case"'":return{type:"single-quoted-scalar",offset:i,indent:s,source:l,end:u};default:return{type:"scalar",offset:i,indent:s,source:l,end:u}}},t.resolveAsScalar=function(e,t=!0,n){if(e){const o=(e,t,s)=>{const r="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new i.YAMLParseError([r,r+1],t,s);n(r,t,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return r.resolveFlowScalar(e,t,o);case"block-scalar":return s.resolveBlockScalar(e,t,o)}}return null},t.setScalarValue=function(e,t,n={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:i=!1,type:l}=n,u="indent"in e?e.indent:null;if(s&&"number"==typeof u&&(u+=2),!l)switch(e.type){case"single-quoted-scalar":l="QUOTE_SINGLE";break;case"double-quoted-scalar":l="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");l=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:l="PLAIN"}const d=o.stringifyString({type:l,value:t},{implicitKey:r||null===u,indent:null!==u&&u>0?" ".repeat(u):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),s=t.substring(0,n),r=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=s,e.source=r}else{const{offset:t}=e,n="indent"in e?e.indent:-1,i=[{type:"block-scalar-header",offset:t,indent:n,source:s}];a(i,"end"in e?e.end:void 0)||i.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:i,source:r})}}(e,d);break;case'"':c(e,d,"double-quoted-scalar");break;case"'":c(e,d,"single-quoted-scalar");break;default:c(e,d,"scalar")}}},4453:(e,t)=>{"use strict";function n(e){switch(e.type){case"block-scalar":{let t="";for(const s of e.props)t+=n(s);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=s(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=s(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=s(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function s({start:e,key:t,sep:s,value:r}){let i="";for(const t of e)i+=t.source;if(t&&(i+=n(t)),s)for(const e of s)i+=e.source;return r&&(i+=n(r)),i}t.stringify=e=>"type"in e?n(e):s(e)},8318:(e,t)=>{"use strict";const n=Symbol("break visit"),s=Symbol("skip children"),r=Symbol("remove item");function i(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),o(Object.freeze([]),e,t)}function o(e,t,s){let i=s(t,e);if("symbol"==typeof i)return i;for(const a of["key","value"]){const c=t[a];if(c&&"items"in c){for(let t=0;t<c.items.length;++t){const i=o(Object.freeze(e.concat([[a,t]])),c.items[t],s);if("number"==typeof i)t=i-1;else{if(i===n)return n;i===r&&(c.items.splice(t,1),t-=1)}}"function"==typeof i&&"key"===a&&(i=i(t,e))}}return"function"==typeof i?i(t,e):i}i.BREAK=n,i.SKIP=s,i.REMOVE=r,i.itemAtPath=(e,t)=>{let n=e;for(const[e,s]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[s]}return n},i.parentCollection=(e,t)=>{const n=i.itemAtPath(e,t.slice(0,-1))?.[t[t.length-1][0]];if(n&&"items"in n)return n;throw new Error("Parent collection not found")},t.visit=i},5208:(e,t,n)=>{"use strict";var s=n(7084),r=n(4453),i=n(8318);t.createScalarToken=s.createScalarToken,t.resolveAsScalar=s.resolveAsScalar,t.setScalarValue=s.setScalarValue,t.stringify=r.stringify,t.visit=i.visit,t.BOM="\ufeff",t.DOCUMENT="",t.FLOW_END="",t.SCALAR="",t.isCollection=e=>!!e&&"items"in e,t.isScalar=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),t.prettyToken=function(e){switch(e){case"\ufeff":return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(e)}},t.tokenType=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}},7135:(e,t,n)=>{"use strict";var s=n(5208);function r(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const i="0123456789ABCDEFabcdef".split(""),o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),a=",[]{}".split(""),c=" ,[]{}\n\r\t".split(""),l=e=>!e||c.includes(e);t.Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&r(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===s.BOM&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const s=e[n-1];" "!==s&&"\t"!==s||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield s.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&r(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&r(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!r(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&r(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(l),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const i=this.getLine();if(null===i)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==i[0]||0===n&&(i.startsWith("---")||i.startsWith("..."))&&r(i[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==i[0]&&"}"!==i[0]))return this.flowLevel=0,yield s.FLOW_END,yield*this.parseLineStart();let o=0;for(;","===i[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(l),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||r(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>r(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const r=e;for(;" "===s||"\t"===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>r))break;t=e}return yield s.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,i=this.pos-1;for(;t=this.buffer[++i];)if(":"===t){const t=this.buffer[i+1];if(r(t)||e&&","===t)break;n=i}else if(r(t)){let s=this.buffer[i+1];if("\r"===t&&("\n"===s?(i+=1,t="\n",s=this.buffer[i+1]):n=i),"#"===s||e&&a.includes(s))break;if("\n"===t){const e=this.continueScalar(i+1);if(-1===e)break;i=Math.max(i,e-2)}}else{if(e&&a.includes(t))break;n=i}return t||this.atEnd?(yield s.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(l))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(r(t)||e&&a.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!r(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(o.includes(t))t=this.buffer[++e];else{if("%"!==t||!i.includes(this.buffer[e+1])||!i.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}},4708:(e,t)=>{"use strict";t.LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}},9369:(e,t,n)=>{"use strict";var s=n(5208),r=n(7135);function i(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function o(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function a(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function c(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function l(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function u(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||i(t.start,"explicit-key-ind")||i(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,a(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}t.Parser=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new r.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",s.prettyToken(e)),this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=s.tokenType(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&u(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!i(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===o(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==o(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=l(c(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let s=[];if(n&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const r=t.sep[s];switch(r.type){case"newline":n.push(s);break;case"space":break;case"comment":r.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||i(t.start,"explicit-key-ind")?n||t.value?(s.push(this.sourceToken),e.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(i(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(i(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(a(t.key)&&!i(t.sep,"newline")){const e=l(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(i(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=l(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:s,key:null,sep:[this.sourceToken]}):i(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:s,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(e);if(r)return n&&"block-seq"!==r.type&&i(t.start,"explicit-key-ind")&&e.items.push({start:s}),void this.stack.push(r)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||i(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=l(c(t));u(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=l(c(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=l(c(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}},8011:(e,t,n)=>{"use strict";var s=n(5281),r=n(6068),i=n(2394),o=n(5441),a=n(4708),c=n(9369);function l(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new a.LineCounter||null,prettyErrors:t}}function u(e,t={}){const{lineCounter:n,prettyErrors:r}=l(t),o=new c.Parser(n?.addNewLine),a=new s.Composer(t);let u=null;for(const t of a.compose(o.parse(e),!0,e.length))if(u){if("silent"!==u.options.logLevel){u.errors.push(new i.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else u=t;return r&&n&&(u.errors.forEach(i.prettifyError(e,n)),u.warnings.forEach(i.prettifyError(e,n))),u}t.parse=function(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=u(e,n);if(!r)return null;if(r.warnings.forEach((e=>o.warn(r.options.logLevel,e))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))},t.parseAllDocuments=function(e,t={}){const{lineCounter:n,prettyErrors:r}=l(t),o=new c.Parser(n?.addNewLine),a=new s.Composer(t),u=Array.from(a.compose(o.parse(e)));if(r&&n)for(const t of u)t.errors.forEach(i.prettifyError(e,n)),t.warnings.forEach(i.prettifyError(e,n));return u.length>0?u:Object.assign([],{empty:!0},a.streamInfo())},t.parseDocument=u,t.stringify=function(e,t,n){let s=null;if("function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new r.Document(e,s,n).toString(n)}},3673:(e,t,n)=>{"use strict";var s=n(466),r=n(2744),i=n(2360),o=n(3042),a=n(6524);const c=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class l{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:l,schema:u,sortMapEntries:d,toStringDefaults:h}){this.compat=Array.isArray(e)?a.getTags(e,"compat"):e?a.getTags(null,e):null,this.merge=!!n,this.name="string"==typeof u&&u||"core",this.knownTags=l?a.coreKnownTags:{},this.tags=a.getTags(t,this.name),this.toStringOptions=h??null,Object.defineProperty(this,s.MAP,{value:r.map}),Object.defineProperty(this,s.SCALAR,{value:o.string}),Object.defineProperty(this,s.SEQ,{value:i.seq}),this.sortMapEntries="function"==typeof d?d:!0===d?c:null}clone(){const e=Object.create(l.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}t.Schema=l},2744:(e,t,n)=>{"use strict";var s=n(466),r=n(394),i=n(6575);const o={collection:"map",createNode:function(e,t,n){const{keepUndefined:s,replacer:o}=n,a=new i.YAMLMap(e),c=(e,i)=>{if("function"==typeof o)i=o.call(t,e,i);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==i||s)&&a.items.push(r.createPair(e,i,n))};if(t instanceof Map)for(const[e,n]of t)c(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))c(e,t[e]);return"function"==typeof e.sortMapEntries&&a.items.sort(e.sortMapEntries),a},default:!0,nodeClass:i.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(s.isMap(e)||t("Expected a mapping for this tag"),e)};t.map=o},5397:(e,t,n)=>{"use strict";var s=n(9150);const r={identify:e=>null==e,createNode:()=>new s.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new s.Scalar(null),stringify:({source:e},t)=>"string"==typeof e&&r.test.test(e)?e:t.options.nullStr};t.nullTag=r},2360:(e,t,n)=>{"use strict";var s=n(7581),r=n(466),i=n(3798);const o={collection:"seq",createNode:function(e,t,n){const{replacer:r}=n,o=new i.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof r){const n=t instanceof Set?i:String(e++);i=r.call(t,n,i)}o.items.push(s.createNode(i,void 0,n))}}return o},default:!0,nodeClass:i.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(r.isSeq(e)||t("Expected a sequence for this tag"),e)};t.seq=o},3042:(e,t,n)=>{"use strict";var s=n(8431);const r={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>(t=Object.assign({actualString:!0},t),s.stringifyString(e,t,n,r))};t.string=r},976:(e,t,n)=>{"use strict";var s=n(9150);const r={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new s.Scalar("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&r.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};t.boolTag=r},3398:(e,t,n)=>{"use strict";var s=n(9150),r=n(5260);const i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new s.Scalar(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:r.stringifyNumber};t.float=a,t.floatExp=o,t.floatNaN=i},4723:(e,t,n)=>{"use strict";var s=n(5260);const r=e=>"bigint"==typeof e||Number.isInteger(e),i=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function o(e,t,n){const{value:i}=e;return r(i)&&i>=0?n+i.toString(t):s.stringifyNumber(e)}const a={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>i(e,2,8,n),stringify:e=>o(e,8,"0o")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>i(e,0,10,n),stringify:s.stringifyNumber},l={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>i(e,2,16,n),stringify:e=>o(e,16,"0x")};t.int=c,t.intHex=l,t.intOct=a},3305:(e,t,n)=>{"use strict";var s=n(2744),r=n(5397),i=n(2360),o=n(3042),a=n(976),c=n(3398),l=n(4723);const u=[s.map,i.seq,o.string,r.nullTag,a.boolTag,l.intOct,l.int,l.intHex,c.floatNaN,c.floatExp,c.float];t.schema=u},7854:(e,t,n)=>{"use strict";var s=n(9150),r=n(2744),i=n(2360);function o(e){return"bigint"==typeof e||Number.isInteger(e)}const a=({value:e})=>JSON.stringify(e),c=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:a},{identify:e=>null==e,createNode:()=>new s.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:a},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:a},{identify:o,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>o(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:a}],l={default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)},u=[r.map,i.seq].concat(c,l);t.schema=u},6524:(e,t,n)=>{"use strict";var s=n(2744),r=n(5397),i=n(2360),o=n(3042),a=n(976),c=n(3398),l=n(4723),u=n(3305),d=n(7854),h=n(8798),p=n(1367),f=n(3879),m=n(163),g=n(7559),y=n(7714);const v=new Map([["core",u.schema],["failsafe",[s.map,i.seq,o.string]],["json",d.schema],["yaml11",m.schema],["yaml-1.1",m.schema]]),b={binary:h.binary,bool:a.boolTag,float:c.float,floatExp:c.floatExp,floatNaN:c.floatNaN,floatTime:y.floatTime,int:l.int,intHex:l.intHex,intOct:l.intOct,intTime:y.intTime,map:s.map,null:r.nullTag,omap:p.omap,pairs:f.pairs,seq:i.seq,set:g.set,timestamp:y.timestamp},w={"tag:yaml.org,2002:binary":h.binary,"tag:yaml.org,2002:omap":p.omap,"tag:yaml.org,2002:pairs":f.pairs,"tag:yaml.org,2002:set":g.set,"tag:yaml.org,2002:timestamp":y.timestamp};t.coreKnownTags=w,t.getTags=function(e,t){let n=v.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(v.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=b[e];if(t)return t;const n=Object.keys(b).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}},8798:(e,t,n)=>{"use strict";var s=n(9150),r=n(8431);const i={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},i,o,a){const c=n;let l;if("function"==typeof Buffer)l=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);l=btoa(e)}}if(t||(t=s.Scalar.BLOCK_LITERAL),t!==s.Scalar.QUOTE_DOUBLE){const e=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),n=Math.ceil(l.length/e),r=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)r[t]=l.substr(s,e);l=r.join(t===s.Scalar.BLOCK_LITERAL?"\n":" ")}return r.stringifyString({comment:e,type:t,value:l},i,o,a)}};t.binary=i},9466:(e,t,n)=>{"use strict";var s=n(9150);function r({value:e,source:t},n){return t&&(e?i:o).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const i={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new s.Scalar(!0),stringify:r},o={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new s.Scalar(!1),stringify:r};t.falseTag=o,t.trueTag=i},3922:(e,t,n)=>{"use strict";var s=n(9150),r=n(5260);const i={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new s.Scalar(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:r.stringifyNumber};t.float=a,t.floatExp=o,t.floatNaN=i},5563:(e,t,n)=>{"use strict";var s=n(5260);const r=e=>"bigint"==typeof e||Number.isInteger(e);function i(e,t,n,{intAsBigInt:s}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===r?-1*i:i}function o(e,t,n){const{value:i}=e;if(r(i)){const e=i.toString(t);return i<0?"-"+n+e.substr(1):n+e}return s.stringifyNumber(e)}const a={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>i(e,2,2,n),stringify:e=>o(e,2,"0b")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>i(e,1,8,n),stringify:e=>o(e,8,"0")},l={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>i(e,0,10,n),stringify:s.stringifyNumber},u={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>i(e,2,16,n),stringify:e=>o(e,16,"0x")};t.int=l,t.intBin=a,t.intHex=u,t.intOct=c},1367:(e,t,n)=>{"use strict";var s=n(3798),r=n(3257),i=n(466),o=n(6575),a=n(3879);class c extends s.YAMLSeq{constructor(){super(),this.add=o.YAMLMap.prototype.add.bind(this),this.delete=o.YAMLMap.prototype.delete.bind(this),this.get=o.YAMLMap.prototype.get.bind(this),this.has=o.YAMLMap.prototype.has.bind(this),this.set=o.YAMLMap.prototype.set.bind(this),this.tag=c.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let s,o;if(i.isPair(e)?(s=r.toJS(e.key,"",t),o=r.toJS(e.value,s,t)):s=r.toJS(e,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}}c.tag="tag:yaml.org,2002:omap";const l={collection:"seq",identify:e=>e instanceof Map,nodeClass:c,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=a.resolvePairs(e,t),s=[];for(const{key:e}of n.items)i.isScalar(e)&&(s.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):s.push(e.value));return Object.assign(new c,n)},createNode(e,t,n){const s=a.createPairs(e,t,n),r=new c;return r.items=s.items,r}};t.YAMLOMap=c,t.omap=l},3879:(e,t,n)=>{"use strict";var s=n(466),r=n(394),i=n(9150),o=n(3798);function a(e,t){if(s.isSeq(e))for(let n=0;n<e.items.length;++n){let o=e.items[n];if(!s.isPair(o)){if(s.isMap(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new r.Pair(new i.Scalar(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${o.commentBefore}\n${e.key.commentBefore}`:o.commentBefore),o.comment){const t=e.value??e.key;t.comment=t.comment?`${o.comment}\n${t.comment}`:o.comment}o=e}e.items[n]=s.isPair(o)?o:new r.Pair(o)}}else t("Expected a sequence for this tag");return e}function c(e,t,n){const{replacer:s}=n,i=new o.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let o,c;if("function"==typeof s&&(e=s.call(t,String(a++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);o=e[0],c=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);o=t[0],c=e[o]}else o=e;i.items.push(r.createPair(o,c,n))}return i}const l={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a,createNode:c};t.createPairs=c,t.pairs=l,t.resolvePairs=a},163:(e,t,n)=>{"use strict";var s=n(2744),r=n(5397),i=n(2360),o=n(3042),a=n(8798),c=n(9466),l=n(3922),u=n(5563),d=n(1367),h=n(3879),p=n(7559),f=n(7714);const m=[s.map,i.seq,o.string,r.nullTag,c.trueTag,c.falseTag,u.intBin,u.intOct,u.int,u.intHex,l.floatNaN,l.floatExp,l.float,a.binary,d.omap,h.pairs,p.set,f.intTime,f.floatTime,f.timestamp];t.schema=m},7559:(e,t,n)=>{"use strict";var s=n(466),r=n(394),i=n(6575);class o extends i.YAMLMap{constructor(e){super(e),this.tag=o.tag}add(e){let t;t=s.isPair(e)?e:"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new r.Pair(e.key,null):new r.Pair(e,null),i.findPair(this.items,t.key)||this.items.push(t)}get(e,t){const n=i.findPair(this.items,e);return!t&&s.isPair(n)?s.isScalar(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=i.findPair(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new r.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}o.tag="tag:yaml.org,2002:set";const a={collection:"map",identify:e=>e instanceof Set,nodeClass:o,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(s.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new o,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:s}=n,i=new o(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof s&&(e=s.call(t,e,e)),i.items.push(r.createPair(e,null,n));return i}};t.YAMLSet=o,t.set=a},7714:(e,t,n)=>{"use strict";var s=n(5260);function r(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*r(60)+r(t)),r(0));return"-"===n?r(-1)*i:i}function i(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return s.stringifyNumber(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const o={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>r(e,n),stringify:i},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>r(e,!1),stringify:i},c={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(c.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,o,a,l]=t.map(Number),u=t[7]?Number((t[7]+"00").substr(1,3)):0;let d=Date.UTC(n,s-1,i,o||0,a||0,l||0,u);const h=t[8];if(h&&"Z"!==h){let e=r(h,!1);Math.abs(e)<30&&(e*=60),d-=6e4*e}return new Date(d)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};t.floatTime=a,t.intTime=o,t.timestamp=c},4112:(e,t)=>{"use strict";const n="block",s="quoted";function r(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}t.FOLD_BLOCK=n,t.FOLD_FLOW="flow",t.FOLD_QUOTED=s,t.foldFlowLines=function(e,t,i="flow",{indentAtStart:o,lineWidth:a=80,minContentWidth:c=20,onFold:l,onOverflow:u}={}){if(!a||a<0)return e;const d=Math.max(1+c,1+a-t.length);if(e.length<=d)return e;const h=[],p={};let f,m,g=a-t.length;"number"==typeof o&&(o>a-Math.max(2,c)?h.push(0):g=a-o);let y,v=!1,b=-1,w=-1,$=-1;for(i===n&&(b=r(e,b),-1!==b&&(g=b+d));y=e[b+=1];){if(i===s&&"\\"===y){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}$=b}if("\n"===y)i===n&&(b=r(e,b)),g=b+d,f=void 0;else{if(" "===y&&m&&" "!==m&&"\n"!==m&&"\t"!==m){const t=e[b+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=b)}if(b>=g)if(f)h.push(f),g=f+d,f=void 0;else if(i===s){for(;" "===m||"\t"===m;)m=y,y=e[b+=1],v=!0;const t=b>$+1?b-2:w-1;if(p[t])return e;h.push(t),p[t]=!0,g=t+d,f=void 0}else v=!0}m=y}if(v&&u&&u(),0===h.length)return e;l&&l();let x=e.slice(0,h[0]);for(let n=0;n<h.length;++n){const r=h[n],o=h[n+1]||e.length;0===r?x=`\n${t}${e.slice(0,o)}`:(i===s&&p[r]&&(x+=`${e[r]}\\`),x+=`\n${t}${e.slice(r+1,o)}`)}return x}},611:(e,t,n)=>{"use strict";var s=n(1903),r=n(466),i=n(8463),o=n(8431);t.createStringifyContext=function(e,t){const n=Object.assign({blockQuote:!0,commentString:i.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}},t.stringify=function(e,t,n,i){if(r.isPair(e))return e.toString(t,n,i);if(r.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const c=r.isNode(e)?e:t.doc.createNode(e,{onTagObj:e=>a=e});a||(a=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,s;if(r.isScalar(t)){s=t.value;const r=e.filter((e=>e.identify?.(s)));n=r.find((e=>e.format===t.format))??r.find((e=>!e.format))}else s=t,n=e.find((e=>e.nodeClass&&s instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(t.doc.schema.tags,c));const l=function(e,t,{anchors:n,doc:i}){if(!i.directives)return"";const o=[],a=(r.isScalar(e)||r.isCollection(e))&&e.anchor;a&&s.anchorIsValid(a)&&(n.add(a),o.push(`&${a}`));const c=e.tag?e.tag:t.default?null:t.tag;return c&&o.push(i.directives.tagString(c)),o.join(" ")}(c,a,t);l.length>0&&(t.indentAtStart=(t.indentAtStart??0)+l.length+1);const u="function"==typeof a.stringify?a.stringify(c,t,n,i):r.isScalar(c)?o.stringifyString(c,t,n,i):c.toString(t,n,i);return l?r.isScalar(c)||"{"===u[0]||"["===u[0]?`${l} ${u}`:`${l}\n${t.indent}${u}`:u}},240:(e,t,n)=>{"use strict";var s=n(3365),r=n(466),i=n(611),o=n(8463);function a({comment:e,items:t},n,{blockItemPrefix:s,flowChars:a,itemIndent:c,onChompKeep:u,onComment:d}){const{indent:h,options:{commentString:p}}=n,f=Object.assign({},n,{indent:c,type:null});let m=!1;const g=[];for(let e=0;e<t.length;++e){const a=t[e];let u=null;if(r.isNode(a))!m&&a.spaceBefore&&g.push(""),l(n,g,a.commentBefore,m),a.comment&&(u=a.comment);else if(r.isPair(a)){const e=r.isNode(a.key)?a.key:null;e&&(!m&&e.spaceBefore&&g.push(""),l(n,g,e.commentBefore,m))}m=!1;let d=i.stringify(a,f,(()=>u=null),(()=>m=!0));u&&(d+=o.lineComment(d,c,p(u))),m&&u&&(m=!1),g.push(s+d)}let y;if(0===g.length)y=a.start+a.end;else{y=g[0];for(let e=1;e<g.length;++e){const t=g[e];y+=t?`\n${h}${t}`:"\n"}}return e?(y+="\n"+o.indentComment(p(e),h),d&&d()):m&&u&&u(),y}function c({comment:e,items:t},n,{flowChars:a,itemIndent:c,onComment:u}){const{indent:d,indentStep:h,options:{commentString:p}}=n;c+=h;const f=Object.assign({},n,{indent:c,inFlow:!0,type:null});let m=!1,g=0;const y=[];for(let e=0;e<t.length;++e){const s=t[e];let a=null;if(r.isNode(s))s.spaceBefore&&y.push(""),l(n,y,s.commentBefore,!1),s.comment&&(a=s.comment);else if(r.isPair(s)){const e=r.isNode(s.key)?s.key:null;e&&(e.spaceBefore&&y.push(""),l(n,y,e.commentBefore,!1),e.comment&&(m=!0));const t=r.isNode(s.value)?s.value:null;t?(t.comment&&(a=t.comment),t.commentBefore&&(m=!0)):null==s.value&&e&&e.comment&&(a=e.comment)}a&&(m=!0);let u=i.stringify(s,f,(()=>a=null));e<t.length-1&&(u+=","),a&&(u+=o.lineComment(u,c,p(a))),!m&&(y.length>g||u.includes("\n"))&&(m=!0),y.push(u),g=y.length}let v;const{start:b,end:w}=a;if(0===y.length)v=b+w;else if(m||(m=y.reduce(((e,t)=>e+t.length+2),2)>s.Collection.maxFlowStringSingleLineLength),m){v=b;for(const e of y)v+=e?`\n${h}${d}${e}`:"\n";v+=`\n${d}${w}`}else v=`${b} ${y.join(" ")} ${w}`;return e&&(v+=o.lineComment(v,p(e),d),u&&u()),v}function l({indent:e,options:{commentString:t}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const r=o.indentComment(t(s),e);n.push(r.trimStart())}}t.stringifyCollection=function(e,t,n){return(t.inFlow??e.flow?c:a)(e,t,n)}},8463:(e,t)=>{"use strict";function n(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}t.indentComment=n,t.lineComment=(e,t,s)=>e.endsWith("\n")?n(s,t):s.includes("\n")?"\n"+n(s,t):(e.endsWith(" ")?"":" ")+s,t.stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#")},9957:(e,t,n)=>{"use strict";var s=n(466),r=n(611),i=n(8463);t.stringifyDocument=function(e,t){const n=[];let o=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),o=!0):e.directives.docStart&&(o=!0)}o&&n.push("---");const a=r.createStringifyContext(e,t),{commentString:c}=a.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=c(e.commentBefore);n.unshift(i.indentComment(t,""))}let l=!1,u=null;if(e.contents){if(s.isNode(e.contents)){if(e.contents.spaceBefore&&o&&n.push(""),e.contents.commentBefore){const t=c(e.contents.commentBefore);n.push(i.indentComment(t,""))}a.forceBlockIndent=!!e.comment,u=e.contents.comment}const t=u?void 0:()=>l=!0;let d=r.stringify(e.contents,a,(()=>u=null),t);u&&(d+=i.lineComment(d,"",c(u))),"|"!==d[0]&&">"!==d[0]||"---"!==n[n.length-1]?n.push(d):n[n.length-1]=`--- ${d}`}else n.push(r.stringify(e.contents,a));if(e.directives?.docEnd)if(e.comment){const t=c(e.comment);t.includes("\n")?(n.push("..."),n.push(i.indentComment(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&l&&(t=t.replace(/^\n+/,"")),t&&(l&&!u||""===n[n.length-1]||n.push(""),n.push(i.indentComment(c(t),"")))}return n.join("\n")+"\n"}},5260:(e,t)=>{"use strict";t.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const r="number"==typeof s?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}},8843:(e,t,n)=>{"use strict";var s=n(466),r=n(9150),i=n(611),o=n(8463);t.stringifyPair=function({key:e,value:t},n,a,c){const{allNullValues:l,doc:u,indent:d,indentStep:h,options:{commentString:p,indentSeq:f,simpleKeys:m}}=n;let g=s.isNode(e)&&e.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(s.isCollection(e))throw new Error("With simple keys, collection cannot be used as a key value")}let y=!m&&(!e||g&&null==t&&!n.inFlow||s.isCollection(e)||(s.isScalar(e)?e.type===r.Scalar.BLOCK_FOLDED||e.type===r.Scalar.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(m||!l),indent:d+h});let v=!1,b=!1,w=i.stringify(e,n,(()=>v=!0),(()=>b=!0));if(!y&&!n.inFlow&&w.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(l||null==t)return v&&a&&a(),""===w?"?":y?`? ${w}`:w}else if(l&&!m||null==t&&y)return w=`? ${w}`,g&&!v?w+=o.lineComment(w,n.indent,p(g)):b&&c&&c(),w;v&&(g=null),y?(g&&(w+=o.lineComment(w,n.indent,p(g))),w=`? ${w}\n${d}:`):(w=`${w}:`,g&&(w+=o.lineComment(w,n.indent,p(g))));let $="",x=null;if(s.isNode(t)){if(t.spaceBefore&&($="\n"),t.commentBefore){const e=p(t.commentBefore);$+=`\n${o.indentComment(e,n.indent)}`}x=t.comment}else t&&"object"==typeof t&&(t=u.createNode(t));n.implicitKey=!1,y||g||!s.isScalar(t)||(n.indentAtStart=w.length+1),b=!1,f||!(h.length>=2)||n.inFlow||y||!s.isSeq(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let k=!1;const _=i.stringify(t,n,(()=>k=!0),(()=>b=!0));let E=" ";return $||g?E=""!==_||n.inFlow?`${$}\n${n.indent}`:"\n"===$?"\n\n":$:!y&&s.isCollection(t)?("["===_[0]||"{"===_[0])&&!_.includes("\n")||(E=`\n${n.indent}`):""!==_&&"\n"!==_[0]||(E=""),w+=E+_,n.inFlow?k&&a&&a():x&&!k?w+=o.lineComment(w,n.indent,p(x)):b&&c&&c(),w}},8431:(e,t,n)=>{"use strict";var s=n(9150),r=n(4112);const i=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),o=e=>/^(%|---|\.\.\.)/m.test(e);function a(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,a=t.options.doubleQuotedMinMultiLineLength,c=t.indent||(o(e)?"  ":"");let l="",u=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(l+=n.slice(u,e)+"\\ ",e+=1,u=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{l+=n.slice(u,e);const t=n.substr(e+2,4);switch(t){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:"00"===t.substr(0,2)?l+="\\x"+t.substr(2):l+=n.substr(e,6)}e+=5,u=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<a)e+=1;else{for(l+=n.slice(u,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)l+="\n",e+=2;l+=c," "===n[e+2]&&(l+="\\"),e+=1,u=e+1}break;default:e+=1}return l=u?l+n.slice(u):n,s?l:r.foldFlowLines(l,c,r.FOLD_QUOTED,i(t))}function c(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return a(e,t);const n=t.indent||(o(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:r.foldFlowLines(s,n,r.FOLD_FLOW,i(t))}function l(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=a;else{const t=e.includes('"'),r=e.includes("'");s=t&&!r?c:r&&!t?a:n?c:a}return s(e,t)}function u({comment:e,type:t,value:n},a,c,u){const{blockQuote:d,commentString:h,lineWidth:p}=a.options;if(!d||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return l(n,a);const f=a.indent||(a.forceBlockIndent||o(n)?"  ":""),m="literal"===d||"folded"!==d&&t!==s.Scalar.BLOCK_FOLDED&&(t===s.Scalar.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,r=e.length;if(r<=s)return!1;for(let t=0,n=0;t<r;++t)if("\n"===e[t]){if(t-n>s)return!0;if(n=t+1,r-n<=s)return!1}return!0}(n,p,f.length));if(!n)return m?"|\n":">\n";let g,y;for(y=n.length;y>0;--y){const e=n[y-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let v=n.substring(y);const b=v.indexOf("\n");-1===b?g="-":n===v||b!==v.length-1?(g="+",u&&u()):g="",v&&(n=n.slice(0,-v.length),"\n"===v[v.length-1]&&(v=v.slice(0,-1)),v=v.replace(/\n+(?!\n|$)/g,`$&${f}`));let w,$=!1,x=-1;for(w=0;w<n.length;++w){const e=n[w];if(" "===e)$=!0;else{if("\n"!==e)break;x=w}}let k=n.substring(0,x<w?x+1:w);k&&(n=n.substring(k.length),k=k.replace(/\n+/g,`$&${f}`));let _=(m?"|":">")+($?f?"2":"1":"")+g;return e&&(_+=" "+h(e.replace(/ ?[\r\n]+/g," ")),c&&c()),m?`${_}\n${f}${k}${n=n.replace(/\n+/g,`$&${f}`)}${v}`:(n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`),`${_}\n${f}${r.foldFlowLines(`${k}${n}${v}`,f,r.FOLD_BLOCK,i(a))}`)}t.stringifyString=function(e,t,n,d){const{implicitKey:h,inFlow:p}=t,f="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:m}=e;m!==s.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(m=s.Scalar.QUOTE_DOUBLE);const g=e=>{switch(e){case s.Scalar.BLOCK_FOLDED:case s.Scalar.BLOCK_LITERAL:return h||p?l(f.value,t):u(f,t,n,d);case s.Scalar.QUOTE_DOUBLE:return a(f.value,t);case s.Scalar.QUOTE_SINGLE:return c(f.value,t);case s.Scalar.PLAIN:return function(e,t,n,a){const{type:c,value:d}=e,{actualString:h,implicitKey:p,indent:f,inFlow:m}=t;if(p&&/[\n[\]{},]/.test(d)||m&&/[[\]{},]/.test(d))return l(d,t);if(!d||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(d))return p||m||!d.includes("\n")?l(d,t):u(e,t,n,a);if(!p&&!m&&c!==s.Scalar.PLAIN&&d.includes("\n"))return u(e,t,n,a);if(""===f&&o(d))return t.forceBlockIndent=!0,u(e,t,n,a);const g=d.replace(/\n+/g,`$&\n${f}`);if(h){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(g),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return l(d,t)}return p?g:r.foldFlowLines(g,f,r.FOLD_FLOW,i(t))}(f,t,n,d);default:return null}};let y=g(m);if(null===y){const{defaultKeyType:e,defaultStringType:n}=t.options,s=h&&e||n;if(y=g(s),null===y)throw new Error(`Unsupported default string type ${s}`)}return y}},1381:(e,t,n)=>{"use strict";var s=n(466);const r=Symbol("break visit"),i=Symbol("skip children"),o=Symbol("remove node");function a(e,t){const n=d(t);s.isDocument(e)?c(null,e.contents,n,Object.freeze([e]))===o&&(e.contents=null):c(null,e,n,Object.freeze([]))}function c(e,t,n,i){const a=h(e,t,n,i);if(s.isNode(a)||s.isPair(a))return p(e,i,a),c(e,a,n,i);if("symbol"!=typeof a)if(s.isCollection(t)){i=Object.freeze(i.concat(t));for(let e=0;e<t.items.length;++e){const s=c(e,t.items[e],n,i);if("number"==typeof s)e=s-1;else{if(s===r)return r;s===o&&(t.items.splice(e,1),e-=1)}}}else if(s.isPair(t)){i=Object.freeze(i.concat(t));const e=c("key",t.key,n,i);if(e===r)return r;e===o&&(t.key=null);const s=c("value",t.value,n,i);if(s===r)return r;s===o&&(t.value=null)}return a}async function l(e,t){const n=d(t);s.isDocument(e)?await u(null,e.contents,n,Object.freeze([e]))===o&&(e.contents=null):await u(null,e,n,Object.freeze([]))}async function u(e,t,n,i){const a=await h(e,t,n,i);if(s.isNode(a)||s.isPair(a))return p(e,i,a),u(e,a,n,i);if("symbol"!=typeof a)if(s.isCollection(t)){i=Object.freeze(i.concat(t));for(let e=0;e<t.items.length;++e){const s=await u(e,t.items[e],n,i);if("number"==typeof s)e=s-1;else{if(s===r)return r;s===o&&(t.items.splice(e,1),e-=1)}}}else if(s.isPair(t)){i=Object.freeze(i.concat(t));const e=await u("key",t.key,n,i);if(e===r)return r;e===o&&(t.key=null);const s=await u("value",t.value,n,i);if(s===r)return r;s===o&&(t.value=null)}return a}function d(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function h(e,t,n,r){return"function"==typeof n?n(e,t,r):s.isMap(t)?n.Map?.(e,t,r):s.isSeq(t)?n.Seq?.(e,t,r):s.isPair(t)?n.Pair?.(e,t,r):s.isScalar(t)?n.Scalar?.(e,t,r):s.isAlias(t)?n.Alias?.(e,t,r):void 0}function p(e,t,n){const r=t[t.length-1];if(s.isCollection(r))r.items[e]=n;else if(s.isPair(r))"key"===e?r.key=n:r.value=n;else{if(!s.isDocument(r)){const e=s.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}a.BREAK=r,a.SKIP=i,a.REMOVE=o,l.BREAK=r,l.SKIP=i,l.REMOVE=o,t.visit=a,t.visitAsync=l},3267:(e,t,n)=>{"use strict";n.d(t,{mY:()=>d});var s=n(7461);const{program:r,createCommand:i,createArgument:o,createOption:a,CommanderError:c,InvalidArgumentError:l,InvalidOptionArgumentError:u,Command:d,Argument:h,Option:p,Help:f}=s},7441:(e,t,n)=>{"use strict";n.d(t,{TU:()=>F});let s={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const r=/[&<>"']/,i=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=e=>c[e];function u(e,t){if(t){if(r.test(e))return e.replace(i,l)}else if(o.test(e))return e.replace(a,l);return e}const d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(d,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const p=/(^|[^\[])\^/g;function f(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,s)=>(s=(s=s.source||s).replace(p,"$1"),e=e.replace(t,s),n),getRegex:()=>new RegExp(e,t)};return n}const m=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(e,t,n){if(e){let e;try{e=decodeURIComponent(h(n)).replace(m,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){v[" "+e]||(b.test(e)?v[" "+e]=e+"/":v[" "+e]=E(e,"/",!0));const n=-1===(e=v[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?n?t:e.replace($,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const v={},b=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,$=/^([^:]+:\/*[^/]*)[\s\S]*$/,x={exec:function(){}};function k(e){let t,n,s=1;for(;s<arguments.length;s++)for(n in t=arguments[s],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let s=!1,r=t;for(;--r>=0&&"\\"===n[r];)s=!s;return s?"|":" |"})).split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function E(e,t,n){const s=e.length;if(0===s)return"";let r=0;for(;r<s;){const i=e.charAt(s-r-1);if(i!==t||n){if(i===t||!n)break;r++}else r++}return e.slice(0,s-r)}function S(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function N(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function O(e,t,n,s){const r=t.href,i=t.title?u(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:n,href:r,title:i,text:o,tokens:s.inlineTokens(o,[])};return s.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:i,text:u(o)}}class C{constructor(e){this.options=e||s}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:E(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const s=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=s.length?e.slice(s.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=E(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,r,i,o,a,c,l,u,d,h,p,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const y=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=y.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(i=2,h=l.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,h=l.slice(i),i+=t[1].length),a=!1,!l&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),s=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(d=e.split("\n",1)[0],l=d,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(l))&&!o.test(l)&&!t.test(l)&&!s.test(e);){if(l.search(/[^ ]/)>=i||!l.trim())h+="\n"+l.slice(i);else{if(a)break;h+="\n"+l}a||l.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1)}}g.loose||(c?g.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(r="[ ] "!==s[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!s,checked:r,loose:!1,text:h}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const v=g.items.length;for(o=0;o<v;o++){this.lexer.state.top=!1,g.items[o].tokens=this.lexer.blockTokens(g.items[o].text,[]);const e=g.items[o].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[o].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:_(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,s,r,i,o=e.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(o=e.rows.length,n=0;n<o;n++)e.rows[n]=_(e.rows[n],e.header.length).map((e=>({text:e})));for(o=e.header.length,s=0;s<o;s++)e.header[s].tokens=[],this.lexer.inline(e.header[s].text,e.header[s].tokens);for(o=e.rows.length,s=0;s<o;s++)for(i=e.rows[s],r=0;r<i.length;r++)i[r].tokens=[],this.lexer.inline(i[r].text,i[r].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:u(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=E(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let s=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])s++;else if(e[r]===t[1]&&(s--,s<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),O(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return O(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s)return;if(s[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=s[0].length-1;let r,i,o=n,a=0;const c="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(s=c.exec(t));){if(r=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!r)continue;if(i=r.length,s[3]||s[4]){o+=i;continue}if((s[5]||s[6])&&n%3&&!((n+i)%3)){a+=i;continue}if(o-=i,o>0)continue;if(i=Math.min(i,i+o+a),Math.min(n,i)%2){const t=e.slice(1,n+s.index+i);return{type:"em",raw:e.slice(0,n+s.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+s.index+i-1);return{type:"strong",raw:e.slice(0,n+s.index+i+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),s=/^ /.test(e)&&/ $/.test(e);return n&&s&&(e=e.substring(1,e.length-1)),e=u(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,s;return"@"===n[2]?(e=u(this.options.mangle?t(n[1]):n[1]),s="mailto:"+e):(e=u(n[1]),s=e),{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,s;if("@"===n[2])e=u(this.options.mangle?t(n[0]):n[0]),s="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=u(n[0]),s="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):u(n[0]):n[0]:u(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const A={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:x,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};A.def=f(A.def).replace("label",A._label).replace("title",A._title).getRegex(),A.bullet=/(?:[*+-]|\d{1,9}[.)])/,A.listItemStart=f(/^( *)(bull) */).replace("bull",A.bullet).getRegex(),A.list=f(A.list).replace(/bull/g,A.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+A.def.source+")").getRegex(),A._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",A._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,A.html=f(A.html,"i").replace("comment",A._comment).replace("tag",A._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),A.paragraph=f(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.blockquote=f(A.blockquote).replace("paragraph",A.paragraph).getRegex(),A.normal=k({},A),A.gfm=k({},A.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),A.gfm.table=f(A.gfm.table).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.gfm.paragraph=f(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",A.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.pedantic=k({},A.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",A._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x,paragraph:f(A.normal._paragraph).replace("hr",A.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",A.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const T={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function P(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function I(e){let t,n,s="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),s+="&#"+n+";";return s}T._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",T.punctuation=f(T.punctuation).replace(/punctuation/g,T._punctuation).getRegex(),T.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,T.escapedEmSt=/\\\*|\\_/g,T._comment=f(A._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),T.emStrong.lDelim=f(T.emStrong.lDelim).replace(/punct/g,T._punctuation).getRegex(),T.emStrong.rDelimAst=f(T.emStrong.rDelimAst,"g").replace(/punct/g,T._punctuation).getRegex(),T.emStrong.rDelimUnd=f(T.emStrong.rDelimUnd,"g").replace(/punct/g,T._punctuation).getRegex(),T._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,T._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,T._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,T.autolink=f(T.autolink).replace("scheme",T._scheme).replace("email",T._email).getRegex(),T._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,T.tag=f(T.tag).replace("comment",T._comment).replace("attribute",T._attribute).getRegex(),T._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,T._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,T._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,T.link=f(T.link).replace("label",T._label).replace("href",T._href).replace("title",T._title).getRegex(),T.reflink=f(T.reflink).replace("label",T._label).replace("ref",A._label).getRegex(),T.nolink=f(T.nolink).replace("ref",A._label).getRegex(),T.reflinkSearch=f(T.reflinkSearch,"g").replace("reflink",T.reflink).replace("nolink",T.nolink).getRegex(),T.normal=k({},T),T.pedantic=k({},T.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",T._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",T._label).getRegex()}),T.gfm=k({},T.normal,{escape:f(T.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),T.gfm.url=f(T.gfm.url,"i").replace("email",T.gfm._extended_email).getRegex(),T.breaks=k({},T.gfm,{br:f(T.br).replace("{2,}","*").getRegex(),text:f(T.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class j{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||s,this.options.tokenizer=this.options.tokenizer||new C,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:A.normal,inline:T.normal};this.options.pedantic?(t.block=A.pedantic,t.inline=T.pedantic):this.options.gfm&&(t.block=A.gfm,this.options.breaks?t.inline=T.breaks:t.inline=T.gfm),this.tokenizer.rules=t}static get rules(){return{block:A,inline:T}}static lex(e,t){return new j(t).lex(e)}static lexInline(e,t){return new j(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,s,r,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(n):(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+="\n"+n.raw,s.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))s=t[t.length-1],i&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),i=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,s,r,i,o,a,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+N("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+N("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,I))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,I))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,P))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class L{constructor(e){this.options=e||s}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,s);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+u(s,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,s){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+s.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const s=t?"ol":"ul";return"<"+s+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+s+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=y(this.options.sanitize,this.options.baseUrl,e)))return n;let s='<a href="'+u(e)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(null===(e=y(this.options.sanitize,this.options.baseUrl,e)))return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class R{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class M{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do{s++,n=e+"-"+s}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class D{constructor(e){this.options=e||s,this.options.renderer=this.options.renderer||new L,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new R,this.slugger=new M}static parse(e,t){return new D(t).parse(e)}static parseInline(e,t){return new D(t).parseInline(e)}parse(e,t=!0){let n,s,r,i,o,a,c,l,u,d,p,f,m,g,y,v,b,w,$,x="";const k=e.length;for(n=0;n<k;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&($=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==$||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))x+=$||"";else switch(d.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(d.tokens),d.depth,h(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(l="",c="",i=d.header.length,s=0;s<i;s++)c+=this.renderer.tablecell(this.parseInline(d.header[s].tokens),{header:!0,align:d.align[s]});for(l+=this.renderer.tablerow(c),u="",i=d.rows.length,s=0;s<i;s++){for(a=d.rows[s],c="",o=a.length,r=0;r<o;r++)c+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(c)}x+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(d.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(p=d.ordered,f=d.start,m=d.loose,i=d.items.length,u="",s=0;s<i;s++)y=d.items[s],v=y.checked,b=y.task,g="",y.task&&(w=this.renderer.checkbox(v),m?y.tokens.length>0&&"paragraph"===y.tokens[0].type?(y.tokens[0].text=w+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&"text"===y.tokens[0].tokens[0].type&&(y.tokens[0].tokens[0].text=w+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:w}):g+=w),g+=this.parse(y.tokens,m),u+=this.renderer.listitem(g,b,v);x+=this.renderer.list(u,p,f);continue;case"html":x+=this.renderer.html(d.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<k&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);x+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,s,r,i="";const o=e.length;for(n=0;n<o;n++)if(s=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(r=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))i+=r||"";else switch(s.type){case"escape":case"text":i+=t.text(s.text);break;case"html":i+=t.html(s.text);break;case"link":i+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break;case"image":i+=t.image(s.href,s.title,s.text);break;case"strong":i+=t.strong(this.parseInline(s.tokens,t));break;case"em":i+=t.em(this.parseInline(s.tokens,t));break;case"codespan":i+=t.codespan(s.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(s.tokens,t));break;default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}}function F(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),S(t=k({},F.defaults,t||{})),n){const s=t.highlight;let r;try{r=j.lex(e,t)}catch(e){return n(e)}const i=function(e){let i;if(!e)try{t.walkTokens&&F.walkTokens(r,t.walkTokens),i=D.parse(r,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,i)};if(!s||s.length<3)return i();if(delete t.highlight,!r.length)return i();let o=0;return F.walkTokens(r,(function(e){"code"===e.type&&(o++,setTimeout((()=>{s(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),o--,0===o&&i()}))}),0))})),void(0===o&&i())}try{const n=j.lex(e,t);return t.walkTokens&&F.walkTokens(n,t.walkTokens),D.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}F.options=F.setOptions=function(e){var t;return k(F.defaults,e),t=F.defaults,s=t,F},F.getDefaults=function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},F.defaults=s,F.use=function(...e){const t=k({},...e),n=F.defaults.extensions||{renderers:{},childTokens:{}};let s;e.forEach((e=>{if(e.extensions&&(s=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;n.renderers[e.name]=t?function(...n){let s=e.renderer.apply(this,n);return!1===s&&(s=t.apply(this,n)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");n[e.level]?n[e.level].unshift(e.tokenizer):n[e.level]=[e.tokenizer],e.start&&("block"===e.level?n.startBlock?n.startBlock.push(e.start):n.startBlock=[e.start]:"inline"===e.level&&(n.startInline?n.startInline.push(e.start):n.startInline=[e.start]))}e.childTokens&&(n.childTokens[e.name]=e.childTokens)}))),e.renderer){const n=F.defaults.renderer||new L;for(const t in e.renderer){const s=n[t];n[t]=(...r)=>{let i=e.renderer[t].apply(n,r);return!1===i&&(i=s.apply(n,r)),i}}t.renderer=n}if(e.tokenizer){const n=F.defaults.tokenizer||new C;for(const t in e.tokenizer){const s=n[t];n[t]=(...r)=>{let i=e.tokenizer[t].apply(n,r);return!1===i&&(i=s.apply(n,r)),i}}t.tokenizer=n}if(e.walkTokens){const n=F.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t),n&&n.call(this,t)}}s&&(t.extensions=n),F.setOptions(t)}))},F.walkTokens=function(e,t){for(const n of e)switch(t.call(F,n),n.type){case"table":for(const e of n.header)F.walkTokens(e.tokens,t);for(const e of n.rows)for(const n of e)F.walkTokens(n.tokens,t);break;case"list":F.walkTokens(n.items,t);break;default:F.defaults.extensions&&F.defaults.extensions.childTokens&&F.defaults.extensions.childTokens[n.type]?F.defaults.extensions.childTokens[n.type].forEach((function(e){F.walkTokens(n[e],t)})):n.tokens&&F.walkTokens(n.tokens,t)}},F.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");S(t=k({},F.defaults,t||{}));try{const n=j.lexInline(e,t);return t.walkTokens&&F.walkTokens(n,t.walkTokens),D.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}},F.Parser=D,F.parser=D.parse,F.Renderer=L,F.TextRenderer=R,F.Lexer=j,F.lexer=j.lex,F.Tokenizer=C,F.Slugger=M,F.parse=F,F.options,F.setOptions,F.use,F.walkTokens,F.parseInline,D.parse,j.lex},4576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var s=n(6013);const r=new(n(1581))({useDefaults:!0,allowUnionTypes:!0}),i=e=>e.replaceAll(/[^a-zA-Z\d-]+/g,"-").toLowerCase(),o=(e,t)=>{const n=e.split(":");let s=0;if(n[0].startsWith("file")){if(s=Number.parseInt(n[0].slice(4)),isNaN(s))throw`Unexpected file index ${s} which is not a valid number`;n.splice(0,1)}const r=n.map((e=>{const t=Number.parseInt(e);if(isNaN(t))throw`Unexpected location ${e} which is not a valid number`;return t}));switch(r.length){case 0:return{file:s};case 1:return{file:s,start:{line:r[0]}};case 2:return{file:s,start:{line:r[0],column:r[1]},end:t?{line:r[0],column:r[1]+t.codeLength}:void 0};case 3:return{file:s,start:{line:r[0],column:r[1]},end:{line:r[0],column:r[1]+r[2]}};case 4:return{file:s,start:{line:r[0],column:r[1]},end:{line:r[2],column:r[3]}};default:throw`Invalid location specifier count ${r.length}, expecting 0 / 1 / 2 / 3 / 4`}};function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var s,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}var c;!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(c||(c={}));var l={type:"xstate.init"};function u(e){return void 0===e?[]:[].concat(e)}function d(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function h(e){return function(t){return e===t}}function p(e){return"string"==typeof e?{type:e}:e}function f(e,t){return{value:e,context:t,actions:[],changed:!1,matches:h(e)}}function m(e,t,n){var s=t,r=!1;return[e.filter((function(e){if("xstate.assign"===e.type){r=!0;var t=Object.assign({},s);return"function"==typeof e.assignment?t=e.assignment(s,n):Object.keys(e.assignment).forEach((function(r){t[r]="function"==typeof e.assignment[r]?e.assignment[r](s,n):e.assignment[r]})),s=t,!1}return!0})),s,r]}function g(e,t){void 0===t&&(t={});var n=a(m(u(e.states[e.initial].entry).map((function(e){return d(e,t.actions)})),e.context,l),2),s=n[0],r=n[1],i={config:e,_options:t,initialState:{value:e.initial,actions:s,context:r,matches:h(e.initial)},transition:function(t,n){var s,r,o="string"==typeof t?{value:t,context:e.context}:t,c=o.value,l=o.context,g=p(n),y=e.states[c];if(y.on){var v=u(y.on[g.type]);try{for(var b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),w=b.next();!w.done;w=b.next()){var $=w.value;if(void 0===$)return f(c,l);var x="string"==typeof $?{target:$}:$,k=x.target,_=x.actions,E=void 0===_?[]:_,S=x.cond,N=void 0===S?function(){return!0}:S,O=void 0===k,C=null!=k?k:c,A=e.states[C];if(N(l,g)){var T=a(m((O?u(E):[].concat(y.exit,E,A.entry).filter((function(e){return e}))).map((function(e){return d(e,i._options.actions)})),l,g),3),P=T[0],I=T[1],j=T[2],L=null!=k?k:c;return{value:L,context:I,actions:P,changed:k!==c||P.length>0||j,matches:h(L)}}}}catch(e){s={error:e}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(s)throw s.error}}}return f(c,l)}};return i}var y=function(e,t){return e.actions.forEach((function(n){var s=n.exec;return s&&s(e.context,t)}))};function v(e){var t=e.initialState,n=c.NotStarted,s=new Set,r={_machine:e,send:function(r){n===c.Running&&(t=e.transition(t,r),y(t,p(r)),s.forEach((function(e){return e(t)})))},subscribe:function(e){return s.add(e),e(t),{unsubscribe:function(){return s.delete(e)}}},start:function(s){if(s){var i="object"==typeof s?s:{context:e.config.context,value:s};t={value:i.value,actions:[],context:i.context,matches:h(i.value)}}else t=e.initialState;return n=c.Running,y(t,l),r},stop:function(){return n=c.Stopped,s.clear(),r},get state(){return t},get status(){return n}};return r}const b=g({id:"ERS",initial:"entityType",states:{entityType:{on:{next:"colon"}},colon:{on:{next:"nameWrapperLeftQuote"}},nameWrapperLeftQuote:{on:{next:"entityName"}},entityName:{on:{next:"nameWrapperRightQuote"}},nameWrapperRightQuote:{on:{next:"predicatesWrapperLeftBracket"}},predicatesWrapperLeftBracket:{on:{next:"predicateAt"}},predicateAt:{on:{next:"predicateKey",alternative:"predicatesWrapperRightBracket"}},predicateKey:{on:{next:"predicateIs"}},predicateIs:{on:{next:"predicateValue"}},predicateValue:{on:{next:"predicateSpace",alternative:"predicatesWrapperRightBracket"}},predicateSpace:{on:{next:"predicateAt"}},predicatesWrapperRightBracket:{on:{next:"end"}},end:{on:{next:"end"}}}}),w=e=>{const t=t=>e.substring(0,t)+"["+e.at(t)+"]"+e.substring(t+1),{fsm:n,next:s,alter:r}=(e=>{const t=v(b).start();return{fsm:t,next:()=>t.send("next"),alter:()=>t.send("alternative")}})(),i={isFullName:!1};let a=-1,c="";for(const[l,u]of[...e,void 0].entries()){let d=!1;do{switch(n.state.value){case"entityType":if(!u){if(0===l)throw"Unexpected empty entity reference specifier";s();break}if(!/[a-zA-Z ]/.test(u)){s();break}d=!0;break;case"colon":if(!u)throw"Unexpected end of entity reference specifier, expecting :";if(":"!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting :`;i.type=e.substring(0,l).toLowerCase(),d=!0,s();break;case"nameWrapperLeftQuote":if(!u)throw"Unexpected end of entity reference specifier, expecting left '";if("'"!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting left '`;d=!0,s(),a=l+1;break;case"entityName":if(u||s(),"'"===u){s();break}d=!0;break;case"nameWrapperRightQuote":if(!u)throw"Unexpected end of entity reference specifier, expecting right '";if("'"!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting right '`;i.name=e.substring(a,l),i.name.includes(".")&&(i.isFullName=!0),d=!0,s();break;case"predicatesWrapperLeftBracket":if(!u){d=!0;break}if("["!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting [`;d=!0,s();break;case"predicateAt":if(!u)throw"Unexpected end of entity reference specifier, expecting @";if("@"!==u){if("]"===u){r();break}throw`Unexpected char '${u}' at ${t(l)}, expecting @`}d=!0,s(),a=l+1;break;case"predicateKey":if(!u){s();break}if(!/[a-zA-Z]/.test(u)){s();break}d=!0;break;case"predicateIs":if(!u)throw"Unexpected end of entity reference specifier, expecting =";if("="!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting =`;c=e.substring(a,l),a=l+1,d=!0,s();break;case"predicateValue":{if(!u)throw"Unexpected end of entity reference specifier";let t=!1;if(" "===u&&(t=!0,s()),"]"===u&&(t=!0,r()),t){let t=e.substring(a,l);if(/true|false/.test(t)&&(t="true"===t),"loc"===c&&"boolean"==typeof t)throw"Unexpected key-value pair for loc, expecting location string";(i.predicates||(i.predicates={}))[c]="loc"===c?o(t):t;break}d=!0;break}case"predicateSpace":if(!u)throw"Unexpected end of entity reference specifier";if(" "!==u){if("@"===u){s();break}throw`Unexpected char '${u}' at ${t(l)}, expecting @`}d=!0;break;case"predicatesWrapperRightBracket":if(!u)throw"Unexpected end of entity reference specifier, expecting ]";if("]"!==u)throw`Unexpected char '${u}' at ${t(l)}, expecting ]`;d=!0,s();break;case"end":if(!u){d=!0;break}throw`Unexpected continuing char after index ${t(l)}, entity reference specifier should end here`}}while(!d)}return i},$=r.compile({type:"object",properties:{name:{type:"string"},entity:{type:"object",properties:{type:{type:"string"},extra:{type:"boolean",default:!0},items:{type:"array",uniqueItems:!0,items:{type:"object",properties:{name:{type:"string"},qualified:{type:"string"},loc:{type:"string"},type:{type:"string"},negative:{type:"boolean",default:!1}},required:["name","loc","type"]}}}},relation:{type:"object",properties:{type:{type:"string"},extra:{type:"boolean",default:!1},items:{type:"array",uniqueItems:!0,items:{type:"object",properties:{from:{type:"string"},to:{type:"string"},loc:{type:"string"},negative:{type:"boolean",default:!1}},required:["from","to","loc"]}}}}},required:["name"]}),x=e=>{let t=e.entity?.type;for(const n of e.entity?.items||[])t&&!n.type&&(n.type=t),n.type=n.type.toLowerCase();t=e.relation?.type;for(const n of e.relation?.items||[])t&&!n.type&&(n.type=t),n.type=n.type.toLowerCase();if(!$(e))throw $.errors;for(const t of e.entity?.items||[])t.name=(0,s.Yb)(t.name),t.loc=o(t.loc,t.name),t.declarations&&(t.declarations=t.declarations.forEach((e=>o(e))));for(const t of e.relation?.items||[])if(t.from=w(t.from),t.to=w(t.to),t.loc=o(t.loc),t.src||t.dest)throw"You are using legacy syntax 'src' and 'dest', please use 'from' and 'to' instead";return e.name=i(e.name),e},k=e=>{const t={metaPresented:!1,formatIssue:!1,legacy:!1,unknownDecorator:[],noTest:!1},n=e.split(" ");if(n[0].startsWith("////")){t.metaPresented=!0,4===n[0].length?n.splice(0,1):(t.formatIssue=!0,n[0]=n[0].substring(4));for(let e=0;e<n.length;e++){const s=n[e];if(s.startsWith("@"))switch(s.substring(1)){case"no-test":t.noTest=!0;break;case"ext":if(e+1===n.length)throw"Missing extension name while @ext exists";if(n[e+1].startsWith("@"))throw"Missing extension name while @ext exists or extension name cannot start with @";t.ext=n[e+1],e+=1;break;default:t.unknownDecorator.push(s)}else t.path=s}if(t.path&&t.ext)throw"Path and extension name cannot be assigned at the same time"}else n[0].startsWith("//")&&(t.legacy=!0);return t},_=r.compile({type:"object",properties:{name:{type:"string"},freeForm:{type:"boolean",default:!1}},required:["name"]}),E=e=>{if(!_(e))throw _.errors;return e.name=i(e.name),e};var S=n(1081),N=n(7147),O=n(7441),C=n(3419);const A=g({id:"CBF",initial:"header",states:{header:{on:{next:"description"}},description:{on:{next:"anyQ"}},anyQ:{on:{next:"patternStart",alternative:"anyQ"}},patternStart:{on:{next:"groupName"}},groupName:{on:{next:"anyW",alternative:"any"}},anyW:{on:{next:"ruleTitle",alternative:"anyW"}},ruleTitle:{on:{next:"anyE",alternative:"syntaxTxt"}},syntaxTxt:{on:{next:"anyE"}},anyE:{on:{next:"exampleStart",alternative:"anyE"}},exampleStart:{on:{next:"anyR",alternative:"ruleTitle"}},anyR:{on:{next:"exampleTitle",alternative:"anyR"}},exampleTitle:{on:{next:"anyT"}},anyT:{on:{next:"exampleCode",alternative:"anyT"}},exampleCode:{on:{next:"exampleCode",nextAny:"anyY",alternative:"exampleAssertion"}},exampleAssertion:{on:{next:"anyY"}},anyY:{on:{nextExample:"exampleTitle",nextRule:"ruleTitle",alternative:"anyY"}},any:{on:{next:"any"}}}}),T=e=>{const t=v(A).start();return e&&t.subscribe(e),{fsm:t,next:()=>t.send("next"),alter:()=>t.send("alternative"),goto:t.send}};var P,I;!function(e){e[e.fail=0]="fail",e[e.warning=1]="warning",e[e.pass=2]="pass"}(P||(P={})),function(e){e.syntax="syntax",e.semantic="semantic",e.runtime="runtime",e.supplemental="supplemental"}(I||(I={}));const j=(e,t)=>{if(!e||e.length!==t.length)return P.fail;let n=P.pass;for(let s=0;s<t.length;s++)if(e[s]===t[s]);else{if(e[s].toLowerCase()!==t[s].toLowerCase())return P.fail;n=P.warning}return n};async function L(e,t,n,s,r=/[Jj][Ss][Oo][Nn]|[JjTt][Ss][Xx]?/,i="json / js / jsx / ts / tsx"){const o=new Map;e:for(const a of e){let e;try{e=await N.promises.readFile(a.path,"utf-8")}catch(e){"ENOENT"===e.code?(0,S.vU)(`Cannot find document at ${a.path}`):(0,S.vU)(`Unknown error with errno=${e.errno} and code=${e.code}\n\tat ${a.path}`);continue}let c=1;const l=(e,t=!0)=>{t?(0,S.vU)(`${e}\n\tat ${a.path}:${c}`):(0,S.ZK)(`${e}\n\tat ${a.path}:${c}`)};o.set(a.path,[0,0]);let u=(new O.TU.Lexer).lex(e);for(let e=1;e<u.length;e++)"space"===u[e].type&&(u[e-1].raw+=u[e].raw);u=u.filter((e=>"space"!==e.type)),u.push({type:"space",raw:""});const{fsm:d,next:h,alter:p,goto:f}=T();let m,g,y,v="",b=0;for(const e of u){let o=!1;do{switch(d.state.value){case"header":if("heading"!==e.type){if("space"===e.type){l("Unexpected end of file");continue e}l(`Unexpected token ${e.type}, expect document title '## *'`);continue e}if(2!==e.depth){l("Document title should be heading with depth 2 `## *`");continue e}o=!0,h();break;case"description":if("paragraph"!==e.type){if("space"===e.type){l("Unexpected end of file");continue e}l(`Unexpected token ${e.type}, expect a paragraph right after document title`);continue e}o=!0,h();break;case"anyQ":case"anyW":case"anyE":case"anyR":"heading"===e.type?h():"space"===e.type?o=!0:(o=!0,p());break;case"patternStart":if("heading"===e.type){if(3!==e.depth){l(`Unexpected h${e.depth}, expecting '### Supported Patterns'`);continue e}{const t=j(e.text,"Supported Patterns");if(!t){l(`Unexpected '${e.raw.replaceAll("\n","")}', expecting '### Supported Patterns'`);continue e}t===P.warning&&l(`Preferring 'Supported Patterns' rather than '${e.text}'`,!1),o=!0,h()}}else{if("space"!==e.type){l(`Unexpected '${e.type}', expecting '### Supported Patterns'`);continue e}o=!0}break;case"groupName":if("code"===e.type){if(!j(e.lang,"yaml")){l(`Unexpected '${e.lang}' code fence, expecting 'yaml'`);continue e}try{m=E(C.parse(e.text))}catch(e){l("Failed validation on group meta"),console.error(e);continue e}try{t&&await t(a,m)}catch(e){l("Hook function onGroup throws an error",!1),console.error(e)}o=!0,h()}else{if("space"!==e.type){l(`Unexpected '${e.type}', expecting yaml block`);continue e}o=!0}break;case"ruleTitle":if("heading"===e.type){if(4!==e.depth){l(`Unexpected h${e.depth}, expecting h4`);continue e}{const t=/^([Ss]yntax|[Ss]emantic|[Rr]untime|[Ss]upplemental)(: *)(.*)$/.exec(e.text);if(!t){l(`Unexpected '${e.raw.replaceAll("\n","")}', string should starts with Syntax / Semantic / Runtime / Supplemental`);continue e}{const s=t[1].charCodeAt(0);97<=s&&s<=122&&l(`Preferring uppercase in the first letter rather than ${e.raw.replaceAll("\n","")}`,!1),v=t[1].toLowerCase(),": "!==t[2]&&l(`Preferring one space after the colon rather than ${e.raw.replaceAll("\n","")}`,!1),n&&await n(a,t[1].toLowerCase(),t[3],m),o=!0,j(t[1],"Syntax")?p():h()}}}else{if("space"!==e.type){l(`Unexpected ${e.type}, expecting '#### Syntax/Semantic/Runtime/Supplemental: *'`);continue e}o=!0}break;case"syntaxTxt":if("code"===e.type){if(!j(e.lang,"text")){l(`Unexpected '${e.lang}' code fence, expecting 'text'`);continue e}o=!0,h()}else{if("space"!==e.type){l(`Unexpected ${e.type}, expecting a text block right after to record correlated syntax production rules`);continue e}o=!0}break;case"exampleStart":if("heading"===e.type)if(5===e.depth){const t=j(e.text,"Examples");if(!t){l(`Unexpected ${e.raw.replaceAll("\n","")}, expecting '##### Examples'`);continue e}t===P.warning&&l(`Preferring 'Examples' rather than ${e.text}`,!1),o=!0,h()}else{if("supplemental"!==v){l(`Unexpected h${e.depth}, expecting '##### Examples'`);continue e}p()}else{if("space"!==e.type){l(`Unexpected ${e.type}, expecting '##### Examples'`);continue e}o=!0}break;case"exampleTitle":if("heading"===e.type){if(6!==e.depth){l(`Unexpected h${e.depth}, expecting '###### *'`);continue e}o=!0,h()}else{if("space"!==e.type){l(`Unexpected ${e.type}, expecting '###### *'`);continue e}o=!0}break;case"anyT":if("heading"===e.type)h();else if("code"===e.type)h();else{if("space"===e.type){l("Unexpected end of file");continue e}o=!0,p()}break;case"exampleCode":if("code"===e.type)if(r.test(e.lang??"")){const t=e.text.indexOf("\n"),n=-1===t?e.text:e.text.slice(0,e.text.indexOf("\n"));let s;try{s=k(n)}catch(e){l(e),g={noTest:!0},o=!0,h();break}if(s.formatIssue&&l(`Preferring one space after '////' rather than ${n}`,!1),s.legacy&&l("If you are using legacy syntax '// path/to/file' for customizing file name, please change '//' to '////' and read the latest format.",!1),s.unknownDecorator.length>0&&l(`Unknown code fence meta decorator ${s.unknownDecorator.join(", ")}, these will all be ignored`,!1),0===b?(g={noTest:s.noTest},g.noTest||(y={code:[],assertion:void 0})):s.noTest&&l("Unexpected code fence meta decorator '@no-test', which is only available in the first code fence of an example",!1),!g.noTest){let n;if(s.path)n=s.path;else if(s.ext)n=`file${b}.${s.ext}`;else{const t=e.lang?.toLowerCase();n=`file${b}.${("python"===t?"py":t)??"js"}`}let r=e.text;s.metaPresented&&(r=-1===t?"":e.text.slice(e.text.indexOf("\n")+1)),y.code.push({path:n,content:r})}o=!0,b+=1,h()}else{if(0===b||"yaml"!==e.lang){l(`Unexpected example lang '${e.lang}', expecting ${i}${0===b||g?.noTest?"":" / yaml"}`);continue e}if(g?.noTest){l("Unexpected code fence lang 'yaml', conflicting with '@no-test'");continue e}p()}else if("space"===e.type){if(!g?.noTest){l("Unexpected end of file");continue e}o=!0}else{if(0===b){l(`Unexpected ${e.type}, expecting code fence`);continue e}if(!g?.noTest){l(`Unexpected ${e.type}, assertion block is necessary`);continue e}f("nextAny")}break;case"exampleAssertion":if("code"!==e.type){if("space"===e.type){l("Unexpected end of file");continue e}l(`Unexpected ${e.type}, assertion block is necessary`);continue e}if(!j(e.lang??"","yaml")){l(`Unexpected code fence lang '${e.lang}', expecting 'yaml'`);continue e}try{y.assertion=x(C.parse(e.text))}catch(e){l("Failed validation on case meta"),console.error(e);continue e}try{s&&await s(a,y,m)}catch(e){l("Hook function onTestableCase throws an error",!1),console.error(e)}o=!0,h();break;case"anyY":if(y=void 0,g=void 0,b=0,"heading"===e.type)if(4===e.depth)f("nextRule");else{if(6!==e.depth){l(`Unexpected ${e.type}, expecting an h4 for rule title or h6 for example title`);continue e}f("nextExample")}else"space"===e.type?o=!0:(o=!0,p());break;default:l(`Unexpected FSM state ${d.state.value}, broken state logic`);continue e}}while(!o);c+=(e.raw.match(/\n/g)||[]).length}(0,S.um)(`Parse succeeded at ${a.path}`)}t&&await t(void 0,{name:"END_OF_PROCESS",freeForm:!0})}},6699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var s=n(1081),r=n(7147),i=n(7441);async function o(e){const t=await(async()=>{let e;try{e=await r.promises.readFile("./docs/README.md","utf-8")}catch(e){"ENOENT"===e.code?(0,s.je)("Cannot find README at docs/README.md"):(0,s.je)(`Unknown error with errno=${e.errno} and code=${e.code}\n\tat docs/README.md`)}const t={entity:[],relation:[]},n=(new i.TU.Lexer).lex(e);let o;for(const e of n)switch(e.type){case"heading":2===e.depth&&(o="Entity Categories"===e.text?"entity":"Relation Categories"===e.text?"relation":void 0);break;case"table":if(o)for(const n of e.rows){2!==n.length&&(0,s.je)("Failed to parser docs/README.md"),"link"!==n[0].tokens[0].type&&(0,s.je)("Expecting a link as the first column item");const e=n[0].tokens[0];t[o].push({name:e.text,path:e.href})}}return t})(),n=0===Object.keys(e).length?["entity","relation"]:Object.keys(e),o=[];for(const r of n)if(e[r]&&!0!==e[r])for(const n of e[r]){const e=t[r].filter((e=>e.name.toLowerCase()===n.toLowerCase()));1===e.length?o.push({category:r,prettyName:e[0].name,path:`docs/${e[0].path}`,fileName:e[0].path.substring(e[0].path.indexOf("/")+1,e[0].path.length-3)}):(0,s.vU)(`Nonexistent ${r} type ${n} in docs/README.md`)}else o.push(...t[r].map((e=>({category:r,prettyName:e.name,path:`docs/${e.path}`,fileName:e.path.substring(e.path.indexOf("/")+1,e.path.length-3)}))));return o}},1081:(e,t,n)=>{"use strict";n.d(t,{vU:()=>I,um:()=>R,je:()=>j,ZK:()=>L});const s=(e=0)=>t=>`[${t+e}m`,r=(e=0)=>t=>`[${38+e};5;${t}m`,i=(e=0)=>(t,n,s)=>`[${38+e};2;${t};${n};${s}m`,o=function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,s]of Object.entries(t)){for(const[n,r]of Object.entries(s))t[n]={open:`[${r[0]}m`,close:`[${r[1]}m`},s[n]=t[n],e.set(r[0],r[1]);Object.defineProperty(t,n,{value:s,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",t.color.ansi=s(),t.color.ansi256=r(),t.color.ansi16m=i(),t.bgColor.ansi=s(10),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=i(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const s=Number.parseInt(n,16);return[s>>16&255,s>>8&255,255&s]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,s;if(e>=232)t=(10*(e-232)+8)/255,n=t,s=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,s=r%6/5}const r=2*Math.max(t,n,s);if(0===r)return 30;let i=30+(Math.round(s)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,n,s)=>t.ansi256ToAnsi(t.rgbToAnsi256(e,n,s)),enumerable:!1},hexToAnsi:{value:e=>t.ansi256ToAnsi(t.hexToAnsi256(e)),enumerable:!1}}),t}(),a=o,c=require("node:process"),l=require("node:os"),u=require("node:tty");function d(e,t=c.argv){const n=e.startsWith("-")?"":1===e.length?"-":"--",s=t.indexOf(n+e),r=t.indexOf("--");return-1!==s&&(-1===r||s<r)}const{env:h}=c;let p;function f(e,t={}){return 0!==(n=function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){const s=function(){if("FORCE_COLOR"in h)return"true"===h.FORCE_COLOR?1:"false"===h.FORCE_COLOR?0:0===h.FORCE_COLOR.length?1:Math.min(Number.parseInt(h.FORCE_COLOR,10),3)}();void 0!==s&&(p=s);const r=n?p:s;if(0===r)return 0;if(n){if(d("color=16m")||d("color=full")||d("color=truecolor"))return 3;if(d("color=256"))return 2}if(e&&!t&&void 0===r)return 0;const i=r||0;if("dumb"===h.TERM)return i;if("win32"===c.platform){const e=l.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in h)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((e=>e in h))||"codeship"===h.CI_NAME?1:i;if("TEAMCITY_VERSION"in h)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(h.TEAMCITY_VERSION)?1:0;if("TF_BUILD"in h&&"AGENT_NAME"in h)return 1;if("truecolor"===h.COLORTERM)return 3;if("TERM_PROGRAM"in h){const e=Number.parseInt((h.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(h.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(h.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(h.TERM)||"COLORTERM"in h?1:i}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:n,hasBasic:!0,has256:n>=2,has16m:n>=3};var n}d("no-color")||d("no-colors")||d("color=false")||d("color=never")?p=0:(d("color")||d("colors")||d("color=true")||d("color=always"))&&(p=1);const m={stdout:f({isTTY:u.isatty(1)}),stderr:f({isTTY:u.isatty(2)})};function g(e,t,n){let s=e.indexOf(t);if(-1===s)return e;const r=t.length;let i=0,o="";do{o+=e.substr(i,s-i)+t+n,i=s+r,s=e.indexOf(t,i)}while(-1!==s);return o+=e.slice(i),o}const{stdout:y,stderr:v}=m,b=Symbol("GENERATOR"),w=Symbol("STYLER"),$=Symbol("IS_EMPTY"),x=["ansi","ansi","ansi256","ansi16m"],k=Object.create(null);function _(e){return(e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=y?y.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,_.prototype),t})(e)}Object.setPrototypeOf(_.prototype,Function.prototype);for(const[e,t]of Object.entries(a))k[e]={get(){const n=C(this,O(t.open,t.close,this[w]),this[$]);return Object.defineProperty(this,e,{value:n}),n}};k.visible={get(){const e=C(this,this[w],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const E=(e,t,n,...s)=>"rgb"===e?"ansi16m"===t?a[n].ansi16m(...s):"ansi256"===t?a[n].ansi256(a.rgbToAnsi256(...s)):a[n].ansi(a.rgbToAnsi(...s)):"hex"===e?E("rgb",t,n,...a.hexToRgb(...s)):a[n][e](...s),S=["rgb","hex","ansi256"];for(const e of S)k[e]={get(){const{level:t}=this;return function(...n){const s=O(E(e,x[t],"color",...n),a.color.close,this[w]);return C(this,s,this[$])}}},k["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const s=O(E(e,x[t],"bgColor",...n),a.bgColor.close,this[w]);return C(this,s,this[$])}}};const N=Object.defineProperties((()=>{}),{...k,level:{enumerable:!0,get(){return this[b].level},set(e){this[b].level=e}}}),O=(e,t,n)=>{let s,r;return void 0===n?(s=e,r=t):(s=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:s,closeAll:r,parent:n}},C=(e,t,n)=>{const s=(...e)=>A(s,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(s,N),s[b]=e,s[w]=t,s[$]=n,s},A=(e,t)=>{if(e.level<=0||!t)return e[$]?"":t;let n=e[w];if(void 0===n)return t;const{openAll:s,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=g(t,n.close,n.open),n=n.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,n,s){let r=0,i="";do{const o="\r"===e[s-1];i+=e.substr(r,(o?s-1:s)-r)+t+(o?"\r\n":"\n")+n,r=s+1,s=e.indexOf("\n",r)}while(-1!==s);return i+=e.slice(r),i}(t,r,s,i)),s+t+r};Object.defineProperties(_.prototype,k);const T=_(),P=(_({level:v?v.level:0}),T),I=e=>{console.error(P.black.bgRedBright(" ERROR ")+" "+P.redBright(e))},j=e=>{I(e),process.exit(-1)},L=e=>{console.warn(P.black.bgYellowBright(" WARN ")+" "+e)},R=e=>{console.info(P.white.bgGray(" INFO ")+" "+e)}},8737:(e,t,n)=>{"use strict";var s;n.d(t,{DB:()=>i,Db:()=>r,cT:()=>s}),function(e){e[e.default=0]="default",e[e.understand=1]="understand",e[e.node=2]="node"}(s||(s={}));let r=s.default;function i(e){r=e}},6013:(e,t,n)=>{"use strict";n.d(t,{DB:()=>r.DB,Yb:()=>u});var s=n(6932),r=n(8737);const i=["Anonymous","Modified"],o=new s.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",unpairedTags:i}),a=(e,t)=>{let n="<"+e;return n=Object.keys(t).reduce(((e,n)=>e+` ${n}="${t[n]}"`),n),n+">"},c=["Function","ArrowFunction","Class","CallableSignature","NumberIndexSignature","StringIndexSignature","Namespace","Package"],l=["StringLiteral","NumericLiteral","PrivateIdentifier"],u=e=>{if("string"!=typeof e){if("object"==typeof e){if(c.includes(e.as)){const{as:t}=e,n={as:t};return{payload:n,codeName:"",codeLength:0,printableName:a("Anonymous",n)}}if(l.includes(e.as)){const{raw:t,as:n}=e;let s,i,o=t.length;if("NumericLiteral"===n){const{value:r}=e;if(!r)throw new Error("Missing property value for NumericLiteral as ENRENameModified");s={raw:t,as:n,value:r},i=r}else switch(s={raw:t,as:n},n){case"StringLiteral":o+=2,i=`'${t}'`;break;case"PrivateIdentifier":o+=1,i=`#${t}`}return{payload:s,codeName:i,codeLength:o,get printableName(){switch(r.Db){case r.cT.default:return a("Modified",s);case r.cT.understand:return t;case r.cT.node:return i}}}}throw new Error(`Unexpected property value ${e.as} for ENREName.payload.as`)}throw new Error(`Unsupported type ${typeof e} as payload of ENREName`)}if("<"!==e.charAt(0))return{payload:e,codeName:e,codeLength:e.length,printableName:e};{const t=o.parse(e),n=Object.keys(t);if(1!==n.length||!i.includes(n[0]))throw new Error(`Invalid ENREName XML string ${e}`);if(n[0]===i[0])return u(t[i[0]]);if(n[0]===i[1])return u(t[i[1]])}throw new Error("Unexpected error encountered while building ENREName")}},4775:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e].call(n.exports,n,n.exports,c),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(r,i,o)=>{var a;o&&((a=[]).d=1);var c,l,u,d=new Set,h=r.exports,p=new Promise(((e,t)=>{u=t,l=e}));p[t]=h,p[e]=e=>(a&&e(a),d.forEach(e),p.catch((e=>{}))),r.exports=p,i((r=>{var i;c=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var i=[];i.d=0,r.then((e=>{o[t]=e,s(i)}),(e=>{o[n]=e,s(i)}));var o={};return o[e]=e=>e(i),o}}var a={};return a[e]=e=>{},a[t]=r,a})))(r);var o=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(i=()=>t(o)).r=0;var n=e=>e!==a&&!d.has(e)&&(d.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((t=>t[e](n)))}));return i.r?l:o()}),(e=>(e?u(p[n]=e):l(h),s(a)))),a&&(a.d=0)},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);c.r(n);var s={};r=r||[null,i({}),i([]),i(i)];for(var o=2&t&&e;"object"==typeof o&&!~r.indexOf(o);o=i(o))Object.getOwnPropertyNames(o).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,c.d(n,s),n},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(6391)})();